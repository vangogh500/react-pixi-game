(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r(require("react"),require("path"),require("url"));else if(typeof define==="function"&&define.amd)define("react-pixi-game",["react","path","url"],r);else if(typeof exports==="object")exports["react-pixi-game"]=r(require("react"),require("path"),require("url"));else t["react-pixi-game"]=r(t["react"],t["path"],t["url"])})(this,function(e,t,r){return function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=102)}([function(e,t,r){"use strict";t.__esModule=true;t.autoDetectRenderer=t.Application=t.Filter=t.SpriteMaskFilter=t.Quad=t.RenderTarget=t.ObjectRenderer=t.WebGLManager=t.Shader=t.CanvasRenderTarget=t.TextureUvs=t.VideoBaseTexture=t.BaseRenderTexture=t.RenderTexture=t.BaseTexture=t.Texture=t.Spritesheet=t.CanvasGraphicsRenderer=t.GraphicsRenderer=t.GraphicsData=t.Graphics=t.TextMetrics=t.TextStyle=t.Text=t.SpriteRenderer=t.CanvasTinter=t.CanvasSpriteRenderer=t.Sprite=t.TransformBase=t.TransformStatic=t.Transform=t.Container=t.DisplayObject=t.Bounds=t.glCore=t.WebGLRenderer=t.CanvasRenderer=t.ticker=t.utils=t.settings=undefined;var n=r(1);Object.keys(n).forEach(function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return n[e]}})});var i=r(4);Object.keys(i).forEach(function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return i[e]}})});var a=r(5);Object.defineProperty(t,"glCore",{enumerable:true,get:function e(){return J(a).default}});var o=r(37);Object.defineProperty(t,"Bounds",{enumerable:true,get:function e(){return J(o).default}});var s=r(62);Object.defineProperty(t,"DisplayObject",{enumerable:true,get:function e(){return J(s).default}});var u=r(18);Object.defineProperty(t,"Container",{enumerable:true,get:function e(){return J(u).default}});var l=r(64);Object.defineProperty(t,"Transform",{enumerable:true,get:function e(){return J(l).default}});var f=r(63);Object.defineProperty(t,"TransformStatic",{enumerable:true,get:function e(){return J(f).default}});var h=r(39);Object.defineProperty(t,"TransformBase",{enumerable:true,get:function e(){return J(h).default}});var c=r(40);Object.defineProperty(t,"Sprite",{enumerable:true,get:function e(){return J(c).default}});var d=r(131);Object.defineProperty(t,"CanvasSpriteRenderer",{enumerable:true,get:function e(){return J(d).default}});var p=r(44);Object.defineProperty(t,"CanvasTinter",{enumerable:true,get:function e(){return J(p).default}});var v=r(134);Object.defineProperty(t,"SpriteRenderer",{enumerable:true,get:function e(){return J(v).default}});var y=r(149);Object.defineProperty(t,"Text",{enumerable:true,get:function e(){return J(y).default}});var g=r(75);Object.defineProperty(t,"TextStyle",{enumerable:true,get:function e(){return J(g).default}});var _=r(76);Object.defineProperty(t,"TextMetrics",{enumerable:true,get:function e(){return J(_).default}});var m=r(151);Object.defineProperty(t,"Graphics",{enumerable:true,get:function e(){return J(m).default}});var b=r(77);Object.defineProperty(t,"GraphicsData",{enumerable:true,get:function e(){return J(b).default}});var x=r(153);Object.defineProperty(t,"GraphicsRenderer",{enumerable:true,get:function e(){return J(x).default}});var T=r(160);Object.defineProperty(t,"CanvasGraphicsRenderer",{enumerable:true,get:function e(){return J(T).default}});var w=r(161);Object.defineProperty(t,"Spritesheet",{enumerable:true,get:function e(){return J(w).default}});var E=r(13);Object.defineProperty(t,"Texture",{enumerable:true,get:function e(){return J(E).default}});var O=r(14);Object.defineProperty(t,"BaseTexture",{enumerable:true,get:function e(){return J(O).default}});var S=r(43);Object.defineProperty(t,"RenderTexture",{enumerable:true,get:function e(){return J(S).default}});var P=r(69);Object.defineProperty(t,"BaseRenderTexture",{enumerable:true,get:function e(){return J(P).default}});var M=r(66);Object.defineProperty(t,"VideoBaseTexture",{enumerable:true,get:function e(){return J(M).default}});var C=r(67);Object.defineProperty(t,"TextureUvs",{enumerable:true,get:function e(){return J(C).default}});var R=r(70);Object.defineProperty(t,"CanvasRenderTarget",{enumerable:true,get:function e(){return J(R).default}});var A=r(21);Object.defineProperty(t,"Shader",{enumerable:true,get:function e(){return J(A).default}});var I=r(20);Object.defineProperty(t,"WebGLManager",{enumerable:true,get:function e(){return J(I).default}});var D=r(24);Object.defineProperty(t,"ObjectRenderer",{enumerable:true,get:function e(){return J(D).default}});var L=r(26);Object.defineProperty(t,"RenderTarget",{enumerable:true,get:function e(){return J(L).default}});var j=r(74);Object.defineProperty(t,"Quad",{enumerable:true,get:function e(){return J(j).default}});var k=r(72);Object.defineProperty(t,"SpriteMaskFilter",{enumerable:true,get:function e(){return J(k).default}});var N=r(73);Object.defineProperty(t,"Filter",{enumerable:true,get:function e(){return J(N).default}});var F=r(79);Object.defineProperty(t,"Application",{enumerable:true,get:function e(){return J(F).default}});var B=r(80);Object.defineProperty(t,"autoDetectRenderer",{enumerable:true,get:function e(){return B.autoDetectRenderer}});var U=r(2);var X=Z(U);var W=r(42);var G=Z(W);var H=r(3);var V=J(H);var Y=r(19);var z=J(Y);var q=r(25);var K=J(q);function Z(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function J(e){return e&&e.__esModule?e:{default:e}}t.settings=V.default;t.utils=X;t.ticker=G;t.CanvasRenderer=z.default;t.WebGLRenderer=K.default},function(e,t,r){"use strict";t.__esModule=true;var n=t.VERSION="4.5.4";var i=t.PI_2=Math.PI*2;var a=t.RAD_TO_DEG=180/Math.PI;var o=t.DEG_TO_RAD=Math.PI/180;var s=t.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2};var u=t.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19};var l=t.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};var f=t.SCALE_MODES={LINEAR:0,NEAREST:1};var h=t.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2};var c=t.GC_MODES={AUTO:0,MANUAL:1};var d=t.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i;var p=t.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i;var v=t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var y=t.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4};var g=t.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};var _=t.TRANSFORM_MODE={STATIC:0,DYNAMIC:1};var m=t.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1};var b=t.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(e,t,r){"use strict";t.__esModule=true;t.premultiplyBlendMode=t.BaseTextureCache=t.TextureCache=t.mixins=t.pluginTarget=t.EventEmitter=t.removeItems=t.isMobile=undefined;t.uid=T;t.hex2rgb=w;t.hex2string=E;t.rgb2hex=O;t.getResolutionOfUrl=S;t.decomposeDataUri=P;t.getUrlFileExtension=M;t.getSvgSize=C;t.skipHello=R;t.sayHello=A;t.isWebGLSupported=I;t.sign=D;t.destroyTextureCache=k;t.clearTextureCache=N;t.correctBlendMode=B;t.premultiplyTint=U;t.premultiplyRgba=X;t.premultiplyTintToRgba=W;var n=r(1);var i=r(3);var a=m(i);var o=r(12);var s=m(o);var u=r(124);var l=m(u);var f=r(125);var h=_(f);var c=r(38);var d=_(c);var p=r(126);var v=m(p);var y=r(127);var g=m(y);function _(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var b=0;var x=false;t.isMobile=d;t.removeItems=v.default;t.EventEmitter=s.default;t.pluginTarget=l.default;t.mixins=h;function T(){return++b}function w(e,t){t=t||[];t[0]=(e>>16&255)/255;t[1]=(e>>8&255)/255;t[2]=(e&255)/255;return t}function E(e){e=e.toString(16);e="000000".substr(0,6-e.length)+e;return"#"+e}function O(e){return(e[0]*255<<16)+(e[1]*255<<8)+(e[2]*255|0)}function S(e,t){var r=a.default.RETINA_PREFIX.exec(e);if(r){return parseFloat(r[1])}return t!==undefined?t:1}function P(e){var t=n.DATA_URI.exec(e);if(t){return{mediaType:t[1]?t[1].toLowerCase():undefined,subType:t[2]?t[2].toLowerCase():undefined,encoding:t[3]?t[3].toLowerCase():undefined,data:t[4]}}return undefined}function M(e){var t=n.URL_FILE_EXTENSION.exec(e);if(t){return t[1].toLowerCase()}return undefined}function C(e){var t=n.SVG_SIZE.exec(e);var r={};if(t){r[t[1]]=Math.round(parseFloat(t[3]));r[t[5]]=Math.round(parseFloat(t[7]))}return r}function R(){x=true}function A(e){if(x){return}if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c PixiJS "+n.VERSION+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else if(window.console){window.console.log("PixiJS "+n.VERSION+" - "+e+" - http://www.pixijs.com/")}x=true}function I(){var e={stencil:true,failIfMajorPerformanceCaveat:true};try{if(!window.WebGLRenderingContext){return false}var t=document.createElement("canvas");var r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);var n=!!(r&&r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");if(i){i.loseContext()}}r=null;return n}catch(e){return false}}function D(e){if(e===0)return 0;return e<0?-1:1}var L=t.TextureCache=Object.create(null);var j=t.BaseTextureCache=Object.create(null);function k(){var e=void 0;for(e in L){L[e].destroy()}for(e in j){j[e].destroy()}}function N(){var e=void 0;for(e in L){delete L[e]}for(e in j){delete j[e]}}var F=t.premultiplyBlendMode=(0,g.default)();function B(e,t){return F[t?1:0][e]}function U(e,t){if(t===1){return(t*255<<24)+e}if(t===0){return 0}var r=e>>16&255;var n=e>>8&255;var i=e&255;r=r*t+.5|0;n=n*t+.5|0;i=i*t+.5|0;return(t*255<<24)+(r<<16)+(n<<8)+i}function X(e,t,r,n){r=r||new Float32Array(4);if(n||n===undefined){r[0]=e[0]*t;r[1]=e[1]*t;r[2]=e[2]*t}else{r[0]=e[0];r[1]=e[1];r[2]=e[2]}r[3]=t;return r}function W(e,t,r,n){r=r||new Float32Array(4);r[0]=(e>>16&255)/255;r[1]=(e>>8&255)/255;r[2]=(e&255)/255;if(n||n===undefined){r[0]*=t;r[1]*=t;r[2]*=t}r[3]=t;return r}},function(e,t,r){"use strict";t.__esModule=true;var n=r(122);var i=s(n);var a=r(123);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}t.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:true,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:false,forceFXAA:false,autoResize:false,transparent:false,backgroundColor:0,clearBeforeRender:true,preserveDrawingBuffer:false,roundPixels:false,width:800,height:600,legacy:false},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)()}},function(e,t,r){"use strict";t.__esModule=true;var n=r(33);Object.defineProperty(t,"Point",{enumerable:true,get:function e(){return c(n).default}});var i=r(51);Object.defineProperty(t,"ObservablePoint",{enumerable:true,get:function e(){return c(i).default}});var a=r(34);Object.defineProperty(t,"Matrix",{enumerable:true,get:function e(){return c(a).default}});var o=r(52);Object.defineProperty(t,"GroupD8",{enumerable:true,get:function e(){return c(o).default}});var s=r(112);Object.defineProperty(t,"Circle",{enumerable:true,get:function e(){return c(s).default}});var u=r(113);Object.defineProperty(t,"Ellipse",{enumerable:true,get:function e(){return c(u).default}});var l=r(114);Object.defineProperty(t,"Polygon",{enumerable:true,get:function e(){return c(l).default}});var f=r(35);Object.defineProperty(t,"Rectangle",{enumerable:true,get:function e(){return c(f).default}});var h=r(115);Object.defineProperty(t,"RoundedRectangle",{enumerable:true,get:function e(){return c(h).default}});function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n={createContext:r(116),setVertexAttribArrays:r(53),GLBuffer:r(117),GLFramebuffer:r(118),GLShader:r(119),GLTexture:r(54),VertexArrayObject:r(120),shader:r(121)};if(typeof e!=="undefined"&&e.exports){e.exports=n}if(typeof window!=="undefined"){window.PIXI=window.PIXI||{};window.PIXI.glCore=n}},function(t,r){t.exports=e},function(e,t,r){"use strict";t.__esModule=true;t.loader=t.prepare=t.particles=t.mesh=t.loaders=t.interaction=t.filters=t.extras=t.extract=t.accessibility=undefined;var n=r(107);Object.keys(n).forEach(function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return n[e]}})});var i=r(0);Object.keys(i).forEach(function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return i[e]}})});var a=r(162);var o=S(a);var s=r(163);var u=O(s);var l=r(165);var f=O(l);var h=r(82);var c=O(h);var d=r(175);var p=O(d);var v=r(182);var y=O(v);var g=r(184);var _=O(g);var m=r(188);var b=O(m);var x=r(193);var T=O(x);var w=r(198);var E=O(w);function O(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function S(e){return e&&e.__esModule?e:{default:e}}i.utils.mixins.performMixins();var P=_.shared||null;t.accessibility=u;t.extract=f;t.extras=c;t.filters=p;t.interaction=y;t.loaders=_;t.mesh=b;t.particles=T;t.prepare=E;t.loader=P;if(typeof o.default==="function"){(0,o.default)(t)}global.PIXI=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}t.default=function(e){return new a(e)};var a=function(){function e(t){i(this,e);this.baseclass=t}n(e,[{key:"with",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}return r.reduce(function(e,t){return t(e)},this.baseclass)}}]);return e}()},function(e,t,r){if(process.env.NODE_ENV!=="production"){var n=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;var i=function(e){return typeof e==="object"&&e!==null&&e.$$typeof===n};var a=true;e.exports=r(104)(i,a)}else{e.exports=r(106)()}},function(e,t){e.exports=require("path")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.withResources=t.withContext=t.contextProvider=undefined;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=r(6);var o=l(a);var s=r(9);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=t.contextProvider=function e(t,r){var n,a;return a=n=function(e){c(t,e);function t(){var e;var n,i,a;f(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++){s[u]=arguments[u]}return a=(n=(i=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i),i.getChildContext=function(){return r(i.props)},n),h(i,a)}i(t,[{key:"render",value:function e(){return o.default.createElement("div",null,this.props.children)}}]);return t}(o.default.PureComponent),n.childContextTypes=t,a};var p=t.withContext=function e(t){return function(e){var r,a;return a=r=function(t){c(r,t);function r(){f(this,r);return h(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}i(r,[{key:"render",value:function t(){return o.default.createElement(e,n({},this.props,this.context))}}]);return r}(o.default.PureComponent),r.contextTypes=t,a}};var v=t.withResources=function e(t){var r={resources:u.default.object.isRequired};return p(r)(t)}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function a(){}if(Object.create){a.prototype=Object.create(null);if(!(new a).__proto__)i=false}function o(e,t,r){this.fn=e;this.context=t;this.once=r||false}function s(){this._events=new a;this._eventsCount=0}s.prototype.eventNames=function e(){var t=[],r,a;if(this._eventsCount===0)return t;for(a in r=this._events){if(n.call(r,a))t.push(i?a.slice(1):a)}if(Object.getOwnPropertySymbols){return t.concat(Object.getOwnPropertySymbols(r))}return t};s.prototype.listeners=function e(t,r){var n=i?i+t:t,a=this._events[n];if(r)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var o=0,s=a.length,u=new Array(s);o<s;o++){u[o]=a[o].fn}return u};s.prototype.emit=function e(t,r,n,a,o,s){var u=i?i+t:t;if(!this._events[u])return false;var l=this._events[u],f=arguments.length,h,c;if(l.fn){if(l.once)this.removeListener(t,l.fn,undefined,true);switch(f){case 1:return l.fn.call(l.context),true;case 2:return l.fn.call(l.context,r),true;case 3:return l.fn.call(l.context,r,n),true;case 4:return l.fn.call(l.context,r,n,a),true;case 5:return l.fn.call(l.context,r,n,a,o),true;case 6:return l.fn.call(l.context,r,n,a,o,s),true}for(c=1,h=new Array(f-1);c<f;c++){h[c-1]=arguments[c]}l.fn.apply(l.context,h)}else{var d=l.length,p;for(c=0;c<d;c++){if(l[c].once)this.removeListener(t,l[c].fn,undefined,true);switch(f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,r);break;case 3:l[c].fn.call(l[c].context,r,n);break;case 4:l[c].fn.call(l[c].context,r,n,a);break;default:if(!h)for(p=1,h=new Array(f-1);p<f;p++){h[p-1]=arguments[p]}l[c].fn.apply(l[c].context,h)}}}return true};s.prototype.on=function e(t,r,n){var a=new o(r,n||this),s=i?i+t:t;if(!this._events[s])this._events[s]=a,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(a);else this._events[s]=[this._events[s],a];return this};s.prototype.once=function e(t,r,n){var a=new o(r,n||this,true),s=i?i+t:t;if(!this._events[s])this._events[s]=a,this._eventsCount++;else if(!this._events[s].fn)this._events[s].push(a);else this._events[s]=[this._events[s],a];return this};s.prototype.removeListener=function e(t,r,n,o){var s=i?i+t:t;if(!this._events[s])return this;if(!r){if(--this._eventsCount===0)this._events=new a;else delete this._events[s];return this}var u=this._events[s];if(u.fn){if(u.fn===r&&(!o||u.once)&&(!n||u.context===n)){if(--this._eventsCount===0)this._events=new a;else delete this._events[s]}}else{for(var l=0,f=[],h=u.length;l<h;l++){if(u[l].fn!==r||o&&!u[l].once||n&&u[l].context!==n){f.push(u[l])}}if(f.length)this._events[s]=f.length===1?f[0]:f;else if(--this._eventsCount===0)this._events=new a;else delete this._events[s]}return this};s.prototype.removeAllListeners=function e(t){var r;if(t){r=i?i+t:t;if(this._events[r]){if(--this._eventsCount===0)this._events=new a;else delete this._events[r]}}else{this._events=new a;this._eventsCount=0}return this};s.prototype.off=s.prototype.removeListener;s.prototype.addListener=s.prototype.on;s.prototype.setMaxListeners=function e(){return this};s.prefixed=i;s.EventEmitter=s;if(true){e.exports=s}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(14);var a=y(i);var o=r(66);var s=y(o);var u=r(67);var l=y(u);var f=r(12);var h=y(f);var c=r(4);var d=r(2);var p=r(3);var v=y(p);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){m(t,e);function t(r,n,i,a,o){g(this,t);var s=_(this,e.call(this));s.noFrame=false;if(!n){s.noFrame=true;n=new c.Rectangle(0,0,1,1)}if(r instanceof t){r=r.baseTexture}s.baseTexture=r;s._frame=n;s.trim=a;s.valid=false;s.requiresUpdate=false;s._uvs=null;s.orig=i||n;s._rotate=Number(o||0);if(o===true){s._rotate=2}else if(s._rotate%2!==0){throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually")}if(r.hasLoaded){if(s.noFrame){n=new c.Rectangle(0,0,r.width,r.height);r.on("update",s.onBaseTextureUpdated,s)}s.frame=n}else{r.once("loaded",s.onBaseTextureLoaded,s)}s._updateID=0;s.transform=null;s.textureCacheIds=[];return s}t.prototype.update=function e(){this.baseTexture.update()};t.prototype.onBaseTextureLoaded=function e(t){this._updateID++;if(this.noFrame){this.frame=new c.Rectangle(0,0,t.width,t.height)}else{this.frame=this._frame}this.baseTexture.on("update",this.onBaseTextureUpdated,this);this.emit("update",this)};t.prototype.onBaseTextureUpdated=function e(t){this._updateID++;this._frame.width=t.width;this._frame.height=t.height;this.emit("update",this)};t.prototype.destroy=function e(r){if(this.baseTexture){if(r){if(d.TextureCache[this.baseTexture.imageUrl]){t.removeFromCache(this.baseTexture.imageUrl)}this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this);this.baseTexture.off("loaded",this.onBaseTextureLoaded,this);this.baseTexture=null}this._frame=null;this._uvs=null;this.trim=null;this.orig=null;this.valid=false;t.removeFromCache(this);this.textureCacheIds=null};t.prototype.clone=function e(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)};t.prototype._updateUvs=function e(){if(!this._uvs){this._uvs=new l.default}this._uvs.set(this._frame,this.baseTexture,this.rotate);this._updateID++};t.fromImage=function e(r,n,i,o){var s=d.TextureCache[r];if(!s){s=new t(a.default.fromImage(r,n,i,o));t.addToCache(s,r)}return s};t.fromFrame=function e(t){var r=d.TextureCache[t];if(!r){throw new Error('The frameId "'+t+'" does not exist in the texture cache')}return r};t.fromCanvas=function e(r,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"canvas";return new t(a.default.fromCanvas(r,n,i))};t.fromVideo=function e(r,n){if(typeof r==="string"){return t.fromVideoUrl(r,n)}return new t(s.default.fromVideo(r,n))};t.fromVideoUrl=function e(r,n){return new t(s.default.fromUrl(r,n))};t.from=function e(r){if(typeof r==="string"){var n=d.TextureCache[r];if(!n){var i=r.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)!==null;if(i){return t.fromVideoUrl(r)}return t.fromImage(r)}return n}else if(r instanceof HTMLImageElement){return new t(a.default.from(r))}else if(r instanceof HTMLCanvasElement){return t.fromCanvas(r,v.default.SCALE_MODE,"HTMLCanvasElement")}else if(r instanceof HTMLVideoElement){return t.fromVideo(r)}else if(r instanceof a.default){return new t(r)}return r};t.fromLoader=function e(r,n,i){var o=new a.default(r,undefined,(0,d.getResolutionOfUrl)(n));var s=new t(o);o.imageUrl=n;if(!i){i=n}a.default.addToCache(s.baseTexture,i);t.addToCache(s,i);if(i!==n){a.default.addToCache(s.baseTexture,n);t.addToCache(s,n)}return s};t.addToCache=function e(t,r){if(r){if(t.textureCacheIds.indexOf(r)===-1){t.textureCacheIds.push(r)}if(d.TextureCache[r]){console.warn("Texture added to the cache with an id ["+r+"] that already had an entry")}d.TextureCache[r]=t}};t.removeFromCache=function e(t){if(typeof t==="string"){var r=d.TextureCache[t];if(r){var n=r.textureCacheIds.indexOf(t);if(n>-1){r.textureCacheIds.splice(n,1)}delete d.TextureCache[t];return r}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i){delete d.TextureCache[t.textureCacheIds[i]]}t.textureCacheIds.length=0;return t}return null};n(t,[{key:"frame",get:function e(){return this._frame},set:function e(t){this._frame=t;this.noFrame=false;if(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height){throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+("X: "+t.x+" + "+t.width+" = "+(t.x+t.width)+" > "+this.baseTexture.width+" ")+("Y: "+t.y+" + "+t.height+" = "+(t.y+t.height)+" > "+this.baseTexture.height))}this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded;if(!this.trim&&!this.rotate){this.orig=t}if(this.valid){this._updateUvs()}}},{key:"rotate",get:function e(){return this._rotate},set:function e(t){this._rotate=t;if(this.valid){this._updateUvs()}}},{key:"width",get:function e(){return this.orig.width}},{key:"height",get:function e(){return this.orig.height}}]);return t}(h.default);t.default=b;function x(){var e=document.createElement("canvas");e.width=10;e.height=10;var t=e.getContext("2d");t.fillStyle="white";t.fillRect(0,0,10,10);return new b(new a.default(e))}function T(e){e.destroy=function e(){};e.on=function e(){};e.once=function e(){};e.emit=function e(){}}b.EMPTY=new b(new a.default);T(b.EMPTY);T(b.EMPTY.baseTexture);b.WHITE=x();T(b.WHITE);T(b.WHITE.baseTexture)},function(e,t,r){"use strict";t.__esModule=true;var n=r(2);var i=r(3);var a=c(i);var o=r(12);var s=c(o);var u=r(128);var l=c(u);var f=r(41);var h=c(f);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y=function(e){v(t,e);function t(r,i,o){d(this,t);var s=p(this,e.call(this));s.uid=(0,n.uid)();s.touched=0;s.resolution=o||a.default.RESOLUTION;s.width=100;s.height=100;s.realWidth=100;s.realHeight=100;s.scaleMode=i!==undefined?i:a.default.SCALE_MODE;s.hasLoaded=false;s.isLoading=false;s.source=null;s.origSource=null;s.imageType=null;s.sourceScale=1;s.premultipliedAlpha=true;s.imageUrl=null;s.isPowerOfTwo=false;s.mipmap=a.default.MIPMAP_TEXTURES;s.wrapMode=a.default.WRAP_MODE;s._glTextures={};s._enabled=0;s._virtalBoundId=-1;s._destroyed=false;s.textureCacheIds=[];if(r){s.loadSource(r)}return s}t.prototype.update=function e(){if(this.imageType!=="svg"){this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width;this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height;this._updateDimensions()}this.emit("update",this)};t.prototype._updateDimensions=function e(){this.width=this.realWidth/this.resolution;this.height=this.realHeight/this.resolution;this.isPowerOfTwo=h.default.isPow2(this.realWidth)&&h.default.isPow2(this.realHeight)};t.prototype.loadSource=function e(t){var r=this.isLoading;this.hasLoaded=false;this.isLoading=false;if(r&&this.source){this.source.onload=null;this.source.onerror=null}var n=!this.source;this.source=t;if((t.src&&t.complete||t.getContext)&&t.width&&t.height){this._updateImageType();if(this.imageType==="svg"){this._loadSvgSource()}else{this._sourceLoaded()}if(n){this.emit("loaded",this)}}else if(!t.getContext){this.isLoading=true;var i=this;t.onload=function(){i._updateImageType();t.onload=null;t.onerror=null;if(!i.isLoading){return}i.isLoading=false;i._sourceLoaded();if(i.imageType==="svg"){i._loadSvgSource();return}i.emit("loaded",i)};t.onerror=function(){t.onload=null;t.onerror=null;if(!i.isLoading){return}i.isLoading=false;i.emit("error",i)};if(t.complete&&t.src){t.onload=null;t.onerror=null;if(i.imageType==="svg"){i._loadSvgSource();return}this.isLoading=false;if(t.width&&t.height){this._sourceLoaded();if(r){this.emit("loaded",this)}}else if(r){this.emit("error",this)}}}};t.prototype._updateImageType=function e(){if(!this.imageUrl){return}var t=(0,n.decomposeDataUri)(this.imageUrl);var r=void 0;if(t&&t.mediaType==="image"){var i=t.subType.split("+")[0];r=(0,n.getUrlFileExtension)("."+i);if(!r){throw new Error("Invalid image type in data URI.")}}else{r=(0,n.getUrlFileExtension)(this.imageUrl);if(!r){r="png"}}this.imageType=r};t.prototype._loadSvgSource=function e(){if(this.imageType!=="svg"){return}var t=(0,n.decomposeDataUri)(this.imageUrl);if(t){this._loadSvgSourceUsingDataUri(t)}else{this._loadSvgSourceUsingXhr()}};t.prototype._loadSvgSourceUsingDataUri=function e(t){var r=void 0;if(t.encoding==="base64"){if(!atob){throw new Error("Your browser doesn't support base64 conversions.")}r=atob(t.data)}else{r=t.data}this._loadSvgSourceUsingString(r)};t.prototype._loadSvgSourceUsingXhr=function e(){var t=this;var r=new XMLHttpRequest;r.onload=function(){if(r.readyState!==r.DONE||r.status!==200){throw new Error("Failed to load SVG using XHR.")}t._loadSvgSourceUsingString(r.response)};r.onerror=function(){return t.emit("error",t)};r.open("GET",this.imageUrl,true);r.send()};t.prototype._loadSvgSourceUsingString=function e(r){var i=(0,n.getSvgSize)(r);var a=i.width;var o=i.height;if(!a||!o){throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.")}this.realWidth=Math.round(a*this.sourceScale);this.realHeight=Math.round(o*this.sourceScale);this._updateDimensions();var s=document.createElement("canvas");s.width=this.realWidth;s.height=this.realHeight;s._pixiId="canvas_"+(0,n.uid)();s.getContext("2d").drawImage(this.source,0,0,a,o,0,0,this.realWidth,this.realHeight);this.origSource=this.source;this.source=s;t.addToCache(this,s._pixiId);this.isLoading=false;this._sourceLoaded();this.emit("loaded",this)};t.prototype._sourceLoaded=function e(){this.hasLoaded=true;this.update()};t.prototype.destroy=function e(){if(this.imageUrl){delete n.TextureCache[this.imageUrl];this.imageUrl=null;if(!navigator.isCocoonJS){this.source.src=""}}this.source=null;this.dispose();t.removeFromCache(this);this.textureCacheIds=null;this._destroyed=true};t.prototype.dispose=function e(){this.emit("dispose",this)};t.prototype.updateSourceImage=function e(t){this.source.src=t;this.loadSource(this.source)};t.fromImage=function e(r,i,a,o){var s=n.BaseTextureCache[r];if(!s){var u=new Image;if(i===undefined&&r.indexOf("data:")!==0){u.crossOrigin=(0,l.default)(r)}else if(i){u.crossOrigin=typeof i==="string"?i:"anonymous"}s=new t(u,a);s.imageUrl=r;if(o){s.sourceScale=o}s.resolution=(0,n.getResolutionOfUrl)(r);u.src=r;t.addToCache(s,r)}return s};t.fromCanvas=function e(r,i){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"canvas";if(!r._pixiId){r._pixiId=a+"_"+(0,n.uid)()}var o=n.BaseTextureCache[r._pixiId];if(!o){o=new t(r,i);t.addToCache(o,r._pixiId)}return o};t.from=function e(r,i,a){if(typeof r==="string"){return t.fromImage(r,undefined,i,a)}else if(r instanceof HTMLImageElement){var o=r.src;var s=n.BaseTextureCache[o];if(!s){s=new t(r,i);s.imageUrl=o;if(a){s.sourceScale=a}s.resolution=(0,n.getResolutionOfUrl)(o);t.addToCache(s,o)}return s}else if(r instanceof HTMLCanvasElement){return t.fromCanvas(r,i)}return r};t.addToCache=function e(t,r){if(r){if(t.textureCacheIds.indexOf(r)===-1){t.textureCacheIds.push(r)}if(n.BaseTextureCache[r]){console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry")}n.BaseTextureCache[r]=t}};t.removeFromCache=function e(t){if(typeof t==="string"){var r=n.BaseTextureCache[t];if(r){var i=r.textureCacheIds.indexOf(t);if(i>-1){r.textureCacheIds.splice(i,1)}delete n.BaseTextureCache[t];return r}}else if(t&&t.textureCacheIds){for(var a=0;a<t.textureCacheIds.length;++a){delete n.BaseTextureCache[t.textureCacheIds[a]]}t.textureCacheIds.length=0;return t}return null};return t}(s.default);t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(16);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var u=function e(t){return function(e){s(t,e);function t(){a(this,t);return o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"shouldComponentUpdate",value:function e(t){return!(0,i.shallowCompare)(t,this.props)}}]);return t}(t)};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.shallowCompare=i;t.deepCompareArray=a;t.deepCompare=o;function i(e,t){var r=Object.keys(e);var n=Object.keys(t);if(r.length!==n.length){return false}return!r.some(function(r){return e[r]!==t[r]})}function a(e,t){if(e.length!==t.length){return false}if((typeof e==="undefined"?"undefined":n(e))!=="object"&&(typeof t==="undefined"?"undefined":n(t))!=="object"){return e===t}return e.every(function(e,r){return a(e,t[r])})}function o(e,t){if((typeof e==="undefined"?"undefined":n(e))!==(typeof t==="undefined"?"undefined":n(t))){return false}if(Array.isArray(e)){return a(e,t)}return e===t}},function(e,t,r){(function r(n,i){if(true)e.exports=i();else if(typeof define==="function"&&define.amd)define("vangogh500-physics",[],i);else if(typeof t==="object")t["vangogh500-physics"]=i();else n["vangogh500-physics"]=i()})(this,function(){return function(e){var t={};function r(n){if(t[n]){return t[n].exports}var i=t[n]={i:n,l:false,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=true;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){if(!r.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:n})}};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="";return r(r.s=3)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;i(this,e);this.x=t;this.y=r;this.z=n}n(e,[{key:"equals",value:function e(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}},{key:"length",value:function e(){return Math.sqrt(this.dotProduct(this))}},{key:"negative",value:function t(){return new e(-this.x,-this.y,-this.z)}},{key:"normalize",value:function e(){var t=this.length();if(t==0){throw new RangeError("A 0 vector has no unit vector.")}return this.scale(1/t)}},{key:"add",value:function t(r){return new e(this.x+r.x,this.y+r.y,this.z+r.z)}},{key:"subtract",value:function e(t){return this.add(t.negative())}},{key:"scale",value:function t(r){return new e(r*this.x,r*this.y,r*this.z)}},{key:"dotProduct",value:function e(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"crossProduct",value:function t(r){return new e(this.y*r.z-this.z*r.y,this.z*r.x-this.x*r.z,this.x*r.y-this.y*r.x)}}]);return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=r(0);var o=h(a);var s=r(2);var u=h(s);var l=r(4);var f=h(l);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function e(t,r){c(this,e);this.attributes=t;this.kinematicState=r;this.netForce=new o.default;this.netTorque=new o.default}i(e,[{key:"applyForce",value:function e(t){this.netForce=this.netForce.add(t)}},{key:"applyTorque",value:function e(t){this.netTorque=this.netTorque.add(t)}},{key:"getState",value:function e(){var t=this.kinematicState,r=t.s,i=t.theta,a=t.v,o=t.w;return n({},this.attributes,{s:r,theta:i,v:a,w:o})}},{key:"update",value:function e(t){var r=this.attributes,n=r.m,i=r.mr;var a=this.kinematicState;var s=f.default.acceleration(this.netForce,n);var u=f.default.angularAcceleration(this.netTorque,i);this.netForce=new o.default;this.netTorque=new o.default;this.kinematicState=a.next(s,u,t)}}]);return e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new a.default;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new a.default;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:new a.default;s(this,e);this.s=t;this.theta=r;this.v=n;this.w=i}n(e,[{key:"next",value:function t(r,n,i){var a=this.s,o=this.theta,s=this.v,u=this.w;var l=s.add(r.scale(i));var f=a.add(l.scale(i));var h=u.add(n.scale(i));var c=o.add(h.scale(i));return new e(f,c,l,h)}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FluidMechanicsFactory=t.KinematicState=t.Body=t.Vector=undefined;var n=r(0);var i=h(n);var a=r(1);var o=h(a);var s=r(2);var u=h(s);var l=r(5);var f=h(l);function h(e){return e&&e.__esModule?e:{default:e}}t.Vector=i.default;t.Body=o.default;t.KinematicState=u.default;t.FluidMechanicsFactory=f.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){s(this,e)}n(e,null,[{key:"acceleration",value:function e(t,r){return t.scale(1/r)}},{key:"angularAcceleration",value:function e(t,r){return t.scale(1/r)}},{key:"torque",value:function e(t,r){return t.crossProduct(r)}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=f(i);var o=r(0);var s=f(o);var u=r(1);var l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var c=function(){function e(){h(this,e)}n(e,null,[{key:"drag",value:function e(t,r){var n=t.cD,i=t.aF,o=t.v;var s=r.p;return a.default.drag(n,i,s,o)}},{key:"angularDrag",value:function e(t,r){var n=r.p0,i=r.p1,o=r.p2;var s=t.w;return a.default.angularDrag(o,i,n,s)}},{key:"rudderDrag",value:function e(t,r){var n=t.aR,i=t.v,o=t.u;var s=r.p;return a.default.rudder(n,i,s,o)}}]);return e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(7);var a=u(i);var o=r(0);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(){l(this,e)}n(e,null,[{key:"drag",value:function e(t,r,n,i){var o=a.default.drag(t,r,n,i.length());if(o===0){return new s.default}return i.normalize().scale(o)}},{key:"angularDrag",value:function e(t,r,n,i){var o=a.default.angularDrag(t,r,n,i.length());if(o===0){return new s.default}return i.normalize().scale(o)}},{key:"rudder",value:function e(t,r,n,i){var o=a.default.rudder(t,r.length(),n);return i.scale(o)}}]);return e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e)}n(e,null,[{key:"drag",value:function e(t,r,n,i){return-.5*n*t*r*Math.pow(i,2)}},{key:"angularDrag",value:function e(t,r,n,i){return-(t*Math.pow(i,2)+r*i+n)}},{key:"rudder",value:function e(t,r,n){return t*r*n}}]);return e}();t.default=a}])})},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(2);var a=r(62);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){u(this,t);var r=l(this,e.call(this));r.children=[];return r}t.prototype.onChildrenChange=function e(){};t.prototype.addChild=function e(t){var r=arguments.length;if(r>1){for(var n=0;n<r;n++){this.addChild(arguments[n])}}else{if(t.parent){t.parent.removeChild(t)}t.parent=this;t.transform._parentID=-1;this.children.push(t);this._boundsID++;this.onChildrenChange(this.children.length-1);t.emit("added",this)}return t};t.prototype.addChildAt=function e(t,r){if(r<0||r>this.children.length){throw new Error(t+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length)}if(t.parent){t.parent.removeChild(t)}t.parent=this;t.transform._parentID=-1;this.children.splice(r,0,t);this._boundsID++;this.onChildrenChange(r);t.emit("added",this);return t};t.prototype.swapChildren=function e(t,r){if(t===r){return}var n=this.getChildIndex(t);var i=this.getChildIndex(r);this.children[n]=r;this.children[i]=t;this.onChildrenChange(n<i?n:i)};t.prototype.getChildIndex=function e(t){var r=this.children.indexOf(t);if(r===-1){throw new Error("The supplied DisplayObject must be a child of the caller")}return r};t.prototype.setChildIndex=function e(t,r){if(r<0||r>=this.children.length){throw new Error("The supplied index is out of bounds")}var n=this.getChildIndex(t);(0,i.removeItems)(this.children,n,1);this.children.splice(r,0,t);this.onChildrenChange(r)};t.prototype.getChildAt=function e(t){if(t<0||t>=this.children.length){throw new Error("getChildAt: Index ("+t+") does not exist.")}return this.children[t]};t.prototype.removeChild=function e(t){var r=arguments.length;if(r>1){for(var n=0;n<r;n++){this.removeChild(arguments[n])}}else{var a=this.children.indexOf(t);if(a===-1)return null;t.parent=null;t.transform._parentID=-1;(0,i.removeItems)(this.children,a,1);this._boundsID++;this.onChildrenChange(a);t.emit("removed",this)}return t};t.prototype.removeChildAt=function e(t){var r=this.getChildAt(t);r.parent=null;r.transform._parentID=-1;(0,i.removeItems)(this.children,t,1);this._boundsID++;this.onChildrenChange(t);r.emit("removed",this);return r};t.prototype.removeChildren=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments[1];var n=t;var i=typeof r==="number"?r:this.children.length;var a=i-n;var o=void 0;if(a>0&&a<=i){o=this.children.splice(n,a);for(var s=0;s<o.length;++s){o[s].parent=null;if(o[s].transform){o[s].transform._parentID=-1}}this._boundsID++;this.onChildrenChange(t);for(var u=0;u<o.length;++u){o[u].emit("removed",this)}return o}else if(a===0&&this.children.length===0){return[]}throw new RangeError("removeChildren: numeric values are outside the acceptable range.")};t.prototype.updateTransform=function e(){this._boundsID++;this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,r=this.children.length;t<r;++t){var n=this.children[t];if(n.visible){n.updateTransform()}}};t.prototype.calculateBounds=function e(){this._bounds.clear();this._calculateBounds();for(var t=0;t<this.children.length;t++){var r=this.children[t];if(!r.visible||!r.renderable){continue}r.calculateBounds();if(r._mask){r._mask.calculateBounds();this._bounds.addBoundsMask(r._bounds,r._mask._bounds)}else if(r.filterArea){this._bounds.addBoundsArea(r._bounds,r.filterArea)}else{this._bounds.addBounds(r._bounds)}}this._lastBoundsID=this._boundsID};t.prototype._calculateBounds=function e(){};t.prototype.renderWebGL=function e(t){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}if(this._mask||this._filters){this.renderAdvancedWebGL(t)}else{this._renderWebGL(t);for(var r=0,n=this.children.length;r<n;++r){this.children[r].renderWebGL(t)}}};t.prototype.renderAdvancedWebGL=function e(t){t.flush();var r=this._filters;var n=this._mask;if(r){if(!this._enabledFilters){this._enabledFilters=[]}this._enabledFilters.length=0;for(var i=0;i<r.length;i++){if(r[i].enabled){this._enabledFilters.push(r[i])}}if(this._enabledFilters.length){t.filterManager.pushFilter(this,this._enabledFilters)}}if(n){t.maskManager.pushMask(this,this._mask)}this._renderWebGL(t);for(var a=0,o=this.children.length;a<o;a++){this.children[a].renderWebGL(t)}t.flush();if(n){t.maskManager.popMask(this,this._mask)}if(r&&this._enabledFilters&&this._enabledFilters.length){t.filterManager.popFilter()}};t.prototype._renderWebGL=function e(t){};t.prototype._renderCanvas=function e(t){};t.prototype.renderCanvas=function e(t){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}if(this._mask){t.maskManager.pushMask(this._mask)}this._renderCanvas(t);for(var r=0,n=this.children.length;r<n;++r){this.children[r].renderCanvas(t)}if(this._mask){t.maskManager.popMask(t)}};t.prototype.destroy=function t(r){e.prototype.destroy.call(this);var n=typeof r==="boolean"?r:r&&r.children;var i=this.removeChildren(0,this.children.length);if(n){for(var a=0;a<i.length;++a){i[a].destroy(r)}}};n(t,[{key:"width",get:function e(){return this.scale.x*this.getLocalBounds().width},set:function e(t){var r=this.getLocalBounds().width;if(r!==0){this.scale.x=t/r}else{this.scale.x=1}this._width=t}},{key:"height",get:function e(){return this.scale.y*this.getLocalBounds().height},set:function e(t){var r=this.getLocalBounds().height;if(r!==0){this.scale.y=t/r}else{this.scale.y=1}this._height=t}}]);return t}(o.default);t.default=h;h.prototype.containerUpdateTransform=h.prototype.updateTransform},function(e,t,r){"use strict";t.__esModule=true;var n=r(68);var i=v(n);var a=r(132);var o=v(a);var s=r(70);var u=v(s);var l=r(133);var f=v(l);var h=r(2);var c=r(1);var d=r(3);var p=v(d);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=function(e){_(t,e);function t(r,n,i){y(this,t);var a=g(this,e.call(this,"Canvas",r,n,i));a.type=c.RENDERER_TYPE.CANVAS;a.rootContext=a.view.getContext("2d",{alpha:a.transparent});a.context=a.rootContext;a.refresh=true;a.maskManager=new o.default(a);a.smoothProperty="imageSmoothingEnabled";if(!a.rootContext.imageSmoothingEnabled){if(a.rootContext.webkitImageSmoothingEnabled){a.smoothProperty="webkitImageSmoothingEnabled"}else if(a.rootContext.mozImageSmoothingEnabled){a.smoothProperty="mozImageSmoothingEnabled"}else if(a.rootContext.oImageSmoothingEnabled){a.smoothProperty="oImageSmoothingEnabled"}else if(a.rootContext.msImageSmoothingEnabled){a.smoothProperty="msImageSmoothingEnabled"}}a.initPlugins();a.blendModes=(0,f.default)();a._activeBlendMode=null;a.renderingToScreen=false;a.resize(a.options.width,a.options.height);return a}t.prototype.render=function e(t,r,n,i,a){if(!this.view){return}this.renderingToScreen=!r;this.emit("prerender");var o=this.resolution;if(r){r=r.baseTexture||r;if(!r._canvasRenderTarget){r._canvasRenderTarget=new u.default(r.width,r.height,r.resolution);r.source=r._canvasRenderTarget.canvas;r.valid=true}this.context=r._canvasRenderTarget.context;this.resolution=r._canvasRenderTarget.resolution}else{this.context=this.rootContext}var s=this.context;if(!r){this._lastObjectRendered=t}if(!a){var l=t.parent;var f=this._tempDisplayObjectParent.transform.worldTransform;if(i){i.copy(f);this._tempDisplayObjectParent.transform._worldID=-1}else{f.identity()}t.parent=this._tempDisplayObjectParent;t.updateTransform();t.parent=l}s.setTransform(1,0,0,1,0,0);s.globalAlpha=1;s.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL];if(navigator.isCocoonJS&&this.view.screencanvas){s.fillStyle="black";s.clear()}if(n!==undefined?n:this.clearBeforeRender){if(this.renderingToScreen){if(this.transparent){s.clearRect(0,0,this.width,this.height)}else{s.fillStyle=this._backgroundColorString;s.fillRect(0,0,this.width,this.height)}}}var h=this.context;this.context=s;t.renderCanvas(this);this.context=h;this.resolution=o;this.emit("postrender")};t.prototype.clear=function e(t){var r=this.context;t=t||this._backgroundColorString;if(!this.transparent&&t){r.fillStyle=t;r.fillRect(0,0,this.width,this.height)}else{r.clearRect(0,0,this.width,this.height)}};t.prototype.setBlendMode=function e(t){if(this._activeBlendMode===t){return}this._activeBlendMode=t;this.context.globalCompositeOperation=this.blendModes[t]};t.prototype.destroy=function t(r){this.destroyPlugins();e.prototype.destroy.call(this,r);this.context=null;this.refresh=true;this.maskManager.destroy();this.maskManager=null;this.smoothProperty=null};t.prototype.resize=function t(r,n){e.prototype.resize.call(this,r,n);if(this.smoothProperty){this.rootContext[this.smoothProperty]=p.default.SCALE_MODE===c.SCALE_MODES.LINEAR}};return t}(i.default);t.default=m;h.pluginTarget.mixin(m)},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t){n(this,e);this.renderer=t;this.renderer.on("context",this.onContextChange,this)}e.prototype.onContextChange=function e(){};e.prototype.destroy=function e(){this.renderer.off("context",this.onContextChange,this);this.renderer=null};return e}();t.default=i},function(e,t,r){"use strict";t.__esModule=true;var n=r(5);var i=r(3);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function f(e,t){if(e instanceof Array){if(e[0].substring(0,9)!=="precision"){var r=e.slice(0);r.unshift("precision "+t+" float;");return r}}else if(e.substring(0,9)!=="precision"){return"precision "+t+" float;\n"+e}return e}var h=function(e){l(t,e);function t(r,n,i){s(this,t);return u(this,e.call(this,r,f(n,a.default.PRECISION_VERTEX),f(i,a.default.PRECISION_FRAGMENT)))}return t}(n.GLShader);t.default=h},function(e,t,r){"use strict";var n=r(185).default;var i=r(47).default;var a=r(95);var o=r(96);n.Resource=i;n.async=a;n.base64=o;e.exports=n;e.exports.default=n},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=l(i);var o=r(46);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=new a.Point;var p=new a.Polygon;var v=function(e){c(t,e);function t(r,n,i,o,u){f(this,t);var l=h(this,e.call(this));l._texture=r;l.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]);l.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]);l.indices=o||new Uint16Array([0,1,3,2]);l.dirty=0;l.indexDirty=0;l.blendMode=a.BLEND_MODES.NORMAL;l.canvasPadding=0;l.drawMode=u||t.DRAW_MODES.TRIANGLE_MESH;l.shader=null;l.tintRgb=new Float32Array([1,1,1]);l._glDatas={};l._uvTransform=new s.default(r);l.uploadUvTransform=false;l.pluginName="mesh";return l}t.prototype._renderWebGL=function e(t){this.refresh();t.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};t.prototype._renderCanvas=function e(t){this.refresh();t.plugins[this.pluginName].render(this)};t.prototype._onTextureUpdate=function e(){this._uvTransform.texture=this._texture;this.refresh()};t.prototype.multiplyUvs=function e(){if(!this.uploadUvTransform){this._uvTransform.multiplyUvs(this.uvs)}};t.prototype.refresh=function e(t){if(this._uvTransform.update(t)){this._refresh()}};t.prototype._refresh=function e(){};t.prototype._calculateBounds=function e(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)};t.prototype.containsPoint=function e(r){if(!this.getBounds().contains(r.x,r.y)){return false}this.worldTransform.applyInverse(r,d);var n=this.vertices;var i=p.points;var a=this.indices;var o=this.indices.length;var s=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1;for(var u=0;u+2<o;u+=s){var l=a[u]*2;var f=a[u+1]*2;var h=a[u+2]*2;i[0]=n[l];i[1]=n[l+1];i[2]=n[f];i[3]=n[f+1];i[4]=n[h];i[5]=n[h+1];if(p.contains(d.x,d.y)){return true}}return false};n(t,[{key:"texture",get:function e(){return this._texture},set:function e(t){if(this._texture===t){return}this._texture=t;if(t){if(t.baseTexture.hasLoaded){this._onTextureUpdate()}else{t.once("update",this._onTextureUpdate,this)}}}},{key:"tint",get:function e(){return a.utils.rgb2hex(this.tintRgb)},set:function e(t){this.tintRgb=a.utils.hex2rgb(t,this.tintRgb)}}]);return t}(a.Container);t.default=v;v.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(e,t,r){"use strict";t.__esModule=true;var n=r(20);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(){o(this,t);return s(this,e.apply(this,arguments))}t.prototype.start=function e(){};t.prototype.stop=function e(){this.flush()};t.prototype.flush=function e(){};t.prototype.render=function e(t){};return t}(i.default);t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(68);var i=A(n);var a=r(135);var o=A(a);var s=r(137);var u=A(s);var l=r(138);var f=A(l);var h=r(26);var c=A(h);var d=r(24);var p=A(d);var v=r(140);var y=A(v);var g=r(14);var _=A(g);var m=r(141);var b=A(m);var x=r(142);var T=A(x);var w=r(144);var E=A(w);var O=r(145);var S=A(O);var P=r(2);var M=r(5);var C=A(M);var R=r(1);function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function D(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function L(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var j=0;var k=function(e){L(t,e);function t(r,n,i){I(this,t);var a=D(this,e.call(this,"WebGL",r,n,i));a.legacy=a.options.legacy;if(a.legacy){C.default.VertexArrayObject.FORCE_NATIVE=true}a.type=R.RENDERER_TYPE.WEBGL;a.handleContextLost=a.handleContextLost.bind(a);a.handleContextRestored=a.handleContextRestored.bind(a);a.view.addEventListener("webglcontextlost",a.handleContextLost,false);a.view.addEventListener("webglcontextrestored",a.handleContextRestored,false);a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&a.transparent!=="notMultiplied",stencil:true,preserveDrawingBuffer:a.options.preserveDrawingBuffer};a._backgroundColorRgba[3]=a.transparent?0:1;a.maskManager=new o.default(a);a.stencilManager=new u.default(a);a.emptyRenderer=new p.default(a);a.currentRenderer=a.emptyRenderer;a.initPlugins();if(a.options.context){(0,S.default)(a.options.context)}a.gl=a.options.context||C.default.createContext(a.view,a._contextOptions);a.CONTEXT_UID=j++;a.state=new T.default(a.gl);a.renderingToScreen=true;a.boundTextures=null;a._activeShader=null;a._activeVao=null;a._activeRenderTarget=null;a._initContext();a.filterManager=new f.default(a);a.drawModes=(0,E.default)(a.gl);a._nextTextureLocation=0;a.setBlendMode(0);return a}t.prototype._initContext=function e(){var t=this.gl;if(t.isContextLost()&&t.getExtension("WEBGL_lose_context")){t.getExtension("WEBGL_lose_context").restoreContext()}var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null;this._activeVao=null;this.boundTextures=new Array(r);this.emptyTextures=new Array(r);this.textureManager=new y.default(this);this.textureGC=new b.default(this);this.state.resetToDefault();this.rootRenderTarget=new c.default(t,this.width,this.height,null,this.resolution,true);this.rootRenderTarget.clearColor=this._backgroundColorRgba;this.bindRenderTarget(this.rootRenderTarget);var n=new C.default.GLTexture.fromData(t,null,1,1);var i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(var a=0;a<r;a++){var o=new _.default;o._glTextures[this.CONTEXT_UID]=n;this.boundTextures[a]=i;this.emptyTextures[a]=o;this.bindTexture(null,a)}this.emit("context",t);this.resize(this.screen.width,this.screen.height)};t.prototype.render=function e(t,r,n,i,a){this.renderingToScreen=!r;this.emit("prerender");if(!this.gl||this.gl.isContextLost()){return}this._nextTextureLocation=0;if(!r){this._lastObjectRendered=t}if(!a){var o=t.parent;t.parent=this._tempDisplayObjectParent;t.updateTransform();t.parent=o}this.bindRenderTexture(r,i);this.currentRenderer.start();if(n!==undefined?n:this.clearBeforeRender){this._activeRenderTarget.clear()}t.renderWebGL(this);this.currentRenderer.flush();this.textureGC.update();this.emit("postrender")};t.prototype.setObjectRenderer=function e(t){if(this.currentRenderer===t){return}this.currentRenderer.stop();this.currentRenderer=t;this.currentRenderer.start()};t.prototype.flush=function e(){this.setObjectRenderer(this.emptyRenderer)};t.prototype.resize=function e(t,r){i.default.prototype.resize.call(this,t,r);this.rootRenderTarget.resize(t,r);if(this._activeRenderTarget===this.rootRenderTarget){this.rootRenderTarget.activate();if(this._activeShader){this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(true)}}};t.prototype.setBlendMode=function e(t){this.state.setBlendMode(t)};t.prototype.clear=function e(t){this._activeRenderTarget.clear(t)};t.prototype.setTransform=function e(t){this._activeRenderTarget.transform=t};t.prototype.clearRenderTexture=function e(t,r){var n=t.baseTexture;var i=n._glRenderTargets[this.CONTEXT_UID];if(i){i.clear(r)}return this};t.prototype.bindRenderTexture=function e(t,r){var n=void 0;if(t){var i=t.baseTexture;if(!i._glRenderTargets[this.CONTEXT_UID]){this.textureManager.updateTexture(i,0)}this.unbindTexture(i);n=i._glRenderTargets[this.CONTEXT_UID];n.setFrame(t.frame)}else{n=this.rootRenderTarget}n.transform=r;this.bindRenderTarget(n);return this};t.prototype.bindRenderTarget=function e(t){if(t!==this._activeRenderTarget){this._activeRenderTarget=t;t.activate();if(this._activeShader){this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(true)}this.stencilManager.setMaskStack(t.stencilMaskStack)}return this};t.prototype.bindShader=function e(t,r){if(this._activeShader!==t){this._activeShader=t;t.bind();if(r!==false){t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(true)}}return this};t.prototype.bindTexture=function e(t,r,n){t=t||this.emptyTextures[r];t=t.baseTexture||t;t.touched=this.textureGC.count;if(!n){for(var i=0;i<this.boundTextures.length;i++){if(this.boundTextures[i]===t){return i}}if(r===undefined){this._nextTextureLocation++;this._nextTextureLocation%=this.boundTextures.length;r=this.boundTextures.length-this._nextTextureLocation-1}}else{r=r||0}var a=this.gl;var o=t._glTextures[this.CONTEXT_UID];if(!o){this.textureManager.updateTexture(t,r)}else{this.boundTextures[r]=t;a.activeTexture(a.TEXTURE0+r);a.bindTexture(a.TEXTURE_2D,o.texture)}return r};t.prototype.unbindTexture=function e(t){var r=this.gl;t=t.baseTexture||t;for(var n=0;n<this.boundTextures.length;n++){if(this.boundTextures[n]===t){this.boundTextures[n]=this.emptyTextures[n];r.activeTexture(r.TEXTURE0+n);r.bindTexture(r.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture)}}return this};t.prototype.createVao=function e(){return new C.default.VertexArrayObject(this.gl,this.state.attribState)};t.prototype.bindVao=function e(t){if(this._activeVao===t){return this}if(t){t.bind()}else if(this._activeVao){this._activeVao.unbind()}this._activeVao=t;return this};t.prototype.reset=function e(){this.setObjectRenderer(this.emptyRenderer);this._activeShader=null;this._activeRenderTarget=this.rootRenderTarget;this.rootRenderTarget.activate();this.state.resetToDefault();return this};t.prototype.handleContextLost=function e(t){t.preventDefault()};t.prototype.handleContextRestored=function e(){this.textureManager.removeAll();this._initContext()};t.prototype.destroy=function t(r){this.destroyPlugins();this.view.removeEventListener("webglcontextlost",this.handleContextLost);this.view.removeEventListener("webglcontextrestored",this.handleContextRestored);this.textureManager.destroy();e.prototype.destroy.call(this,r);this.uid=0;this.maskManager.destroy();this.stencilManager.destroy();this.filterManager.destroy();this.maskManager=null;this.filterManager=null;this.textureManager=null;this.currentRenderer=null;this.handleContextLost=null;this.handleContextRestored=null;this._contextOptions=null;this.gl.useProgram(null);if(this.gl.getExtension("WEBGL_lose_context")){this.gl.getExtension("WEBGL_lose_context").loseContext()}this.gl=null};return t}(i.default);t.default=k;P.pluginTarget.mixin(k)},function(e,t,r){"use strict";t.__esModule=true;var n=r(4);var i=r(1);var a=r(3);var o=u(a);var s=r(5);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(t,r,a,u,f,h){l(this,e);this.gl=t;this.frameBuffer=null;this.texture=null;this.clearColor=[0,0,0,0];this.size=new n.Rectangle(0,0,1,1);this.resolution=f||o.default.RESOLUTION;this.projectionMatrix=new n.Matrix;this.transform=null;this.frame=null;this.defaultFrame=new n.Rectangle;this.destinationFrame=null;this.sourceFrame=null;this.stencilBuffer=null;this.stencilMaskStack=[];this.filterData=null;this.scaleMode=u!==undefined?u:o.default.SCALE_MODE;this.root=h;if(!this.root){this.frameBuffer=s.GLFramebuffer.createRGBA(t,100,100);if(this.scaleMode===i.SCALE_MODES.NEAREST){this.frameBuffer.texture.enableNearestScaling()}else{this.frameBuffer.texture.enableLinearScaling()}this.texture=this.frameBuffer.texture}else{this.frameBuffer=new s.GLFramebuffer(t,100,100);this.frameBuffer.framebuffer=null}this.setFrame();this.resize(r,a)}e.prototype.clear=function e(t){var r=t||this.clearColor;this.frameBuffer.clear(r[0],r[1],r[2],r[3])};e.prototype.attachStencilBuffer=function e(){if(!this.root){this.frameBuffer.enableStencil()}};e.prototype.setFrame=function e(t,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame;this.sourceFrame=r||this.sourceFrame||this.destinationFrame};e.prototype.activate=function e(){var t=this.gl;this.frameBuffer.bind();this.calculateProjection(this.destinationFrame,this.sourceFrame);if(this.transform){this.projectionMatrix.append(this.transform)}if(this.destinationFrame!==this.sourceFrame){t.enable(t.SCISSOR_TEST);t.scissor(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)}else{t.disable(t.SCISSOR_TEST)}t.viewport(this.destinationFrame.x|0,this.destinationFrame.y|0,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)};e.prototype.calculateProjection=function e(t,r){var n=this.projectionMatrix;r=r||t;n.identity();if(!this.root){n.a=1/t.width*2;n.d=1/t.height*2;n.tx=-1-r.x*n.a;n.ty=-1-r.y*n.d}else{n.a=1/t.width*2;n.d=-1/t.height*2;n.tx=-1-r.x*n.a;n.ty=1-r.y*n.d}};e.prototype.resize=function e(t,r){t=t|0;r=r|0;if(this.size.width===t&&this.size.height===r){return}this.size.width=t;this.size.height=r;this.defaultFrame.width=t;this.defaultFrame.height=r;this.frameBuffer.resize(t*this.resolution,r*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)};e.prototype.destroy=function e(){this.frameBuffer.destroy();this.frameBuffer=null;this.texture=null};return e}();t.default=f},function(e,t,r){"use strict";t.__esModule=true;t.default=function(e,t,r){if(e.nativeLines){o(e,r)}else{a(e,t)}};var n=r(4);var i=r(2);function a(e,t){var r=e.points;if(r.length===0){return}var a=new n.Point(r[0],r[1]);var o=new n.Point(r[r.length-2],r[r.length-1]);if(a.x===o.x&&a.y===o.y){r=r.slice();r.pop();r.pop();o=new n.Point(r[r.length-2],r[r.length-1]);var s=o.x+(a.x-o.x)*.5;var u=o.y+(a.y-o.y)*.5;r.unshift(s,u);r.push(s,u)}var l=t.points;var f=t.indices;var h=r.length/2;var c=r.length;var d=l.length/6;var p=e.lineWidth/2;var v=(0,i.hex2rgb)(e.lineColor);var y=e.lineAlpha;var g=v[0]*y;var _=v[1]*y;var m=v[2]*y;var b=r[0];var x=r[1];var T=r[2];var w=r[3];var E=0;var O=0;var S=-(x-w);var P=b-T;var M=0;var C=0;var R=0;var A=0;var I=Math.sqrt(S*S+P*P);S/=I;P/=I;S*=p;P*=p;l.push(b-S,x-P,g,_,m,y);l.push(b+S,x+P,g,_,m,y);for(var D=1;D<h-1;++D){b=r[(D-1)*2];x=r[(D-1)*2+1];T=r[D*2];w=r[D*2+1];E=r[(D+1)*2];O=r[(D+1)*2+1];S=-(x-w);P=b-T;I=Math.sqrt(S*S+P*P);S/=I;P/=I;S*=p;P*=p;M=-(w-O);C=T-E;I=Math.sqrt(M*M+C*C);M/=I;C/=I;M*=p;C*=p;var L=-P+x-(-P+w);var j=-S+T-(-S+b);var k=(-S+b)*(-P+w)-(-S+T)*(-P+x);var N=-C+O-(-C+w);var F=-M+T-(-M+E);var B=(-M+E)*(-C+w)-(-M+T)*(-C+O);var U=L*F-N*j;if(Math.abs(U)<.1){U+=10.1;l.push(T-S,w-P,g,_,m,y);l.push(T+S,w+P,g,_,m,y);continue}var X=(j*B-F*k)/U;var W=(N*k-L*B)/U;var G=(X-T)*(X-T)+(W-w)*(W-w);if(G>196*p*p){R=S-M;A=P-C;I=Math.sqrt(R*R+A*A);R/=I;A/=I;R*=p;A*=p;l.push(T-R,w-A);l.push(g,_,m,y);l.push(T+R,w+A);l.push(g,_,m,y);l.push(T-R,w-A);l.push(g,_,m,y);c++}else{l.push(X,W);l.push(g,_,m,y);l.push(T-(X-T),w-(W-w));l.push(g,_,m,y)}}b=r[(h-2)*2];x=r[(h-2)*2+1];T=r[(h-1)*2];w=r[(h-1)*2+1];S=-(x-w);P=b-T;I=Math.sqrt(S*S+P*P);S/=I;P/=I;S*=p;P*=p;l.push(T-S,w-P);l.push(g,_,m,y);l.push(T+S,w+P);l.push(g,_,m,y);f.push(d);for(var H=0;H<c;++H){f.push(d++)}f.push(d-1)}function o(e,t){var r=0;var n=e.points;if(n.length===0)return;var a=t.points;var o=n.length/2;var s=(0,i.hex2rgb)(e.lineColor);var u=e.lineAlpha;var l=s[0]*u;var f=s[1]*u;var h=s[2]*u;for(r=1;r<o;r++){var c=n[(r-1)*2];var d=n[(r-1)*2+1];var p=n[r*2];var v=n[r*2+1];a.push(c,d);a.push(l,f,h,u);a.push(p,v);a.push(l,f,h,u)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}var o=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:30;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];i(this,e);console.log("test");this.listeners=r;this.playing=false;this.fpsCap=t}n(e,[{key:"add",value:function e(t){this.listeners.push(t)}},{key:"remove",value:function e(t){this.listeners.splice(this.listeners.indexOf(t),1)}},{key:"start",value:function e(){var t=this;this.playing=true;var r,n,i=a();var o=function e(){r=a();n=(r-i)/1e3;if(n>=1/t.fpsCap){t.listeners.forEach(function(e){return e(n)});i=r}if(t.playing){requestAnimationFrame(e)}};requestAnimationFrame(o)}},{key:"stop",value:function e(){this.playing=false}}]);return e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var u=function e(t){return function(e){var r=t;return function(e){s(t,e);function t(){a(this,t);return o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"componentDidMount",value:function e(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}console.log("mount");var n=this.state[r];var a=this.props.container;a.addChild(n)}},{key:"componentWillUnmount",value:function e(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}var n=this.state[r];var a=this.props.container;a.removeChild(n)}}]);return t}(e)}};t.default=u},function(e,t,r){"use strict";function n(e){return function(){return e}}var i=function e(){};i.thatReturns=n;i.thatReturnsFalse=n(false);i.thatReturnsTrue=n(true);i.thatReturnsNull=n(null);i.thatReturnsThis=function(){return this};i.thatReturnsArgument=function(e){return e};e.exports=i},function(e,t,r){"use strict";var n=function e(t){};if(process.env.NODE_ENV!=="production"){n=function e(t){if(t===undefined){throw new Error("invariant requires an error message argument")}}}function i(e,t,r,i,a,o,s,u){n(t);if(!e){var l;if(t===undefined){l=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var f=[r,i,a,o,s,u];var h=0;l=new Error(t.replace(/%s/g,function(){return f[h++]}));l.name="Invariant Violation"}l.framesToPop=1;throw l}}e.exports=i},function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;n(this,e);this.x=t;this.y=r}e.prototype.clone=function t(){return new e(this.x,this.y)};e.prototype.copy=function e(t){this.set(t.x,t.y)};e.prototype.equals=function e(t){return t.x===this.x&&t.y===this.y};e.prototype.set=function e(t,r){this.x=t||0;this.y=r||(r!==0?this.x:0)};return e}();t.default=i},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(33);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;s(this,e);this.a=t;this.b=r;this.c=n;this.d=i;this.tx=a;this.ty=o;this.array=null}e.prototype.fromArray=function e(t){this.a=t[0];this.b=t[1];this.c=t[3];this.d=t[4];this.tx=t[2];this.ty=t[5]};e.prototype.set=function e(t,r,n,i,a,o){this.a=t;this.b=r;this.c=n;this.d=i;this.tx=a;this.ty=o;return this};e.prototype.toArray=function e(t,r){if(!this.array){this.array=new Float32Array(9)}var n=r||this.array;if(t){n[0]=this.a;n[1]=this.b;n[2]=0;n[3]=this.c;n[4]=this.d;n[5]=0;n[6]=this.tx;n[7]=this.ty;n[8]=1}else{n[0]=this.a;n[1]=this.c;n[2]=this.tx;n[3]=this.b;n[4]=this.d;n[5]=this.ty;n[6]=0;n[7]=0;n[8]=1}return n};e.prototype.apply=function e(t,r){r=r||new a.default;var n=t.x;var i=t.y;r.x=this.a*n+this.c*i+this.tx;r.y=this.b*n+this.d*i+this.ty;return r};e.prototype.applyInverse=function e(t,r){r=r||new a.default;var n=1/(this.a*this.d+this.c*-this.b);var i=t.x;var o=t.y;r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n;r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n;return r};e.prototype.translate=function e(t,r){this.tx+=t;this.ty+=r;return this};e.prototype.scale=function e(t,r){this.a*=t;this.d*=r;this.c*=t;this.b*=r;this.tx*=t;this.ty*=r;return this};e.prototype.rotate=function e(t){var r=Math.cos(t);var n=Math.sin(t);var i=this.a;var a=this.c;var o=this.tx;this.a=i*r-this.b*n;this.b=i*n+this.b*r;this.c=a*r-this.d*n;this.d=a*n+this.d*r;this.tx=o*r-this.ty*n;this.ty=o*n+this.ty*r;return this};e.prototype.append=function e(t){var r=this.a;var n=this.b;var i=this.c;var a=this.d;this.a=t.a*r+t.b*i;this.b=t.a*n+t.b*a;this.c=t.c*r+t.d*i;this.d=t.c*n+t.d*a;this.tx=t.tx*r+t.ty*i+this.tx;this.ty=t.tx*n+t.ty*a+this.ty;return this};e.prototype.setTransform=function e(t,r,n,i,a,o,s,u,l){var f=Math.sin(s);var h=Math.cos(s);var c=Math.cos(l);var d=Math.sin(l);var p=-Math.sin(u);var v=Math.cos(u);var y=h*a;var g=f*a;var _=-f*o;var m=h*o;this.a=c*y+d*_;this.b=c*g+d*m;this.c=p*y+v*_;this.d=p*g+v*m;this.tx=t+(n*y+i*_);this.ty=r+(n*g+i*m);return this};e.prototype.prepend=function e(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a;var i=this.c;this.a=n*t.a+this.b*t.c;this.b=n*t.b+this.b*t.d;this.c=i*t.a+this.d*t.c;this.d=i*t.b+this.d*t.d}this.tx=r*t.a+this.ty*t.c+t.tx;this.ty=r*t.b+this.ty*t.d+t.ty;return this};e.prototype.decompose=function e(t){var r=this.a;var n=this.b;var i=this.c;var a=this.d;var o=-Math.atan2(-i,a);var s=Math.atan2(n,r);var u=Math.abs(o+s);if(u<1e-5){t.rotation=s;if(r<0&&a>=0){t.rotation+=t.rotation<=0?Math.PI:-Math.PI}t.skew.x=t.skew.y=0}else{t.skew.x=o;t.skew.y=s}t.scale.x=Math.sqrt(r*r+n*n);t.scale.y=Math.sqrt(i*i+a*a);t.position.x=this.tx;t.position.y=this.ty;return t};e.prototype.invert=function e(){var t=this.a;var r=this.b;var n=this.c;var i=this.d;var a=this.tx;var o=t*i-r*n;this.a=i/o;this.b=-r/o;this.c=-n/o;this.d=t/o;this.tx=(n*this.ty-i*a)/o;this.ty=-(t*this.ty-r*a)/o;return this};e.prototype.identity=function e(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;return this};e.prototype.clone=function t(){var r=new e;r.a=this.a;r.b=this.b;r.c=this.c;r.d=this.d;r.tx=this.tx;r.ty=this.ty;return r};e.prototype.copy=function e(t){t.a=this.a;t.b=this.b;t.c=this.c;t.d=this.d;t.tx=this.tx;t.ty=this.ty;return t};n(e,null,[{key:"IDENTITY",get:function t(){return new e}},{key:"TEMP_MATRIX",get:function t(){return new e}}]);return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(1);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;a(this,e);this.x=Number(t);this.y=Number(r);this.width=Number(n);this.height=Number(o);this.type=i.SHAPES.RECT}e.prototype.clone=function t(){return new e(this.x,this.y,this.width,this.height)};e.prototype.copy=function e(t){this.x=t.x;this.y=t.y;this.width=t.width;this.height=t.height;return this};e.prototype.contains=function e(t,r){if(this.width<=0||this.height<=0){return false}if(t>=this.x&&t<this.x+this.width){if(r>=this.y&&r<this.y+this.height){return true}}return false};e.prototype.pad=function e(t,r){t=t||0;r=r||(r!==0?t:0);this.x-=t;this.y-=r;this.width+=t*2;this.height+=r*2};e.prototype.fit=function e(t){if(this.x<t.x){this.width+=this.x;if(this.width<0){this.width=0}this.x=t.x}if(this.y<t.y){this.height+=this.y;if(this.height<0){this.height=0}this.y=t.y}if(this.x+this.width>t.x+t.width){this.width=t.width-this.x;if(this.width<0){this.width=0}}if(this.y+this.height>t.y+t.height){this.height=t.height-this.y;if(this.height<0){this.height=0}}};e.prototype.enlarge=function e(t){var r=Math.min(this.x,t.x);var n=Math.max(this.x+this.width,t.x+t.width);var i=Math.min(this.y,t.y);var a=Math.max(this.y+this.height,t.y+t.height);this.x=r;this.width=n-r;this.y=i;this.height=a-i};n(e,[{key:"left",get:function e(){return this.x}},{key:"right",get:function e(){return this.x+this.width}},{key:"top",get:function e(){return this.y}},{key:"bottom",get:function e(){return this.y+this.height}}],[{key:"EMPTY",get:function t(){return new e(0,0,0,0)}}]);return e}();t.default=o},function(e,t){var r=function(e,t){if(!n){var r=Object.keys(i);n={};for(var a=0;a<r.length;++a){var o=r[a];n[e[o]]=i[o]}}return n[t]};var n=null;var i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=r},function(e,t,r){"use strict";t.__esModule=true;var n=r(4);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e);this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity;this.rect=null}e.prototype.isEmpty=function e(){return this.minX>this.maxX||this.minY>this.maxY};e.prototype.clear=function e(){this.updateID++;this.minX=Infinity;this.minY=Infinity;this.maxX=-Infinity;this.maxY=-Infinity};e.prototype.getRectangle=function e(t){if(this.minX>this.maxX||this.minY>this.maxY){return n.Rectangle.EMPTY}t=t||new n.Rectangle(0,0,1,1);t.x=this.minX;t.y=this.minY;t.width=this.maxX-this.minX;t.height=this.maxY-this.minY;return t};e.prototype.addPoint=function e(t){this.minX=Math.min(this.minX,t.x);this.maxX=Math.max(this.maxX,t.x);this.minY=Math.min(this.minY,t.y);this.maxY=Math.max(this.maxY,t.y)};e.prototype.addQuad=function e(t){var r=this.minX;var n=this.minY;var i=this.maxX;var a=this.maxY;var o=t[0];var s=t[1];r=o<r?o:r;n=s<n?s:n;i=o>i?o:i;a=s>a?s:a;o=t[2];s=t[3];r=o<r?o:r;n=s<n?s:n;i=o>i?o:i;a=s>a?s:a;o=t[4];s=t[5];r=o<r?o:r;n=s<n?s:n;i=o>i?o:i;a=s>a?s:a;o=t[6];s=t[7];r=o<r?o:r;n=s<n?s:n;i=o>i?o:i;a=s>a?s:a;this.minX=r;this.minY=n;this.maxX=i;this.maxY=a};e.prototype.addFrame=function e(t,r,n,i,a){var o=t.worldTransform;var s=o.a;var u=o.b;var l=o.c;var f=o.d;var h=o.tx;var c=o.ty;var d=this.minX;var p=this.minY;var v=this.maxX;var y=this.maxY;var g=s*r+l*n+h;var _=u*r+f*n+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;g=s*i+l*n+h;_=u*i+f*n+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;g=s*r+l*a+h;_=u*r+f*a+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;g=s*i+l*a+h;_=u*i+f*a+c;d=g<d?g:d;p=_<p?_:p;v=g>v?g:v;y=_>y?_:y;this.minX=d;this.minY=p;this.maxX=v;this.maxY=y};e.prototype.addVertices=function e(t,r,n,i){var a=t.worldTransform;var o=a.a;var s=a.b;var u=a.c;var l=a.d;var f=a.tx;var h=a.ty;var c=this.minX;var d=this.minY;var p=this.maxX;var v=this.maxY;for(var y=n;y<i;y+=2){var g=r[y];var _=r[y+1];var m=o*g+u*_+f;var b=l*_+s*g+h;c=m<c?m:c;d=b<d?b:d;p=m>p?m:p;v=b>v?b:v}this.minX=c;this.minY=d;this.maxX=p;this.maxY=v};e.prototype.addBounds=function e(t){var r=this.minX;var n=this.minY;var i=this.maxX;var a=this.maxY;this.minX=t.minX<r?t.minX:r;this.minY=t.minY<n?t.minY:n;this.maxX=t.maxX>i?t.maxX:i;this.maxY=t.maxY>a?t.maxY:a};e.prototype.addBoundsMask=function e(t,r){var n=t.minX>r.minX?t.minX:r.minX;var i=t.minY>r.minY?t.minY:r.minY;var a=t.maxX<r.maxX?t.maxX:r.maxX;var o=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=a&&i<=o){var s=this.minX;var u=this.minY;var l=this.maxX;var f=this.maxY;this.minX=n<s?n:s;this.minY=i<u?i:u;this.maxX=a>l?a:l;this.maxY=o>f?o:f}};e.prototype.addBoundsArea=function e(t,r){var n=t.minX>r.x?t.minX:r.x;var i=t.minY>r.y?t.minY:r.y;var a=t.maxX<r.x+r.width?t.maxX:r.x+r.width;var o=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=a&&i<=o){var s=this.minX;var u=this.minY;var l=this.maxX;var f=this.maxY;this.minX=n<s?n:s;this.minY=i<u?i:u;this.maxX=a>l?a:l;this.maxY=o>f?o:f}};return e}();t.default=a},function(e,t,r){var n,i,a;/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
(function(r){var o=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,h=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,v=/BlackBerry/i,y=/BB10/i,g=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,m=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:"+"Nexus 7"+"|"+"BNTV250"+"|"+"Kindle Fire"+"|"+"Silk"+"|"+"GT-P1000"+")","i");var x=function(e,t){return e.test(t)};var T=function(e){var t=e||navigator.userAgent;var r=t.split("[FBAN");if(typeof r[1]!=="undefined"){t=r[0]}r=t.split("Twitter");if(typeof r[1]!=="undefined"){t=r[0]}this.apple={phone:x(o,t),ipod:x(s,t),tablet:!x(o,t)&&x(u,t),device:x(o,t)||x(s,t)||x(u,t)};this.amazon={phone:x(h,t),tablet:!x(h,t)&&x(c,t),device:x(h,t)||x(c,t)};this.android={phone:x(h,t)||x(l,t),tablet:!x(h,t)&&!x(l,t)&&(x(c,t)||x(f,t)),device:x(h,t)||x(c,t)||x(l,t)||x(f,t)};this.windows={phone:x(d,t),tablet:x(p,t),device:x(d,t)||x(p,t)};this.other={blackberry:x(v,t),blackberry10:x(y,t),opera:x(g,t),firefox:x(m,t),chrome:x(_,t),device:x(v,t)||x(y,t)||x(g,t)||x(m,t)||x(_,t)};this.seven_inch=x(b,t);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var w=function(){var e=new T;e.Class=T;return e};if(typeof e!=="undefined"&&e.exports&&typeof window==="undefined"){e.exports=T}else if(typeof e!=="undefined"&&e.exports&&typeof window!=="undefined"){e.exports=w()}else if(true){!(i=[],n=r.isMobile=w(),a=typeof n==="function"?n.apply(t,i):n,a!==undefined&&(e.exports=a))}else{r.isMobile=w()}})(this)},function(e,t,r){"use strict";t.__esModule=true;var n=r(4);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){i(this,e);this.worldTransform=new n.Matrix;this.localTransform=new n.Matrix;this._worldID=0;this._parentID=0}e.prototype.updateLocalTransform=function e(){};e.prototype.updateTransform=function e(t){var r=t.worldTransform;var n=this.worldTransform;var i=this.localTransform;n.a=i.a*r.a+i.b*r.c;n.b=i.a*r.b+i.b*r.d;n.c=i.c*r.a+i.d*r.c;n.d=i.c*r.b+i.d*r.d;n.tx=i.tx*r.a+i.ty*r.c+r.tx;n.ty=i.tx*r.b+i.ty*r.d+r.ty;this._worldID++};return e}();t.default=a;a.prototype.updateWorldTransform=a.prototype.updateTransform;a.IDENTITY=new a},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var a=r(2);var o=r(1);var s=r(13);var u=h(s);var l=r(18);var f=h(l);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=new i.Point;var y=function(e){p(t,e);function t(r){c(this,t);var n=d(this,e.call(this));n._anchor=new i.ObservablePoint(n._onAnchorUpdate,n);n._texture=null;n._width=0;n._height=0;n._tint=null;n._tintRGB=null;n.tint=16777215;n.blendMode=o.BLEND_MODES.NORMAL;n.shader=null;n.cachedTint=16777215;n.texture=r||u.default.EMPTY;n.vertexData=new Float32Array(8);n.vertexTrimmedData=null;n._transformID=-1;n._textureID=-1;n._transformTrimmedID=-1;n._textureTrimmedID=-1;n.pluginName="sprite";return n}t.prototype._onTextureUpdate=function e(){this._textureID=-1;this._textureTrimmedID=-1;if(this._width){this.scale.x=(0,a.sign)(this.scale.x)*this._width/this._texture.orig.width}if(this._height){this.scale.y=(0,a.sign)(this.scale.y)*this._height/this._texture.orig.height}};t.prototype._onAnchorUpdate=function e(){this._transformID=-1;this._transformTrimmedID=-1};t.prototype.calculateVertices=function e(){if(this._transformID===this.transform._worldID&&this._textureID===this._texture._updateID){return}this._transformID=this.transform._worldID;this._textureID=this._texture._updateID;var t=this._texture;var r=this.transform.worldTransform;var n=r.a;var i=r.b;var a=r.c;var o=r.d;var s=r.tx;var u=r.ty;var l=this.vertexData;var f=t.trim;var h=t.orig;var c=this._anchor;var d=0;var p=0;var v=0;var y=0;if(f){p=f.x-c._x*h.width;d=p+f.width;y=f.y-c._y*h.height;v=y+f.height}else{p=-c._x*h.width;d=p+h.width;y=-c._y*h.height;v=y+h.height}l[0]=n*p+a*y+s;l[1]=o*y+i*p+u;l[2]=n*d+a*y+s;l[3]=o*y+i*d+u;l[4]=n*d+a*v+s;l[5]=o*v+i*d+u;l[6]=n*p+a*v+s;l[7]=o*v+i*p+u};t.prototype.calculateTrimmedVertices=function e(){if(!this.vertexTrimmedData){this.vertexTrimmedData=new Float32Array(8)}else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID){return}this._transformTrimmedID=this.transform._worldID;this._textureTrimmedID=this._texture._updateID;var t=this._texture;var r=this.vertexTrimmedData;var n=t.orig;var i=this._anchor;var a=this.transform.worldTransform;var o=a.a;var s=a.b;var u=a.c;var l=a.d;var f=a.tx;var h=a.ty;var c=-i._x*n.width;var d=c+n.width;var p=-i._y*n.height;var v=p+n.height;r[0]=o*c+u*p+f;r[1]=l*p+s*c+h;r[2]=o*d+u*p+f;r[3]=l*p+s*d+h;r[4]=o*d+u*v+f;r[5]=l*v+s*d+h;r[6]=o*c+u*v+f;r[7]=l*v+s*c+h};t.prototype._renderWebGL=function e(t){this.calculateVertices();t.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};t.prototype._renderCanvas=function e(t){t.plugins[this.pluginName].render(this)};t.prototype._calculateBounds=function e(){var t=this._texture.trim;var r=this._texture.orig;if(!t||t.width===r.width&&t.height===r.height){this.calculateVertices();this._bounds.addQuad(this.vertexData)}else{this.calculateTrimmedVertices();this._bounds.addQuad(this.vertexTrimmedData)}};t.prototype.getLocalBounds=function t(r){if(this.children.length===0){this._bounds.minX=this._texture.orig.width*-this._anchor._x;this._bounds.minY=this._texture.orig.height*-this._anchor._y;this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x);this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x);if(!r){if(!this._localBoundsRect){this._localBoundsRect=new i.Rectangle}r=this._localBoundsRect}return this._bounds.getRectangle(r)}return e.prototype.getLocalBounds.call(this,r)};t.prototype.containsPoint=function e(t){this.worldTransform.applyInverse(t,v);var r=this._texture.orig.width;var n=this._texture.orig.height;var i=-r*this.anchor.x;var a=0;if(v.x>=i&&v.x<i+r){a=-n*this.anchor.y;if(v.y>=a&&v.y<a+n){return true}}return false};t.prototype.destroy=function t(r){e.prototype.destroy.call(this,r);this._anchor=null;var n=typeof r==="boolean"?r:r&&r.texture;if(n){var i=typeof r==="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null;this.shader=null};t.from=function e(r){return new t(u.default.from(r))};t.fromFrame=function e(r){var n=a.TextureCache[r];if(!n){throw new Error('The frameId "'+r+'" does not exist in the texture cache')}return new t(n)};t.fromImage=function e(r,n,i){return new t(u.default.fromImage(r,n,i))};n(t,[{key:"width",get:function e(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function e(t){var r=(0,a.sign)(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width;this._width=t}},{key:"height",get:function e(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function e(t){var r=(0,a.sign)(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height;this._height=t}},{key:"anchor",get:function e(){return this._anchor},set:function e(t){this._anchor.copy(t)}},{key:"tint",get:function e(){return this._tint},set:function e(t){this._tint=t;this._tintRGB=(t>>16)+(t&65280)+((t&255)<<16)}},{key:"texture",get:function e(){return this._texture},set:function e(t){if(this._texture===t){return}this._texture=t;this.cachedTint=16777215;this._textureID=-1;this._textureTrimmedID=-1;if(t){if(t.baseTexture.hasLoaded){this._onTextureUpdate()}else{t.once("update",this._onTextureUpdate,this)}}}}]);return t}(f.default);t.default=y},function(e,t,r){"use strict";"use restrict";var n=32;t.INT_BITS=n;t.INT_MAX=2147483647;t.INT_MIN=-1<<n-1;t.sign=function(e){return(e>0)-(e<0)};t.abs=function(e){var t=e>>n-1;return(e^t)-t};t.min=function(e,t){return t^(e^t)&-(e<t)};t.max=function(e,t){return e^(e^t)&-(e<t)};t.isPow2=function(e){return!(e&e-1)&&!!e};t.log2=function(e){var t,r;t=(e>65535)<<4;e>>>=t;r=(e>255)<<3;e>>>=r;t|=r;r=(e>15)<<2;e>>>=r;t|=r;r=(e>3)<<1;e>>>=r;t|=r;return t|e>>1};t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0};t.popCount=function(e){e=e-(e>>>1&1431655765);e=(e&858993459)+(e>>>2&858993459);return(e+(e>>>4)&252645135)*16843009>>>24};function i(e){var t=32;e&=-e;if(e)t--;if(e&65535)t-=16;if(e&16711935)t-=8;if(e&252645135)t-=4;if(e&858993459)t-=2;if(e&1431655765)t-=1;return t}t.countTrailingZeros=i;t.nextPow2=function(e){e+=e===0;--e;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;return e+1};t.prevPow2=function(e){e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;return e-(e>>>1)};t.parity=function(e){e^=e>>>16;e^=e>>>8;e^=e>>>4;e&=15;return 27030>>>e&1};var a=new Array(256);(function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1){n<<=1;n|=r&1;--i}e[t]=n<<i&255}})(a);t.reverse=function(e){return a[e&255]<<24|a[e>>>8&255]<<16|a[e>>>16&255]<<8|a[e>>>24&255]};t.interleave2=function(e,t){e&=65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;t&=65535;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;return e|t<<1};t.deinterleave2=function(e,t){e=e>>>t&1431655765;e=(e|e>>>1)&858993459;e=(e|e>>>2)&252645135;e=(e|e>>>4)&16711935;e=(e|e>>>16)&65535;return e<<16>>16};t.interleave3=function(e,t,r){e&=1023;e=(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<4)&3272356035;e=(e|e<<2)&1227133513;t&=1023;t=(t|t<<16)&4278190335;t=(t|t<<8)&251719695;t=(t|t<<4)&3272356035;t=(t|t<<2)&1227133513;e|=t<<1;r&=1023;r=(r|r<<16)&4278190335;r=(r|r<<8)&251719695;r=(r|r<<4)&3272356035;r=(r|r<<2)&1227133513;return e|r<<2};t.deinterleave3=function(e,t){e=e>>>t&1227133513;e=(e|e>>>2)&3272356035;e=(e|e>>>4)&251719695;e=(e|e>>>8)&4278190335;e=(e|e>>>16)&1023;return e<<22>>22};t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>i(e)+1}},function(e,t,r){"use strict";t.__esModule=true;t.Ticker=t.shared=undefined;var n=r(129);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=new i.default;o.autoStart=true;o.destroy=function(){};t.shared=o;t.Ticker=i.default},function(e,t,r){"use strict";t.__esModule=true;var n=r(69);var i=s(n);var a=r(13);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(r,n){u(this,t);var a=null;if(!(r instanceof i.default)){var o=arguments[1];var s=arguments[2];var f=arguments[3];var h=arguments[4];console.warn("Please use RenderTexture.create("+o+", "+s+") instead of the ctor directly.");a=arguments[0];n=null;r=new i.default(o,s,f,h)}var c=l(this,e.call(this,r,n));c.legacyRenderer=a;c.valid=true;c._updateUvs();return c}t.prototype.resize=function e(t,r,n){this.valid=t>0&&r>0;this._frame.width=this.orig.width=t;this._frame.height=this.orig.height=r;if(!n){this.baseTexture.resize(t,r)}this._updateUvs()};t.create=function e(r,n,a,o){return new t(new i.default(r,n,a,o))};return t}(o.default);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(2);var i=r(71);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}var s={getTintedTexture:function e(t,r){var n=t._texture;r=s.roundColor(r);var i="#"+("00000"+(r|0).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var a=n.tintCache[i];var o=void 0;if(a){if(a.tintId===n._updateID){return n.tintCache[i]}o=n.tintCache[i]}else{o=s.canvas||document.createElement("canvas")}s.tintMethod(n,r,o);o.tintId=n._updateID;if(s.convertTintToImage){var u=new Image;u.src=o.toDataURL();n.tintCache[i]=u}else{n.tintCache[i]=o;s.canvas=null}return o},tintWithMultiply:function e(t,r,n){var i=n.getContext("2d");var a=t._frame.clone();var o=t.baseTexture.resolution;a.x*=o;a.y*=o;a.width*=o;a.height*=o;n.width=Math.ceil(a.width);n.height=Math.ceil(a.height);i.fillStyle="#"+("00000"+(r|0).toString(16)).substr(-6);i.fillRect(0,0,a.width,a.height);i.globalCompositeOperation="multiply";i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height);i.globalCompositeOperation="destination-atop";i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height)},tintWithOverlay:function e(t,r,n){var i=n.getContext("2d");var a=t._frame.clone();var o=t.baseTexture.resolution;a.x*=o;a.y*=o;a.width*=o;a.height*=o;n.width=Math.ceil(a.width);n.height=Math.ceil(a.height);i.globalCompositeOperation="copy";i.fillStyle="#"+("00000"+(r|0).toString(16)).substr(-6);i.fillRect(0,0,a.width,a.height);i.globalCompositeOperation="destination-atop";i.drawImage(t.baseTexture.source,a.x,a.y,a.width,a.height,0,0,a.width,a.height)},tintWithPerPixel:function e(t,r,i){var a=i.getContext("2d");var o=t._frame.clone();var s=t.baseTexture.resolution;o.x*=s;o.y*=s;o.width*=s;o.height*=s;i.width=Math.ceil(o.width);i.height=Math.ceil(o.height);a.globalCompositeOperation="copy";a.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);var u=(0,n.hex2rgb)(r);var l=u[0];var f=u[1];var h=u[2];var c=a.getImageData(0,0,o.width,o.height);var d=c.data;for(var p=0;p<d.length;p+=4){d[p+0]*=l;d[p+1]*=f;d[p+2]*=h}a.putImageData(c,0,0)},roundColor:function e(t){var r=s.cacheStepsPerColorChannel;var i=(0,n.hex2rgb)(t);i[0]=Math.min(255,i[0]/r*r);i[1]=Math.min(255,i[1]/r*r);i[2]=Math.min(255,i[2]/r*r);return(0,n.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:false,canUseMultiply:(0,a.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel;t.default=s},function(e,t,r){"use strict";t.__esModule=true;t.default=n;function n(e){var t=e*6;var r=new Uint16Array(t);for(var n=0,i=0;n<t;n+=6,i+=4){r[n+0]=i+0;r[n+1]=i+1;r[n+2]=i+2;r[n+3]=i+0;r[n+4]=i+2;r[n+5]=i+3}return r}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(34);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=new a.default;var l=function(){function e(t,r){s(this,e);this._texture=t;this.mapCoord=new a.default;this.uClampFrame=new Float32Array(4);this.uClampOffset=new Float32Array(2);this._lastTextureID=-1;this.clampOffset=0;this.clampMargin=typeof r==="undefined"?.5:r}e.prototype.multiplyUvs=function e(t,r){if(r===undefined){r=t}var n=this.mapCoord;for(var i=0;i<t.length;i+=2){var a=t[i];var o=t[i+1];r[i]=a*n.a+o*n.c+n.tx;r[i+1]=a*n.b+o*n.d+n.ty}return r};e.prototype.update=function e(t){var r=this._texture;if(!r||!r.valid){return false}if(!t&&this._lastTextureID===r._updateID){return false}this._lastTextureID=r._updateID;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig;var a=r.trim;if(a){u.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height);this.mapCoord.append(u)}var o=r.baseTexture;var s=this.uClampFrame;var l=this.clampMargin/o.resolution;var f=this.clampOffset;s[0]=(r._frame.x+l+f)/o.width;s[1]=(r._frame.y+l+f)/o.height;s[2]=(r._frame.x+r._frame.width-l+f)/o.width;s[3]=(r._frame.y+r._frame.height-l+f)/o.height;this.uClampOffset[0]=f/o.realWidth;this.uClampOffset[1]=f/o.realHeight;return true};n(e,[{key:"texture",get:function e(){return this._texture},set:function e(t){this._texture=t;this._lastTextureID=-1}}]);return e}();t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(94);var a=u(i);var o=r(93);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=!!(window.XDomainRequest&&!("withCredentials"in new XMLHttpRequest));var h=null;var c=0;var d=200;var p=204;var v=1223;var y=2;function g(){}var _=function(){e.setExtensionLoadType=function t(r,n){m(e._loadTypeMap,r,n)};e.setExtensionXhrType=function t(r,n){m(e._xhrTypeMap,r,n)};function e(t,r,n){l(this,e);if(typeof t!=="string"||typeof r!=="string"){throw new Error("Both name and url are required for constructing a resource.")}n=n||{};this._flags=0;this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0);this.name=t;this.url=r;this.extension=this._getExtension();this.data=null;this.crossOrigin=n.crossOrigin===true?"anonymous":n.crossOrigin;this.loadType=n.loadType||this._determineLoadType();this.xhrType=n.xhrType;this.metadata=n.metadata||{};this.error=null;this.xhr=null;this.children=[];this.type=e.TYPE.UNKNOWN;this.progressChunk=0;this._dequeue=g;this._onLoadBinding=null;this._boundComplete=this.complete.bind(this);this._boundOnError=this._onError.bind(this);this._boundOnProgress=this._onProgress.bind(this);this._boundXhrOnError=this._xhrOnError.bind(this);this._boundXhrOnAbort=this._xhrOnAbort.bind(this);this._boundXhrOnLoad=this._xhrOnLoad.bind(this);this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this);this.onStart=new s.default;this.onProgress=new s.default;this.onComplete=new s.default;this.onAfterMiddleware=new s.default}e.prototype.complete=function t(){if(this.data&&this.data.removeEventListener){this.data.removeEventListener("error",this._boundOnError,false);this.data.removeEventListener("load",this._boundComplete,false);this.data.removeEventListener("progress",this._boundOnProgress,false);this.data.removeEventListener("canplaythrough",this._boundComplete,false)}if(this.xhr){if(this.xhr.removeEventListener){this.xhr.removeEventListener("error",this._boundXhrOnError,false);this.xhr.removeEventListener("abort",this._boundXhrOnAbort,false);this.xhr.removeEventListener("progress",this._boundOnProgress,false);this.xhr.removeEventListener("load",this._boundXhrOnLoad,false)}else{this.xhr.onerror=null;this.xhr.ontimeout=null;this.xhr.onprogress=null;this.xhr.onload=null}}if(this.isComplete){throw new Error("Complete called again for an already completed resource.")}this._setFlag(e.STATUS_FLAGS.COMPLETE,true);this._setFlag(e.STATUS_FLAGS.LOADING,false);this.onComplete.dispatch(this)};e.prototype.abort=function t(r){if(this.error){return}this.error=new Error(r);if(this.xhr){this.xhr.abort()}else if(this.xdr){this.xdr.abort()}else if(this.data){if(this.data.src){this.data.src=e.EMPTY_GIF}else{while(this.data.firstChild){this.data.removeChild(this.data.firstChild)}}}this.complete()};e.prototype.load=function t(r){var n=this;if(this.isLoading){return}if(this.isComplete){if(r){setTimeout(function(){return r(n)},1)}return}else if(r){this.onComplete.once(r)}this._setFlag(e.STATUS_FLAGS.LOADING,true);this.onStart.dispatch(this);if(this.crossOrigin===false||typeof this.crossOrigin!=="string"){this.crossOrigin=this._determineCrossOrigin(this.url)}switch(this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE;this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO;this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO;this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:if(f&&this.crossOrigin){this._loadXdr()}else{this._loadXhr()}break}};e.prototype._hasFlag=function e(t){return!!(this._flags&t)};e.prototype._setFlag=function e(t,r){this._flags=r?this._flags|t:this._flags&~t};e.prototype._loadElement=function e(t){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(t==="image"&&typeof window.Image!=="undefined"){this.data=new Image}else{this.data=document.createElement(t)}if(this.crossOrigin){this.data.crossOrigin=this.crossOrigin}if(!this.metadata.skipSource){this.data.src=this.url}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false)};e.prototype._loadSourceElement=function e(t){if(this.metadata.loadElement){this.data=this.metadata.loadElement}else if(t==="audio"&&typeof window.Audio!=="undefined"){this.data=new Audio}else{this.data=document.createElement(t)}if(this.data===null){this.abort("Unsupported element: "+t);return}if(!this.metadata.skipSource){if(navigator.isCocoonJS){this.data.src=Array.isArray(this.url)?this.url[0]:this.url}else if(Array.isArray(this.url)){var r=this.metadata.mimeType;for(var n=0;n<this.url.length;++n){this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(r)?r[n]:r))}}else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}}this.data.addEventListener("error",this._boundOnError,false);this.data.addEventListener("load",this._boundComplete,false);this.data.addEventListener("progress",this._boundOnProgress,false);this.data.addEventListener("canplaythrough",this._boundComplete,false);this.data.load()};e.prototype._loadXhr=function t(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,true);if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT){r.responseType=e.XHR_RESPONSE_TYPE.TEXT}else{r.responseType=this.xhrType}r.addEventListener("error",this._boundXhrOnError,false);r.addEventListener("abort",this._boundXhrOnAbort,false);r.addEventListener("progress",this._boundOnProgress,false);r.addEventListener("load",this._boundXhrOnLoad,false);r.send()};e.prototype._loadXdr=function e(){if(typeof this.xhrType!=="string"){this.xhrType=this._determineXhrType()}var t=this.xhr=new XDomainRequest;t.timeout=5e3;t.onerror=this._boundXhrOnError;t.ontimeout=this._boundXdrOnTimeout;t.onprogress=this._boundOnProgress;t.onload=this._boundXhrOnLoad;t.open("GET",this.url,true);setTimeout(function(){return t.send()},1)};e.prototype._createSource=function e(t,r,n){if(!n){n=t+"/"+this._getExtension(r)}var i=document.createElement("source");i.src=r;i.type=n;return i};e.prototype._onError=function e(t){this.abort("Failed to load element using: "+t.target.nodeName)};e.prototype._onProgress=function e(t){if(t&&t.lengthComputable){this.onProgress.dispatch(this,t.loaded/t.total)}};e.prototype._xhrOnError=function e(){var t=this.xhr;this.abort(b(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')};e.prototype._xhrOnAbort=function e(){this.abort(b(this.xhr)+" Request was aborted by the user.")};e.prototype._xdrOnTimeout=function e(){this.abort(b(this.xhr)+" Request timed out.")};e.prototype._xhrOnLoad=function t(){var r=this.xhr;var n="";var i=typeof r.status==="undefined"?d:r.status;if(r.responseType===""||r.responseType==="text"||typeof r.responseType==="undefined"){n=r.responseText}if(i===c&&n.length>0){i=d}else if(i===v){i=p}var a=i/100|0;if(a===y){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT){this.data=n;this.type=e.TYPE.TEXT}else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON){try{this.data=JSON.parse(n);this.type=e.TYPE.JSON}catch(e){this.abort("Error trying to parse loaded json: "+e);return}}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT){try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(n,"text/xml")}else{var s=document.createElement("div");s.innerHTML=n;this.data=s}this.type=e.TYPE.XML}catch(e){this.abort("Error trying to parse loaded xml: "+e);return}}else{this.data=r.response||n}}else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()};e.prototype._determineCrossOrigin=function e(t,r){if(t.indexOf("data:")===0){return""}r=r||window.location;if(!h){h=document.createElement("a")}h.href=t;t=(0,a.default)(h.href,{strictMode:true});var n=!t.port&&r.port===""||t.port===r.port;var i=t.protocol?t.protocol+":":"";if(t.host!==r.hostname||!n||i!==r.protocol){return"anonymous"}return""};e.prototype._determineXhrType=function t(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT};e.prototype._determineLoadType=function t(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR};e.prototype._getExtension=function e(){var t=this.url;var r="";if(this.isDataUrl){var n=t.indexOf("/");r=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?");var a=t.indexOf("#");var o=Math.min(i>-1?i:t.length,a>-1?a:t.length);t=t.substring(0,o);r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()};e.prototype._getMimeFromXhrType=function t(r){switch(r){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}};n(e,[{key:"isDataUrl",get:function t(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function t(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function t(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]);return e}();t.default=_;_.STATUS_FLAGS={NONE:0,DATA_URL:1<<0,COMPLETE:1<<1,LOADING:1<<2};_.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6};_.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4};_.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"};_._loadTypeMap={gif:_.LOAD_TYPE.IMAGE,png:_.LOAD_TYPE.IMAGE,bmp:_.LOAD_TYPE.IMAGE,jpg:_.LOAD_TYPE.IMAGE,jpeg:_.LOAD_TYPE.IMAGE,tif:_.LOAD_TYPE.IMAGE,tiff:_.LOAD_TYPE.IMAGE,webp:_.LOAD_TYPE.IMAGE,tga:_.LOAD_TYPE.IMAGE,svg:_.LOAD_TYPE.IMAGE,"svg+xml":_.LOAD_TYPE.IMAGE,mp3:_.LOAD_TYPE.AUDIO,ogg:_.LOAD_TYPE.AUDIO,wav:_.LOAD_TYPE.AUDIO,mp4:_.LOAD_TYPE.VIDEO,webm:_.LOAD_TYPE.VIDEO};_._xhrTypeMap={xhtml:_.XHR_RESPONSE_TYPE.DOCUMENT,html:_.XHR_RESPONSE_TYPE.DOCUMENT,htm:_.XHR_RESPONSE_TYPE.DOCUMENT,xml:_.XHR_RESPONSE_TYPE.DOCUMENT,tmx:_.XHR_RESPONSE_TYPE.DOCUMENT,svg:_.XHR_RESPONSE_TYPE.DOCUMENT,tsx:_.XHR_RESPONSE_TYPE.DOCUMENT,gif:_.XHR_RESPONSE_TYPE.BLOB,png:_.XHR_RESPONSE_TYPE.BLOB,bmp:_.XHR_RESPONSE_TYPE.BLOB,jpg:_.XHR_RESPONSE_TYPE.BLOB,jpeg:_.XHR_RESPONSE_TYPE.BLOB,tif:_.XHR_RESPONSE_TYPE.BLOB,tiff:_.XHR_RESPONSE_TYPE.BLOB,webp:_.XHR_RESPONSE_TYPE.BLOB,tga:_.XHR_RESPONSE_TYPE.BLOB,json:_.XHR_RESPONSE_TYPE.JSON,text:_.XHR_RESPONSE_TYPE.TEXT,txt:_.XHR_RESPONSE_TYPE.TEXT,ttf:_.XHR_RESPONSE_TYPE.BUFFER,otf:_.XHR_RESPONSE_TYPE.BUFFER};_.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";function m(e,t,r){if(t&&t.indexOf(".")===0){t=t.substring(1)}if(!t){return}e[t]=r}function b(e){return e.toString().replace("object ","")}},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=u(n);var a=r(100);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=i.ticker.shared;i.settings.UPLOADS_PER_FRAME=4;var h=function(){function e(t){var r=this;l(this,e);this.limiter=new o.default(i.settings.UPLOADS_PER_FRAME);this.renderer=t;this.uploadHookHelper=null;this.queue=[];this.addHooks=[];this.uploadHooks=[];this.completes=[];this.ticking=false;this.delayedTick=function(){if(!r.queue){return}r.prepareItems()};this.registerFindHook(g);this.registerFindHook(_);this.registerFindHook(c);this.registerFindHook(d);this.registerFindHook(p);this.registerUploadHook(v);this.registerUploadHook(y)}e.prototype.upload=function e(t,r){if(typeof t==="function"){r=t;t=null}if(t){this.add(t)}if(this.queue.length){if(r){this.completes.push(r)}if(!this.ticking){this.ticking=true;f.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY)}}else if(r){r()}};e.prototype.tick=function e(){setTimeout(this.delayedTick,0)};e.prototype.prepareItems=function e(){this.limiter.beginFrame();while(this.queue.length&&this.limiter.allowedToUpload()){var t=this.queue[0];var r=false;if(t&&!t._destroyed){for(var n=0,a=this.uploadHooks.length;n<a;n++){if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift();r=true;break}}}if(!r){this.queue.shift()}}if(!this.queue.length){this.ticking=false;var o=this.completes.slice(0);this.completes.length=0;for(var s=0,u=o.length;s<u;s++){o[s]()}}else{f.addOnce(this.tick,this,i.UPDATE_PRIORITY.UTILITY)}};e.prototype.registerFindHook=function e(t){if(t){this.addHooks.push(t)}return this};e.prototype.registerUploadHook=function e(t){if(t){this.uploadHooks.push(t)}return this};e.prototype.add=function e(t){for(var r=0,n=this.addHooks.length;r<n;r++){if(this.addHooks[r](t,this.queue)){break}}if(t instanceof i.Container){for(var a=t.children.length-1;a>=0;a--){this.add(t.children[a])}}return this};e.prototype.destroy=function e(){if(this.ticking){f.remove(this.tick,this)}this.ticking=false;this.addHooks=null;this.uploadHooks=null;this.renderer=null;this.completes=null;this.queue=null;this.limiter=null;this.uploadHookHelper=null};return e}();t.default=h;function c(e,t){var r=false;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++){if(e._textures[n]instanceof i.Texture){var a=e._textures[n].baseTexture;if(t.indexOf(a)===-1){t.push(a);r=true}}}}return r}function d(e,t){if(e instanceof i.BaseTexture){if(t.indexOf(e)===-1){t.push(e)}return true}return false}function p(e,t){if(e._texture&&e._texture instanceof i.Texture){var r=e._texture.baseTexture;if(t.indexOf(r)===-1){t.push(r)}return true}return false}function v(e,t){if(t instanceof i.Text){t.updateText(true);return true}return false}function y(e,t){if(t instanceof i.TextStyle){var r=t.toFontString();i.TextMetrics.measureFont(r);return true}return false}function g(e,t){if(e instanceof i.Text){if(t.indexOf(e.style)===-1){t.push(e.style)}if(t.indexOf(e)===-1){t.push(e)}var r=e._texture.baseTexture;if(t.indexOf(r)===-1){t.push(r)}return true}return false}function _(e,t){if(e instanceof i.TextStyle){if(t.indexOf(e)===-1){t.push(e)}return true}return false}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(7);var a=r(17);var o=r(8);var s=h(o);var u=r(207);var l=h(u);var f=r(16);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function e(t){return function(e){p(t,e);function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={displayObject:r.createSpriteWithProps(e)};r.update(e);return r}n(t,[{key:"componentWillReceiveProps",value:function e(t){var r=t.res;if(!(0,f.deepCompare)(r,this.props.res)){this.setState({sprite:this.createSpriteWithProps(t)})}}}]);return t}((0,s.default)(t).with(l.default))};t.default=v},function(e,t,r){"use strict";var n=r(30);var i=n;if(process.env.NODE_ENV!=="production"){var a=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++){n[i-1]=arguments[i]}var a=0;var o="Warning: "+t.replace(/%s/g,function(){return n[a++]});if(typeof console!=="undefined"){console.error(o)}try{throw new Error(o)}catch(e){}};i=function e(t,r){if(r===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(r.indexOf("Failed Composite propType: ")===0){return}if(!t){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++){i[o-2]=arguments[o]}a.apply(undefined,[r].concat(i))}}}e.exports=i},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;i(this,e);this._x=n;this._y=a;this.cb=t;this.scope=r}e.prototype.set=function e(t,r){var n=t||0;var i=r||(r!==0?n:0);if(this._x!==n||this._y!==i){this._x=n;this._y=i;this.cb.call(this.scope)}};e.prototype.copy=function e(t){if(this._x!==t.x||this._y!==t.y){this._x=t.x;this._y=t.y;this.cb.call(this.scope)}};n(e,[{key:"x",get:function e(){return this._x},set:function e(t){if(this._x!==t){this._x=t;this.cb.call(this.scope)}}},{key:"y",get:function e(){return this._y},set:function e(t){if(this._y!==t){this._y=t;this.cb.call(this.scope)}}}]);return e}();t.default=a},function(e,t,r){"use strict";t.__esModule=true;var n=r(34);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1];var s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1];var u=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1];var l=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1];var f=[];var h=[];function c(e){if(e<0){return-1}if(e>0){return 1}return 0}function d(){for(var e=0;e<16;e++){var t=[];h.push(t);for(var r=0;r<16;r++){var n=c(o[e]*o[r]+u[e]*s[r]);var a=c(s[e]*o[r]+l[e]*s[r]);var d=c(o[e]*u[r]+u[e]*l[r]);var p=c(s[e]*u[r]+l[e]*l[r]);for(var v=0;v<16;v++){if(o[v]===n&&s[v]===a&&u[v]===d&&l[v]===p){t.push(v);break}}}}for(var y=0;y<16;y++){var g=new i.default;g.set(o[y],s[y],u[y],l[y],0,0);f.push(g)}}d();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function e(t){return o[t]},uY:function e(t){return s[t]},vX:function e(t){return u[t]},vY:function e(t){return l[t]},inv:function e(t){if(t&8){return t&15}return-t&7},add:function e(t,r){return h[t][r]},sub:function e(t,r){return h[t][p.inv(r)]},rotate180:function e(t){return t^4},isSwapWidthHeight:function e(t){return(t&3)===2},byDirection:function e(t,r){if(Math.abs(t)*2<=Math.abs(r)){if(r>=0){return p.S}return p.N}else if(Math.abs(r)*2<=Math.abs(t)){if(t>0){return p.E}return p.W}else if(r>0){if(t>0){return p.SE}return p.SW}else if(t>0){return p.NE}return p.NW},matrixAppendRotationInv:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var a=f[p.inv(r)];a.tx=n;a.ty=i;t.append(a)}};t.default=p},function(e,t){var r=function(e,t,r){var n;if(r){var i=r.tempAttribState,a=r.attribState;for(n=0;n<i.length;n++){i[n]=false}for(n=0;n<t.length;n++){i[t[n].attribute.location]=true}for(n=0;n<a.length;n++){if(a[n]!==i[n]){a[n]=i[n];if(r.attribState[n]){e.enableVertexAttribArray(n)}else{e.disableVertexAttribArray(n)}}}}else{for(n=0;n<t.length;n++){var o=t[n];e.enableVertexAttribArray(o.attribute.location)}}};e.exports=r},function(e,t){var r=function(e,t,r,n,i){this.gl=e;this.texture=e.createTexture();this.mipmap=false;this.premultiplyAlpha=false;this.width=t||-1;this.height=r||-1;this.format=n||e.RGBA;this.type=i||e.UNSIGNED_BYTE};r.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var r=e.videoWidth||e.width;var n=e.videoHeight||e.height;if(n!==this.height||r!==this.width){t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e)}else{t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e)}this.width=r;this.height=n};var n=false;r.prototype.uploadData=function(e,t,r){this.bind();var i=this.gl;if(e instanceof Float32Array){if(!n){var a=i.getExtension("OES_texture_float");if(a){n=true}else{throw new Error("floating point textures not available")}}this.type=i.FLOAT}else{this.type=this.type||i.UNSIGNED_BYTE}i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);if(t!==this.width||r!==this.height){i.texImage2D(i.TEXTURE_2D,0,this.format,t,r,0,this.format,this.type,e||null)}else{i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,r,this.format,this.type,e||null)}this.width=t;this.height=r};r.prototype.bind=function(e){var t=this.gl;if(e!==undefined){t.activeTexture(t.TEXTURE0+e)}t.bindTexture(t.TEXTURE_2D,this.texture)};r.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)};r.prototype.minFilter=function(e){var t=this.gl;this.bind();if(this.mipmap){t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST)}else{t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)}};r.prototype.magFilter=function(e){var t=this.gl;this.bind();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)};r.prototype.enableMipmap=function(){var e=this.gl;this.bind();this.mipmap=true;e.generateMipmap(e.TEXTURE_2D)};r.prototype.enableLinearScaling=function(){this.minFilter(true);this.magFilter(true)};r.prototype.enableNearestScaling=function(){this.minFilter(false);this.magFilter(false)};r.prototype.enableWrapClamp=function(){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)};r.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)};r.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind();e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)};r.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)};r.fromSource=function(e,t,n){var i=new r(e);i.premultiplyAlpha=n||false;i.upload(t);return i};r.fromData=function(e,t,n,i){var a=new r(e);a.uploadData(t,n,i);return a};e.exports=r},function(e,t){var r=function(e,t,r,i){var a=n(e,e.VERTEX_SHADER,t);var o=n(e,e.FRAGMENT_SHADER,r);var s=e.createProgram();e.attachShader(s,a);e.attachShader(s,o);if(i){for(var u in i){e.bindAttribLocation(s,i[u],u)}}e.linkProgram(s);if(!e.getProgramParameter(s,e.LINK_STATUS)){console.error("Pixi.js Error: Could not initialize shader.");console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS));console.error("gl.getError()",e.getError());if(e.getProgramInfoLog(s)!==""){console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s))}e.deleteProgram(s);s=null}e.deleteShader(a);e.deleteShader(o);return s};var n=function(e,t,r){var n=e.createShader(t);e.shaderSource(n,r);e.compileShader(n);if(!e.getShaderParameter(n,e.COMPILE_STATUS)){console.log(e.getShaderInfoLog(n));return null}return n};e.exports=r},function(e,t,r){var n=r(36);var i=r(57);var a=function(e,t){var r={};var a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var s=0;s<a;s++){var u=e.getActiveAttrib(t,s);var l=n(e,u.type);r[u.name]={type:l,size:i(l),location:e.getAttribLocation(t,u.name),pointer:o}}return r};var o=function(e,t,r,n){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||false,r||0,n||0)};e.exports=a},function(e,t){var r=function(e){return n[e]};var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=r},function(e,t,r){var n=r(36);var i=r(59);var a=function(e,t){var r={};var a=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var o=0;o<a;o++){var s=e.getActiveUniform(t,o);var u=s.name.replace(/\[.*?\]/,"");var l=n(e,s.type);r[u]={type:l,size:s.size,location:e.getUniformLocation(t,u),value:i(l,s.size)}}return r};e.exports=a},function(e,t){var r=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return false;case"bvec2":return n(2*t);case"bvec3":return n(3*t);case"bvec4":return n(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}};var n=function(e){var t=new Array(e);for(var r=0;r<t.length;r++){t[r]=false}return t};e.exports=r},function(e,t){var r=function(e,t){if(e.substring(0,9)!=="precision"){return"precision "+t+" float;\n"+e}return e};e.exports=r},function(e,t){var r=function(e,t){var r={data:{}};r.gl=e;var o=Object.keys(t);for(var s=0;s<o.length;s++){var u=o[s];var l=u.split(".");var f=l[l.length-1];var h=a(l,r);var c=t[u];h.data[f]=c;h.gl=e;Object.defineProperty(h,f,{get:n(f),set:i(f,c)})}return r};var n=function(e){var t=o.replace("%%",e);return new Function(t)};var i=function(e,t){var r=s.replace(/%%/g,e);var n;if(t.size===1){n=u[t.type]}else{n=l[t.type]}if(n){r+="\nthis.gl."+n+";"}return new Function("value",r)};var a=function(e,t){var r=t;for(var n=0;n<e.length-1;n++){var i=r[e[n]]||{data:{}};r[e[n]]=i;r=i}return r};var o=["return this.data.%%.value;"].join("\n");var s=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n");var u={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"};var l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=r},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(12);var a=y(i);var o=r(1);var s=r(3);var u=y(s);var l=r(63);var f=y(l);var h=r(64);var c=y(h);var d=r(37);var p=y(d);var v=r(4);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){m(t,e);function t(){g(this,t);var r=_(this,e.call(this));var n=u.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?f.default:c.default;r.tempDisplayObjectParent=null;r.transform=new n;r.alpha=1;r.visible=true;r.renderable=true;r.parent=null;r.worldAlpha=1;r.filterArea=null;r._filters=null;r._enabledFilters=null;r._bounds=new p.default;r._boundsID=0;r._lastBoundsID=-1;r._boundsRect=null;r._localBoundsRect=null;r._mask=null;r._destroyed=false;return r}t.prototype.updateTransform=function e(){this.transform.updateTransform(this.parent.transform);this.worldAlpha=this.alpha*this.parent.worldAlpha;this._bounds.updateID++};t.prototype._recursivePostUpdateTransform=function e(){if(this.parent){this.parent._recursivePostUpdateTransform();this.transform.updateTransform(this.parent.transform)}else{this.transform.updateTransform(this._tempDisplayObjectParent.transform)}};t.prototype.getBounds=function e(t,r){if(!t){if(!this.parent){this.parent=this._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this._recursivePostUpdateTransform();this.updateTransform()}}if(this._boundsID!==this._lastBoundsID){this.calculateBounds()}if(!r){if(!this._boundsRect){this._boundsRect=new v.Rectangle}r=this._boundsRect}return this._bounds.getRectangle(r)};t.prototype.getLocalBounds=function e(t){var r=this.transform;var n=this.parent;this.parent=null;this.transform=this._tempDisplayObjectParent.transform;if(!t){if(!this._localBoundsRect){this._localBoundsRect=new v.Rectangle}t=this._localBoundsRect}var i=this.getBounds(false,t);this.parent=n;this.transform=r;return i};t.prototype.toGlobal=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!n){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.apply(t,r)};t.prototype.toLocal=function e(t,r,n,i){if(r){t=r.toGlobal(t,n,i)}if(!i){this._recursivePostUpdateTransform();if(!this.parent){this.parent=this._tempDisplayObjectParent;this.displayObjectUpdateTransform();this.parent=null}else{this.displayObjectUpdateTransform()}}return this.worldTransform.applyInverse(t,n)};t.prototype.renderWebGL=function e(t){};t.prototype.renderCanvas=function e(t){};t.prototype.setParent=function e(t){if(!t||!t.addChild){throw new Error("setParent: Argument must be a Container")}t.addChild(this);return t};t.prototype.setTransform=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var s=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var u=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var l=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;this.position.x=t;this.position.y=r;this.scale.x=!n?1:n;this.scale.y=!i?1:i;this.rotation=a;this.skew.x=o;this.skew.y=s;this.pivot.x=u;this.pivot.y=l;return this};t.prototype.destroy=function e(){this.removeAllListeners();if(this.parent){this.parent.removeChild(this)}this.transform=null;this.parent=null;this._bounds=null;this._currentBounds=null;this._mask=null;this.filterArea=null;this.interactive=false;this.interactiveChildren=false;this._destroyed=true};n(t,[{key:"_tempDisplayObjectParent",get:function e(){if(this.tempDisplayObjectParent===null){this.tempDisplayObjectParent=new t}return this.tempDisplayObjectParent}},{key:"x",get:function e(){return this.position.x},set:function e(t){this.transform.position.x=t}},{key:"y",get:function e(){return this.position.y},set:function e(t){this.transform.position.y=t}},{key:"worldTransform",get:function e(){return this.transform.worldTransform}},{key:"localTransform",get:function e(){return this.transform.localTransform}},{key:"position",get:function e(){return this.transform.position},set:function e(t){this.transform.position.copy(t)}},{key:"scale",get:function e(){return this.transform.scale},set:function e(t){this.transform.scale.copy(t)}},{key:"pivot",get:function e(){return this.transform.pivot},set:function e(t){this.transform.pivot.copy(t)}},{key:"skew",get:function e(){return this.transform.skew},set:function e(t){this.transform.skew.copy(t)}},{key:"rotation",get:function e(){return this.transform.rotation},set:function e(t){this.transform.rotation=t}},{key:"worldVisible",get:function e(){var t=this;do{if(!t.visible){return false}t=t.parent}while(t);return true}},{key:"mask",get:function e(){return this._mask},set:function e(t){if(this._mask){this._mask.renderable=true}this._mask=t;if(this._mask){this._mask.renderable=false}}},{key:"filters",get:function e(){return this._filters&&this._filters.slice()},set:function e(t){this._filters=t&&t.slice()}}]);return t}(a.default);t.default=b;b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var a=r(39);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){u(this,t);var r=l(this,e.call(this));r.position=new i.ObservablePoint(r.onChange,r,0,0);r.scale=new i.ObservablePoint(r.onChange,r,1,1);r.pivot=new i.ObservablePoint(r.onChange,r,0,0);r.skew=new i.ObservablePoint(r.updateSkew,r,0,0);r._rotation=0;r._cx=1;r._sx=0;r._cy=0;r._sy=1;r._localID=0;r._currentLocalID=0;return r}t.prototype.onChange=function e(){this._localID++};t.prototype.updateSkew=function e(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x);this._localID++};t.prototype.updateLocalTransform=function e(){var t=this.localTransform;if(this._localID!==this._currentLocalID){t.a=this._cx*this.scale._x;t.b=this._sx*this.scale._x;t.c=this._cy*this.scale._y;t.d=this._sy*this.scale._y;t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c);t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d);this._currentLocalID=this._localID;this._parentID=-1}};t.prototype.updateTransform=function e(t){var r=this.localTransform;if(this._localID!==this._currentLocalID){r.a=this._cx*this.scale._x;r.b=this._sx*this.scale._x;r.c=this._cy*this.scale._y;r.d=this._sy*this.scale._y;r.tx=this.position._x-(this.pivot._x*r.a+this.pivot._y*r.c);r.ty=this.position._y-(this.pivot._x*r.b+this.pivot._y*r.d);this._currentLocalID=this._localID;this._parentID=-1}if(this._parentID!==t._worldID){var n=t.worldTransform;var i=this.worldTransform;i.a=r.a*n.a+r.b*n.c;i.b=r.a*n.b+r.b*n.d;i.c=r.c*n.a+r.d*n.c;i.d=r.c*n.b+r.d*n.d;i.tx=r.tx*n.a+r.ty*n.c+n.tx;i.ty=r.tx*n.b+r.ty*n.d+n.ty;this._parentID=t._worldID;this._worldID++}};t.prototype.setFromMatrix=function e(t){t.decompose(this);this._localID++};n(t,[{key:"rotation",get:function e(){return this._rotation},set:function e(t){this._rotation=t;this.updateSkew()}}]);return t}(o.default);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(4);var a=r(39);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){u(this,t);var r=l(this,e.call(this));r.position=new i.Point(0,0);r.scale=new i.Point(1,1);r.skew=new i.ObservablePoint(r.updateSkew,r,0,0);r.pivot=new i.Point(0,0);r._rotation=0;r._cx=1;r._sx=0;r._cy=0;r._sy=1;return r}t.prototype.updateSkew=function e(){this._cx=Math.cos(this._rotation+this.skew._y);this._sx=Math.sin(this._rotation+this.skew._y);this._cy=-Math.sin(this._rotation-this.skew._x);this._sy=Math.cos(this._rotation-this.skew._x)};t.prototype.updateLocalTransform=function e(){var t=this.localTransform;t.a=this._cx*this.scale.x;t.b=this._sx*this.scale.x;t.c=this._cy*this.scale.y;t.d=this._sy*this.scale.y;t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c);t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)};t.prototype.updateTransform=function e(t){var r=this.localTransform;r.a=this._cx*this.scale.x;r.b=this._sx*this.scale.x;r.c=this._cy*this.scale.y;r.d=this._sy*this.scale.y;r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c);r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d);var n=t.worldTransform;var i=this.worldTransform;i.a=r.a*n.a+r.b*n.c;i.b=r.a*n.b+r.b*n.d;i.c=r.c*n.a+r.d*n.c;i.d=r.c*n.b+r.d*n.d;i.tx=r.tx*n.a+r.ty*n.c+n.tx;i.ty=r.tx*n.b+r.ty*n.d+n.ty;this._worldID++};t.prototype.setFromMatrix=function e(t){t.decompose(this)};n(t,[{key:"rotation",get:function e(){return this._rotation},set:function e(t){this._rotation=t;this.updateSkew()}}]);return t}(o.default);t.default=h},function(e,t){e.exports=require("url")},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(14);var a=l(i);var o=r(2);var s=r(42);var u=r(1);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){c(t,e);function t(r,n){f(this,t);if(!r){throw new Error("No video source element specified.")}if((r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height){r.complete=true}var i=h(this,e.call(this,r,n));i.width=r.videoWidth;i.height=r.videoHeight;i._autoUpdate=true;i._isAutoUpdating=false;i.autoPlay=true;i.update=i.update.bind(i);i._onCanPlay=i._onCanPlay.bind(i);r.addEventListener("play",i._onPlayStart.bind(i));r.addEventListener("pause",i._onPlayStop.bind(i));i.hasLoaded=false;i.__loaded=false;if(!i._isSourceReady()){r.addEventListener("canplay",i._onCanPlay);r.addEventListener("canplaythrough",i._onCanPlay)}else{i._onCanPlay()}return i}t.prototype._isSourcePlaying=function e(){var t=this.source;return t.currentTime>0&&t.paused===false&&t.ended===false&&t.readyState>2};t.prototype._isSourceReady=function e(){return this.source.readyState===3||this.source.readyState===4};t.prototype._onPlayStart=function e(){if(!this.hasLoaded){this._onCanPlay()}if(!this._isAutoUpdating&&this.autoUpdate){s.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH);this._isAutoUpdating=true}};t.prototype._onPlayStop=function e(){if(this._isAutoUpdating){s.shared.remove(this.update,this);this._isAutoUpdating=false}};t.prototype._onCanPlay=function e(){this.hasLoaded=true;if(this.source){this.source.removeEventListener("canplay",this._onCanPlay);this.source.removeEventListener("canplaythrough",this._onCanPlay);this.width=this.source.videoWidth;this.height=this.source.videoHeight;if(!this.__loaded){this.__loaded=true;this.emit("loaded",this)}if(this._isSourcePlaying()){this._onPlayStart()}else if(this.autoPlay){this.source.play()}}};t.prototype.destroy=function t(){if(this._isAutoUpdating){s.shared.remove(this.update,this)}if(this.source&&this.source._pixiId){a.default.removeFromCache(this.source._pixiId);delete this.source._pixiId}e.prototype.destroy.call(this)};t.fromVideo=function e(r,n){if(!r._pixiId){r._pixiId="video_"+(0,o.uid)()}var i=o.BaseTextureCache[r._pixiId];if(!i){i=new t(r,n);a.default.addToCache(i,r._pixiId)}return i};t.fromUrl=function e(r,n){var i=document.createElement("video");i.setAttribute("webkit-playsinline","");i.setAttribute("playsinline","");if(Array.isArray(r)){for(var a=0;a<r.length;++a){i.appendChild(p(r[a].src||r[a],r[a].mime))}}else{i.appendChild(p(r.src||r,r.mime))}i.load();return t.fromVideo(i,n)};n(t,[{key:"autoUpdate",get:function e(){return this._autoUpdate},set:function e(t){if(t!==this._autoUpdate){this._autoUpdate=t;if(!this._autoUpdate&&this._isAutoUpdating){s.shared.remove(this.update,this);this._isAutoUpdating=false}else if(this._autoUpdate&&!this._isAutoUpdating){s.shared.add(this.update,this,u.UPDATE_PRIORITY.HIGH);this._isAutoUpdating=true}}}}]);return t}(a.default);t.default=d;d.fromUrls=d.fromUrl;function p(e,t){if(!t){t="video/"+e.substr(e.lastIndexOf(".")+1)}var r=document.createElement("source");r.src=e;r.type=t;return r}},function(e,t,r){"use strict";t.__esModule=true;var n=r(52);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(){o(this,e);this.x0=0;this.y0=0;this.x1=1;this.y1=0;this.x2=1;this.y2=1;this.x3=0;this.y3=1;this.uvsUint32=new Uint32Array(4)}e.prototype.set=function e(t,r,n){var a=r.width;var o=r.height;if(n){var s=t.width/2/a;var u=t.height/2/o;var l=t.x/a+s;var f=t.y/o+u;n=i.default.add(n,i.default.NW);this.x0=l+s*i.default.uX(n);this.y0=f+u*i.default.uY(n);n=i.default.add(n,2);this.x1=l+s*i.default.uX(n);this.y1=f+u*i.default.uY(n);n=i.default.add(n,2);this.x2=l+s*i.default.uX(n);this.y2=f+u*i.default.uY(n);n=i.default.add(n,2);this.x3=l+s*i.default.uX(n);this.y3=f+u*i.default.uY(n)}else{this.x0=t.x/a;this.y0=t.y/o;this.x1=(t.x+t.width)/a;this.y1=t.y/o;this.x2=(t.x+t.width)/a;this.y2=(t.y+t.height)/o;this.x3=t.x/a;this.y3=(t.y+t.height)/o}this.uvsUint32[0]=(this.y0*65535&65535)<<16|this.x0*65535&65535;this.uvsUint32[1]=(this.y1*65535&65535)<<16|this.x1*65535&65535;this.uvsUint32[2]=(this.y2*65535&65535)<<16|this.x2*65535&65535;this.uvsUint32[3]=(this.y3*65535&65535)<<16|this.x3*65535&65535};return e}();t.default=s},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(2);var a=r(4);var o=r(1);var s=r(3);var u=v(s);var l=r(18);var f=v(l);var h=r(43);var c=v(h);var d=r(12);var p=v(d);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=new a.Matrix;var b=function(e){_(t,e);function t(r,n,s,l){y(this,t);var h=g(this,e.call(this));(0,i.sayHello)(r);if(typeof n==="number"){n=Object.assign({width:n,height:s||u.default.RENDER_OPTIONS.height},l)}n=Object.assign({},u.default.RENDER_OPTIONS,n);h.options=n;h.type=o.RENDERER_TYPE.UNKNOWN;h.screen=new a.Rectangle(0,0,n.width,n.height);h.view=n.view||document.createElement("canvas");h.resolution=n.resolution||u.default.RESOLUTION;h.transparent=n.transparent;h.autoResize=n.autoResize||false;h.blendModes=null;h.preserveDrawingBuffer=n.preserveDrawingBuffer;h.clearBeforeRender=n.clearBeforeRender;h.roundPixels=n.roundPixels;h._backgroundColor=0;h._backgroundColorRgba=[0,0,0,0];h._backgroundColorString="#000000";h.backgroundColor=n.backgroundColor||h._backgroundColor;h._tempDisplayObjectParent=new f.default;h._lastObjectRendered=h._tempDisplayObjectParent;return h}t.prototype.resize=function e(t,r){this.screen.width=t;this.screen.height=r;this.view.width=t*this.resolution;this.view.height=r*this.resolution;if(this.autoResize){this.view.style.width=t+"px";this.view.style.height=r+"px"}};t.prototype.generateTexture=function e(t,r,n){var i=t.getLocalBounds();var a=c.default.create(i.width|0,i.height|0,r,n);m.tx=-i.x;m.ty=-i.y;this.render(t,a,false,m,true);return a};t.prototype.destroy=function e(t){if(t&&this.view.parentNode){this.view.parentNode.removeChild(this.view)}this.type=o.RENDERER_TYPE.UNKNOWN;this.view=null;this.screen=null;this.resolution=0;this.transparent=false;this.autoResize=false;this.blendModes=null;this.options=null;this.preserveDrawingBuffer=false;this.clearBeforeRender=false;this.roundPixels=false;this._backgroundColor=0;this._backgroundColorRgba=null;this._backgroundColorString=null;this._tempDisplayObjectParent=null;this._lastObjectRendered=null};n(t,[{key:"width",get:function e(){return this.view.width}},{key:"height",get:function e(){return this.view.height}},{key:"backgroundColor",get:function e(){return this._backgroundColor},set:function e(t){this._backgroundColor=t;this._backgroundColorString=(0,i.hex2string)(t);(0,i.hex2rgb)(t,this._backgroundColorRgba)}}]);return t}(p.default);t.default=b},function(e,t,r){"use strict";t.__esModule=true;var n=r(14);var i=s(n);var a=r(3);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments[2];var a=arguments[3];u(this,t);var s=l(this,e.call(this,null,i));s.resolution=a||o.default.RESOLUTION;s.width=r;s.height=n;s.realWidth=s.width*s.resolution;s.realHeight=s.height*s.resolution;s.scaleMode=i!==undefined?i:o.default.SCALE_MODE;s.hasLoaded=true;s._glRenderTargets={};s._canvasRenderTarget=null;s.valid=false;return s}t.prototype.resize=function e(t,r){if(t===this.width&&r===this.height){return}this.valid=t>0&&r>0;this.width=t;this.height=r;this.realWidth=this.width*this.resolution;this.realHeight=this.height*this.resolution;if(!this.valid){return}this.emit("update",this)};t.prototype.destroy=function t(){e.prototype.destroy.call(this,true);this.renderer=null};return t}(i.default);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(3);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t,r,n){s(this,e);this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.resolution=n||a.default.RESOLUTION;this.resize(t,r)}e.prototype.clear=function e(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};e.prototype.resize=function e(t,r){this.canvas.width=t*this.resolution;this.canvas.height=r*this.resolution};e.prototype.destroy=function e(){this.context=null;this.canvas=null};n(e,[{key:"width",get:function e(){return this.canvas.width},set:function e(t){this.canvas.width=t}},{key:"height",get:function e(){return this.canvas.height},set:function e(t){this.canvas.height=t}}]);return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;t.default=i;function n(e){var t=document.createElement("canvas");t.width=6;t.height=1;var r=t.getContext("2d");r.fillStyle=e;r.fillRect(0,0,6,1);return t}function i(){if(typeof document==="undefined"){return false}var e=n("#ff00ff");var t=n("#ffff00");var r=document.createElement("canvas");r.width=6;r.height=1;var i=r.getContext("2d");i.globalCompositeOperation="multiply";i.drawImage(e,0,0);i.drawImage(t,2,0);var a=i.getImageData(2,0,1,1);if(!a){return false}var o=a.data;return o[0]===255&&o[1]===0&&o[2]===0}},function(e,t,r){"use strict";t.__esModule=true;var n=r(73);var i=s(n);var a=r(4);var o=r(10);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(r){u(this,t);var n=new a.Matrix;var i=l(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));r.renderable=false;i.maskSprite=r;i.maskMatrix=n;return i}t.prototype.apply=function e(t,r,n){var i=this.maskSprite;this.uniforms.mask=i._texture;this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i);this.uniforms.alpha=i.worldAlpha;t.applyFilter(this,r,n)};return t}(i.default);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(136);var a=f(i);var o=r(2);var s=r(1);var u=r(3);var l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var c={};var d=function(){function e(t,r,n){h(this,e);this.vertexSrc=t||e.defaultVertexSrc;this.fragmentSrc=r||e.defaultFragmentSrc;this._blendMode=s.BLEND_MODES.NORMAL;this.uniformData=n||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler");this.uniforms={};for(var i in this.uniformData){this.uniforms[i]=this.uniformData[i].value}this.glShaders={};if(!c[this.vertexSrc+this.fragmentSrc]){c[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()}this.glShaderKey=c[this.vertexSrc+this.fragmentSrc];this.padding=4;this.resolution=l.default.RESOLUTION;this.enabled=true;this.autoFit=true}e.prototype.apply=function e(t,r,n,i,a){t.applyFilter(this,r,n,i)};n(e,[{key:"blendMode",get:function e(){return this._blendMode},set:function e(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function e(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function e(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]);return e}();t.default=d},function(e,t,r){"use strict";t.__esModule=true;var n=r(5);var i=s(n);var a=r(45);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function e(t,r){u(this,e);this.gl=t;this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]);this.uvs=new Float32Array([0,0,1,0,1,1,0,1]);this.interleaved=new Float32Array(8*2);for(var n=0;n<4;n++){this.interleaved[n*4]=this.vertices[n*2];this.interleaved[n*4+1]=this.vertices[n*2+1];this.interleaved[n*4+2]=this.uvs[n*2];this.interleaved[n*4+3]=this.uvs[n*2+1]}this.indices=(0,o.default)(1);this.vertexBuffer=i.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW);this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);this.vao=new i.default.VertexArrayObject(t,r)}e.prototype.initVao=function e(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,false,4*4,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,false,4*4,2*4)};e.prototype.map=function e(t,r){var n=0;var i=0;this.uvs[0]=n;this.uvs[1]=i;this.uvs[2]=n+r.width/t.width;this.uvs[3]=i;this.uvs[4]=n+r.width/t.width;this.uvs[5]=i+r.height/t.height;this.uvs[6]=n;this.uvs[7]=i+r.height/t.height;n=r.x;i=r.y;this.vertices[0]=n;this.vertices[1]=i;this.vertices[2]=n+r.width;this.vertices[3]=i;this.vertices[4]=n+r.width;this.vertices[5]=i+r.height;this.vertices[6]=n;this.vertices[7]=i+r.height;return this};e.prototype.upload=function e(){for(var t=0;t<4;t++){this.interleaved[t*4]=this.vertices[t*2];this.interleaved[t*4+1]=this.vertices[t*2+1];this.interleaved[t*4+2]=this.uvs[t*2];this.interleaved[t*4+3]=this.uvs[t*2+1]}this.vertexBuffer.upload(this.interleaved);return this};e.prototype.destroy=function e(){var t=this.gl;t.deleteBuffer(this.vertexBuffer);t.deleteBuffer(this.indexBuffer)};return e}();t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(1);var a=r(2);function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s={align:"left",breakWords:false,dropShadow:false,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:false,wordWrap:false,wordWrapWidth:100};var u=function(){function e(t){o(this,e);this.styleID=0;Object.assign(this,s,t)}e.prototype.clone=function t(){var r={};for(var n in s){r[n]=this[n]}return new e(r)};e.prototype.reset=function e(){Object.assign(this,s)};e.prototype.toFontString=function e(){var t=typeof this.fontSize==="number"?this.fontSize+"px":this.fontSize;var r=this.fontFamily;if(!Array.isArray(this.fontFamily)){r=this.fontFamily.split(",")}for(var n=r.length-1;n>=0;n--){var i=r[n].trim();if(!/([\"\'])[^\'\"]+\1/.test(i)){i='"'+i+'"'}r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")};n(e,[{key:"align",get:function e(){return this._align},set:function e(t){if(this._align!==t){this._align=t;this.styleID++}}},{key:"breakWords",get:function e(){return this._breakWords},set:function e(t){if(this._breakWords!==t){this._breakWords=t;this.styleID++}}},{key:"dropShadow",get:function e(){return this._dropShadow},set:function e(t){if(this._dropShadow!==t){this._dropShadow=t;this.styleID++}}},{key:"dropShadowAlpha",get:function e(){return this._dropShadowAlpha},set:function e(t){if(this._dropShadowAlpha!==t){this._dropShadowAlpha=t;this.styleID++}}},{key:"dropShadowAngle",get:function e(){return this._dropShadowAngle},set:function e(t){if(this._dropShadowAngle!==t){this._dropShadowAngle=t;this.styleID++}}},{key:"dropShadowBlur",get:function e(){return this._dropShadowBlur},set:function e(t){if(this._dropShadowBlur!==t){this._dropShadowBlur=t;this.styleID++}}},{key:"dropShadowColor",get:function e(){return this._dropShadowColor},set:function e(t){var r=f(t);if(this._dropShadowColor!==r){this._dropShadowColor=r;this.styleID++}}},{key:"dropShadowDistance",get:function e(){return this._dropShadowDistance},set:function e(t){if(this._dropShadowDistance!==t){this._dropShadowDistance=t;this.styleID++}}},{key:"fill",get:function e(){return this._fill},set:function e(t){var r=f(t);if(this._fill!==r){this._fill=r;this.styleID++}}},{key:"fillGradientType",get:function e(){return this._fillGradientType},set:function e(t){if(this._fillGradientType!==t){this._fillGradientType=t;this.styleID++}}},{key:"fillGradientStops",get:function e(){return this._fillGradientStops},set:function e(t){if(!h(this._fillGradientStops,t)){this._fillGradientStops=t;this.styleID++}}},{key:"fontFamily",get:function e(){return this._fontFamily},set:function e(t){if(this.fontFamily!==t){this._fontFamily=t;this.styleID++}}},{key:"fontSize",get:function e(){return this._fontSize},set:function e(t){if(this._fontSize!==t){this._fontSize=t;this.styleID++}}},{key:"fontStyle",get:function e(){return this._fontStyle},set:function e(t){if(this._fontStyle!==t){this._fontStyle=t;this.styleID++}}},{key:"fontVariant",get:function e(){return this._fontVariant},set:function e(t){if(this._fontVariant!==t){this._fontVariant=t;this.styleID++}}},{key:"fontWeight",get:function e(){return this._fontWeight},set:function e(t){if(this._fontWeight!==t){this._fontWeight=t;this.styleID++}}},{key:"letterSpacing",get:function e(){return this._letterSpacing},set:function e(t){if(this._letterSpacing!==t){this._letterSpacing=t;this.styleID++}}},{key:"lineHeight",get:function e(){return this._lineHeight},set:function e(t){if(this._lineHeight!==t){this._lineHeight=t;this.styleID++}}},{key:"lineJoin",get:function e(){return this._lineJoin},set:function e(t){if(this._lineJoin!==t){this._lineJoin=t;this.styleID++}}},{key:"miterLimit",get:function e(){return this._miterLimit},set:function e(t){if(this._miterLimit!==t){this._miterLimit=t;this.styleID++}}},{key:"padding",get:function e(){return this._padding},set:function e(t){if(this._padding!==t){this._padding=t;this.styleID++}}},{key:"stroke",get:function e(){return this._stroke},set:function e(t){var r=f(t);if(this._stroke!==r){this._stroke=r;this.styleID++}}},{key:"strokeThickness",get:function e(){return this._strokeThickness},set:function e(t){if(this._strokeThickness!==t){this._strokeThickness=t;this.styleID++}}},{key:"textBaseline",get:function e(){return this._textBaseline},set:function e(t){if(this._textBaseline!==t){this._textBaseline=t;this.styleID++}}},{key:"trim",get:function e(){return this._trim},set:function e(t){if(this._trim!==t){this._trim=t;this.styleID++}}},{key:"wordWrap",get:function e(){return this._wordWrap},set:function e(t){if(this._wordWrap!==t){this._wordWrap=t;this.styleID++}}},{key:"wordWrapWidth",get:function e(){return this._wordWrapWidth},set:function e(t){if(this._wordWrapWidth!==t){this._wordWrapWidth=t;this.styleID++}}}]);return e}();t.default=u;function l(e){if(typeof e==="number"){return(0,a.hex2string)(e)}else if(typeof e==="string"){if(e.indexOf("0x")===0){e=e.replace("0x","#")}}return e}function f(e){if(!Array.isArray(e)){return l(e)}else{for(var t=0;t<e.length;++t){e[t]=l(e[t])}return e}}function h(e,t){if(!Array.isArray(e)||!Array.isArray(t)){return false}if(e.length!==t.length){return false}for(var r=0;r<e.length;++r){if(e[r]!==t[r]){return false}}return true}},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t,r,i,a,o,s,u,l,f){n(this,e);this.text=t;this.style=r;this.width=i;this.height=a;this.lines=o;this.lineWidths=s;this.lineHeight=u;this.maxLineWidth=l;this.fontProperties=f}e.measureText=function t(r,n,i){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:e._canvas;i=i||n.wordWrap;var o=n.toFontString();var s=e.measureFont(o);var u=a.getContext("2d");u.font=o;var l=i?e.wordWrap(r,n,a):r;var f=l.split(/(?:\r\n|\r|\n)/);var h=new Array(f.length);var c=0;for(var d=0;d<f.length;d++){var p=u.measureText(f[d]).width+(f[d].length-1)*n.letterSpacing;h[d]=p;c=Math.max(c,p)}var v=c+n.strokeThickness;if(n.dropShadow){v+=n.dropShadowDistance}var y=n.lineHeight||s.fontSize+n.strokeThickness;var g=Math.max(y,s.fontSize+n.strokeThickness)+(f.length-1)*y;if(n.dropShadow){g+=n.dropShadowDistance}return new e(r,n,v,g,f,h,y,c,s)};e.wordWrap=function t(r,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e._canvas;var a=i.getContext("2d");var o="";var s=r.split("\n");var u=n.wordWrapWidth;var l={};for(var f=0;f<s.length;f++){var h=u;var c=s[f].split(" ");for(var d=0;d<c.length;d++){var p=a.measureText(c[d]).width;if(n.breakWords&&p>u){var v=c[d].split("");for(var y=0;y<v.length;y++){var g=v[y];var _=l[g];if(_===undefined){_=a.measureText(g).width;l[g]=_}if(_>h){o+="\n"+g;h=u-_}else{if(y===0){o+=" "}o+=g;h-=_}}}else{var m=p+a.measureText(" ").width;if(d===0||m>h){if(d>0){o+="\n"}o+=c[d];h=u-p}else{h-=m;o+=" "+c[d]}}}if(f<s.length-1){o+="\n"}}return o};e.measureFont=function t(r){if(e._fonts[r]){return e._fonts[r]}var n={};var i=e._canvas;var a=e._context;a.font=r;var o=Math.ceil(a.measureText("|MÉq").width);var s=Math.ceil(a.measureText("M").width);var u=2*s;s=s*1.4|0;i.width=o;i.height=u;a.fillStyle="#f00";a.fillRect(0,0,o,u);a.font=r;a.textBaseline="alphabetic";a.fillStyle="#000";a.fillText("|MÉq",0,s);var l=a.getImageData(0,0,o,u).data;var f=l.length;var h=o*4;var c=0;var d=0;var p=false;for(c=0;c<s;++c){for(var v=0;v<h;v+=4){if(l[d+v]!==255){p=true;break}}if(!p){d+=h}else{break}}n.ascent=s-c;d=f-h;p=false;for(c=u;c>s;--c){for(var y=0;y<h;y+=4){if(l[d+y]!==255){p=true;break}}if(!p){d-=h}else{break}}n.descent=c-s;n.fontSize=n.ascent+n.descent;e._fonts[r]=n;return n};return e}();t.default=i;var a=document.createElement("canvas");a.width=a.height=10;i._canvas=a;i._context=a.getContext("2d");i._fonts={}},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t,r,i,a,o,s,u,l){n(this,e);this.lineWidth=t;this.nativeLines=u;this.lineColor=r;this.lineAlpha=i;this._lineTint=r;this.fillColor=a;this.fillAlpha=o;this._fillTint=a;this.fill=s;this.holes=[];this.shape=l;this.type=l.type}e.prototype.clone=function t(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)};e.prototype.addHole=function e(t){this.holes.push(t)};e.prototype.destroy=function e(){this.shape=null;this.holes=null};return e}();t.default=i},function(e,t,r){"use strict";e.exports=n;function n(e,t,r){r=r||2;var n=t&&t.length,a=n?t[0]*r:e.length,s=i(e,0,a,r,true),u=[];if(!s)return u;var l,f,c,d,p,v,y;if(n)s=h(e,t,s,r);if(e.length>80*r){l=c=e[0];f=d=e[1];for(var g=r;g<a;g+=r){p=e[g];v=e[g+1];if(p<l)l=p;if(v<f)f=v;if(p>c)c=p;if(v>d)d=v}y=Math.max(c-l,d-f)}o(s,u,r,l,f,y);return u}function i(e,t,r,n,i){var a,o;if(i===A(e,t,r,n)>0){for(a=t;a<r;a+=n)o=M(a,e[a],e[a+1],o)}else{for(a=r-n;a>=t;a-=n)o=M(a,e[a],e[a+1],o)}if(o&&T(o,o.next)){C(o);o=o.next}return o}function a(e,t){if(!e)return e;if(!t)t=e;var r=e,n;do{n=false;if(!r.steiner&&(T(r,r.next)||x(r.prev,r,r.next)===0)){C(r);r=t=r.prev;if(r===r.next)return null;n=true}else{r=r.next}}while(n||r!==t);return t}function o(e,t,r,n,i,h,c){if(!e)return;if(!c&&h)v(e,n,i,h);var d=e,p,y;while(e.prev!==e.next){p=e.prev;y=e.next;if(h?u(e,n,i,h):s(e)){t.push(p.i/r);t.push(e.i/r);t.push(y.i/r);C(e);e=y.next;d=y.next;continue}e=y;if(e===d){if(!c){o(a(e),t,r,n,i,h,1)}else if(c===1){e=l(e,t,r);o(e,t,r,n,i,h,2)}else if(c===2){f(e,t,r,n,i,h)}break}}}function s(e){var t=e.prev,r=e,n=e.next;if(x(t,r,n)>=0)return false;var i=e.next.next;while(i!==e.prev){if(m(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return false;i=i.next}return true}function u(e,t,r,n){var i=e.prev,a=e,o=e.next;if(x(i,a,o)>=0)return false;var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,f=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y;var h=g(s,u,t,r,n),c=g(l,f,t,r,n);var d=e.nextZ;while(d&&d.z<=c){if(d!==e.prev&&d!==e.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return false;d=d.nextZ}d=e.prevZ;while(d&&d.z>=h){if(d!==e.prev&&d!==e.next&&m(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return false;d=d.prevZ}return true}function l(e,t,r){var n=e;do{var i=n.prev,a=n.next.next;if(!T(i,a)&&w(i,n,n.next,a)&&O(i,a)&&O(a,i)){t.push(i.i/r);t.push(n.i/r);t.push(a.i/r);C(n);C(n.next);n=e=a}n=n.next}while(n!==e);return n}function f(e,t,r,n,i,s){var u=e;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&b(u,l)){var f=P(u,l);u=a(u,u.next);f=a(f,f.next);o(u,t,r,n,i,s);o(f,t,r,n,i,s);return}l=l.next}u=u.next}while(u!==e)}function h(e,t,r,n){var o=[],s,u,l,f,h;for(s=0,u=t.length;s<u;s++){l=t[s]*n;f=s<u-1?t[s+1]*n:e.length;h=i(e,l,f,n,false);if(h===h.next)h.steiner=true;o.push(_(h))}o.sort(c);for(s=0;s<o.length;s++){d(o[s],r);r=a(r,r.next)}return r}function c(e,t){return e.x-t.x}function d(e,t){t=p(e,t);if(t){var r=P(t,e);a(r,r.next)}}function p(e,t){var r=t,n=e.x,i=e.y,a=-Infinity,o;do{if(i<=r.y&&i>=r.next.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>a){a=s;if(s===n){if(i===r.y)return r;if(i===r.next.y)return r.next}o=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!o)return null;if(n===a)return o.prev;var u=o,l=o.x,f=o.y,h=Infinity,c;r=o.next;while(r!==u){if(n>=r.x&&r.x>=l&&m(i<f?n:a,i,l,f,i<f?a:n,i,r.x,r.y)){c=Math.abs(i-r.y)/(n-r.x);if((c<h||c===h&&r.x>o.x)&&O(r,e)){o=r;h=c}}r=r.next}return o}function v(e,t,r,n){var i=e;do{if(i.z===null)i.z=g(i.x,i.y,t,r,n);i.prevZ=i.prev;i.nextZ=i.next;i=i.next}while(i!==e);i.prevZ.nextZ=null;i.prevZ=null;y(i)}function y(e){var t,r,n,i,a,o,s,u,l=1;do{r=e;e=null;a=null;o=0;while(r){o++;n=r;s=0;for(t=0;t<l;t++){s++;n=n.nextZ;if(!n)break}u=l;while(s>0||u>0&&n){if(s===0){i=n;n=n.nextZ;u--}else if(u===0||!n){i=r;r=r.nextZ;s--}else if(r.z<=n.z){i=r;r=r.nextZ;s--}else{i=n;n=n.nextZ;u--}if(a)a.nextZ=i;else e=i;i.prevZ=a;a=i}r=n}a.nextZ=null;l*=2}while(o>1);return e}function g(e,t,r,n,i){e=32767*(e-r)/i;t=32767*(t-n)/i;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;return e|t<<1}function _(e){var t=e,r=e;do{if(t.x<r.x)r=t;t=t.next}while(t!==e);return r}function m(e,t,r,n,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(n-s)-(r-o)*(t-s)>=0&&(r-o)*(a-s)-(i-o)*(n-s)>=0}function b(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!E(e,t)&&O(e,t)&&O(t,e)&&S(e,t)}function x(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function T(e,t){return e.x===t.x&&e.y===t.y}function w(e,t,r,n){if(T(e,t)&&T(r,n)||T(e,n)&&T(r,t))return true;return x(e,t,r)>0!==x(e,t,n)>0&&x(r,n,e)>0!==x(r,n,t)>0}function E(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&w(r,r.next,e,t))return true;r=r.next}while(r!==e);return false}function O(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function S(e,t){var r=e,n=false,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{if(r.y>a!==r.next.y>a&&i<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x)n=!n;r=r.next}while(r!==e);return n}function P(e,t){var r=new R(e.i,e.x,e.y),n=new R(t.i,t.x,t.y),i=e.next,a=t.prev;e.next=t;t.prev=e;r.next=i;i.prev=r;n.next=r;r.prev=n;a.next=n;n.prev=a;return n}function M(e,t,r,n){var i=new R(e,t,r);if(!n){i.prev=i;i.next=i}else{i.next=n.next;i.prev=n;n.next.prev=i;n.next=i}return i}function C(e){e.next.prev=e.prev;e.prev.next=e.next;if(e.prevZ)e.prevZ.nextZ=e.nextZ;if(e.nextZ)e.nextZ.prevZ=e.prevZ}function R(e,t,r){this.i=e;this.x=t;this.y=r;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=false}n.deviation=function(e,t,r,n){var i=t&&t.length;var a=i?t[0]*r:e.length;var o=Math.abs(A(e,0,a,r));if(i){for(var s=0,u=t.length;s<u;s++){var l=t[s]*r;var f=s<u-1?t[s+1]*r:e.length;o-=Math.abs(A(e,l,f,r))}}var h=0;for(s=0;s<n.length;s+=3){var c=n[s]*r;var d=n[s+1]*r;var p=n[s+2]*r;h+=Math.abs((e[c]-e[p])*(e[d+1]-e[c+1])-(e[c]-e[d])*(e[p+1]-e[c+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function A(e,t,r,n){var i=0;for(var a=t,o=r-n;a<r;a+=n){i+=(e[o]-e[a])*(e[a+1]+e[o+1]);o=a}return i}n.flatten=function(e){var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0;for(var i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++){for(var o=0;o<t;o++)r.vertices.push(e[i][a][o])}if(i>0){n+=e[i-1].length;r.holes.push(n)}}return r}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(80);var a=r(18);var o=h(a);var s=r(42);var u=r(3);var l=h(u);var f=r(1);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function e(t,r,n,a,u){c(this,e);if(typeof t==="number"){t=Object.assign({width:t,height:r||l.default.RENDER_OPTIONS.height,forceCanvas:!!a,sharedTicker:!!u},n)}this._options=t=Object.assign({sharedTicker:false,forceCanvas:false,sharedLoader:false},t);this.renderer=(0,i.autoDetectRenderer)(t);this.stage=new o.default;this._ticker=null;this.ticker=t.sharedTicker?s.shared:new s.Ticker;this.start()}e.prototype.render=function e(){this.renderer.render(this.stage)};e.prototype.stop=function e(){this._ticker.stop()};e.prototype.start=function e(){this._ticker.start()};e.prototype.destroy=function e(t){var r=this._ticker;this.ticker=null;r.destroy();this.stage.destroy();this.stage=null;this.renderer.destroy(t);this.renderer=null;this._options=null};n(e,[{key:"ticker",set:function e(t){if(this._ticker){this._ticker.remove(this.render,this)}this._ticker=t;if(t){t.add(this.render,this,f.UPDATE_PRIORITY.LOW)}},get:function e(){return this._ticker}},{key:"view",get:function e(){return this.renderer.view}},{key:"screen",get:function e(){return this.renderer.screen}}]);return e}();t.default=d},function(e,t,r){"use strict";t.__esModule=true;t.autoDetectRenderer=h;var n=r(2);var i=f(n);var a=r(19);var o=l(a);var s=r(25);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e,t,r,n){var a=e&&e.forceCanvas;if(n!==undefined){a=n}if(!a&&i.isWebGLSupported()){return new u.default(e,t,r)}return new o.default(e,t,r)}},function(e,t,r){"use strict";t.__esModule=true;t.default={accessible:false,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:false,_accessibleDiv:false}},function(e,t,r){"use strict";t.__esModule=true;t.BitmapText=t.TilingSpriteRenderer=t.TilingSprite=t.TextureTransform=t.AnimatedSprite=undefined;var n=r(168);Object.defineProperty(t,"AnimatedSprite",{enumerable:true,get:function e(){return u(n).default}});var i=r(46);Object.defineProperty(t,"TextureTransform",{enumerable:true,get:function e(){return u(i).default}});var a=r(169);Object.defineProperty(t,"TilingSprite",{enumerable:true,get:function e(){return u(a).default}});var o=r(170);Object.defineProperty(t,"TilingSpriteRenderer",{enumerable:true,get:function e(){return u(o).default}});var s=r(171);Object.defineProperty(t,"BitmapText",{enumerable:true,get:function e(){return u(s).default}});r(172);r(173);r(174);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=d(i);var o=r(84);var s=c(o);var u=r(85);var l=c(u);var f=r(86);var h=c(f);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var g=function(e){y(t,e);function t(r,n,i,o){p(this,t);o=o||5;var u=(0,s.default)(o,true);var f=(0,l.default)(o);var h=v(this,e.call(this,u,f));h.resolution=i||a.settings.RESOLUTION;h._quality=0;h.quality=n||4;h.strength=r||8;h.firstRun=true;return h}t.prototype.apply=function e(t,r,n,i){if(this.firstRun){var a=t.renderer.gl;var o=(0,h.default)(a);this.vertexSrc=(0,s.default)(o,true);this.fragmentSrc=(0,l.default)(o);this.firstRun=false}this.uniforms.strength=1/n.size.width*(n.size.width/r.size.width);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1){t.applyFilter(this,r,n,i)}else{var u=t.getRenderTarget(true);var f=r;var c=u;for(var d=0;d<this.passes-1;d++){t.applyFilter(this,f,c,true);var p=c;c=f;f=p}t.applyFilter(this,f,n,i);t.returnRenderTarget(u)}};n(t,[{key:"blur",get:function e(){return this.strength},set:function e(t){this.padding=Math.abs(t)*2;this.strength=t}},{key:"quality",get:function e(){return this._quality},set:function e(t){this._quality=t;this.passes=t}}]);return t}(a.Filter);t.default=g},function(e,t,r){"use strict";t.__esModule=true;t.default=i;var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function i(e,t){var r=Math.ceil(e/2);var i=n;var a="";var o=void 0;if(t){o="vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);"}else{o="vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);"}for(var s=0;s<e;s++){var u=o.replace("%index%",s);u=u.replace("%sampleIndex%",s-(r-1)+".0");a+=u;a+="\n"}i=i.replace("%blur%",a);i=i.replace("%size%",e);return i}},function(e,t,r){"use strict";t.__esModule=true;t.default=a;var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};var i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function a(e){var t=n[e];var r=t.length;var a=i;var o="";var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";var u=void 0;for(var l=0;l<e;l++){var f=s.replace("%index%",l);u=l;if(l>=r){u=e-l-1}f=f.replace("%value%",t[u]);o+=f;o+="\n"}a=a.replace("%blur%",o);a=a.replace("%size%",e);return a}},function(e,t,r){"use strict";t.__esModule=true;t.default=n;function n(e){var t=e.getParameter(e.MAX_VARYING_VECTORS);var r=15;while(r>t){r-=2}return r}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=d(i);var o=r(84);var s=c(o);var u=r(85);var l=c(u);var f=r(86);var h=c(f);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var g=function(e){y(t,e);function t(r,n,i,o){p(this,t);o=o||5;var u=(0,s.default)(o,false);var f=(0,l.default)(o);var h=v(this,e.call(this,u,f));h.resolution=i||a.settings.RESOLUTION;h._quality=0;h.quality=n||4;h.strength=r||8;h.firstRun=true;return h}t.prototype.apply=function e(t,r,n,i){if(this.firstRun){var a=t.renderer.gl;var o=(0,h.default)(a);this.vertexSrc=(0,s.default)(o,false);this.fragmentSrc=(0,l.default)(o);this.firstRun=false}this.uniforms.strength=1/n.size.height*(n.size.height/r.size.height);this.uniforms.strength*=this.strength;this.uniforms.strength/=this.passes;if(this.passes===1){t.applyFilter(this,r,n,i)}else{var u=t.getRenderTarget(true);var f=r;var c=u;for(var d=0;d<this.passes-1;d++){t.applyFilter(this,f,c,true);var p=c;c=f;f=p}t.applyFilter(this,f,n,i);t.returnRenderTarget(u)}};n(t,[{key:"blur",get:function e(){return this.strength},set:function e(t){this.padding=Math.abs(t)*2;this.strength=t}},{key:"quality",get:function e(){return this._quality},set:function e(t){this._quality=t;this.passes=t}}]);return t}(a.Filter);t.default=g},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=o(i);function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){s(this,e);this.global=new a.Point;this.target=null;this.originalEvent=null;this.identifier=null;this.isPrimary=false;this.button=0;this.buttons=0;this.width=0;this.height=0;this.tiltX=0;this.tiltY=0;this.pointerType=null;this.pressure=0;this.rotationAngle=0;this.twist=0;this.tangentialPressure=0}e.prototype.getLocalPosition=function e(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)};e.prototype._copyEvent=function e(t){if(t.isPrimary){this.isPrimary=true}this.button=t.button;this.buttons=t.buttons;this.width=t.width;this.height=t.height;this.tiltX=t.tiltX;this.tiltY=t.tiltY;this.pointerType=t.pointerType;this.pressure=t.pressure;this.rotationAngle=t.rotationAngle;this.twist=t.twist||0;this.tangentialPressure=t.tangentialPressure||0};e.prototype._reset=function e(){this.isPrimary=false};n(e,[{key:"pointerId",get:function e(){return this.identifier}}]);return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(){n(this,e);this.stopped=false;this.target=null;this.currentTarget=null;this.type=null;this.data=null}e.prototype.stopPropagation=function e(){this.stopped=true};e.prototype._reset=function e(){this.stopped=false;this.currentTarget=null;this.target=null};return e}();t.default=i},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t){i(this,e);this._pointerId=t;this._flags=e.FLAGS.NONE}e.prototype._doSet=function e(t,r){if(r){this._flags=this._flags|t}else{this._flags=this._flags&~t}};n(e,[{key:"pointerId",get:function e(){return this._pointerId}},{key:"flags",get:function e(){return this._flags},set:function e(t){this._flags=t}},{key:"none",get:function e(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function e(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function e(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function e(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function e(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function e(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function e(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]);return e}();t.default=a;a.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2})},function(e,t,r){"use strict";t.__esModule=true;t.default={interactive:false,interactiveChildren:true,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){if(e){this.cursor="pointer"}else if(this.cursor==="pointer"){this.cursor=null}},cursor:null,get trackedPointers(){if(this._trackedPointers===undefined)this._trackedPointers={};return this._trackedPointers},_trackedPointers:undefined}},function(e,t,r){"use strict";t.__esModule=true;t.parse=l;t.default=function(){return function e(t,r){if(!t.data||t.type!==o.Resource.TYPE.XML){r();return}if(t.data.getElementsByTagName("page").length===0||t.data.getElementsByTagName("info").length===0||t.data.getElementsByTagName("info")[0].getAttribute("face")===null){r();return}var n=!t.isDataUrl?i.dirname(t.url):"";if(t.isDataUrl){if(n==="."){n=""}if(this.baseUrl&&n){if(this.baseUrl.charAt(this.baseUrl.length-1)==="/"){n+="/"}}}n=n.replace(this.baseUrl,"");if(n&&n.charAt(n.length-1)!=="/"){n+="/"}var s=n+t.data.getElementsByTagName("page")[0].getAttribute("file");if(a.utils.TextureCache[s]){l(t,a.utils.TextureCache[s]);r()}else{var u={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",s,u,function(e){l(t,e.texture);r()})}}};var n=r(10);var i=u(n);var a=r(0);var o=r(22);var s=r(82);function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function l(e,t){e.bitmapFont=s.BitmapText.registerFont(e.data,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t,r,n){if(r===undefined)r=false;i(this,e);this._fn=t;this._once=r;this._thisArg=n;this._next=this._prev=this._owner=null}n(e,[{key:"detach",value:function e(){if(this._owner===null)return false;this._owner.detach(this);return true}}]);return e}();function o(e,t){if(!e._head){e._head=t;e._tail=t}else{e._tail._next=t;t._prev=e._tail;e._tail=t}t._owner=e;return t}var s=function(){function e(){i(this,e);this._head=this._tail=undefined}n(e,[{key:"handlers",value:function e(){var t=arguments.length<=0||arguments[0]===undefined?false:arguments[0];var r=this._head;if(t)return!!r;var n=[];while(r){n.push(r);r=r._next}return n}},{key:"has",value:function e(t){if(!(t instanceof a)){throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.")}return t._owner===this}},{key:"dispatch",value:function e(){var t=this._head;if(!t)return false;while(t){if(t._once)this.detach(t);t._fn.apply(t._thisArg,arguments);t=t._next}return true}},{key:"add",value:function e(t){var r=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof t!=="function"){throw new Error("MiniSignal#add(): First arg must be a Function.")}return o(this,new a(t,false,r))}},{key:"once",value:function e(t){var r=arguments.length<=1||arguments[1]===undefined?null:arguments[1];if(typeof t!=="function"){throw new Error("MiniSignal#once(): First arg must be a Function.")}return o(this,new a(t,true,r))}},{key:"detach",value:function e(t){if(!(t instanceof a)){throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.")}if(t._owner!==this)return this;if(t._prev)t._prev._next=t._next;if(t._next)t._next._prev=t._prev;if(t===this._head){this._head=t._next;if(t._next===null){this._tail=null}}else if(t===this._tail){this._tail=t._prev;this._tail._next=null}t._owner=null;return this}},{key:"detachAll",value:function e(){var t=this._head;if(!t)return this;this._head=this._tail=null;while(t){t._owner=null;t=t._next}return this}}]);return e}();s.MiniSignalBinding=a;t["default"]=s;e.exports=t["default"]},function(e,t,r){"use strict";e.exports=function e(t,r){r=r||{};var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var i=n.parser[r.strictMode?"strict":"loose"].exec(t);var a={};var o=14;while(o--)a[n.key[o]]=i[o]||"";a[n.q.name]={};a[n.key[12]].replace(n.q.parser,function(e,t,r){if(t)a[n.q.name][t]=r});return a}},function(e,t,r){"use strict";t.__esModule=true;t.eachSeries=i;t.queue=o;function n(){}function i(e,t,r,n){var i=0;var a=e.length;(function o(s){if(s||i===a){if(r){r(s)}return}if(n){setTimeout(function(){t(e[i++],o)},1)}else{t(e[i++],o)}})()}function a(e){return function t(){if(e===null){throw new Error("Callback was already called.")}var r=e;e=null;r.apply(this,arguments)}}function o(e,t){if(t==null){t=1}else if(t===0){throw new Error("Concurrency must not be zero")}var r=0;var i={_tasks:[],concurrency:t,saturated:n,unsaturated:n,buffer:t/4,empty:n,drain:n,error:n,started:false,paused:false,push:function e(t,r){o(t,false,r)},kill:function e(){r=0;i.drain=n;i.started=false;i._tasks=[]},unshift:function e(t,r){o(t,true,r)},process:function t(){while(!i.paused&&r<i.concurrency&&i._tasks.length){var n=i._tasks.shift();if(i._tasks.length===0){i.empty()}r+=1;if(r===i.concurrency){i.saturated()}e(n.data,a(s(n)))}},length:function e(){return i._tasks.length},running:function e(){return r},idle:function e(){return i._tasks.length+r===0},pause:function e(){if(i.paused===true){return}i.paused=true},resume:function e(){if(i.paused===false){return}i.paused=false;for(var t=1;t<=i.concurrency;t++){i.process()}}};function o(e,t,r){if(r!=null&&typeof r!=="function"){throw new Error("task callback must be a function")}i.started=true;if(e==null&&i.idle()){setTimeout(function(){return i.drain()},1);return}var a={data:e,callback:typeof r==="function"?r:n};if(t){i._tasks.unshift(a)}else{i._tasks.push(a)}setTimeout(function(){return i.process()},1)}function s(e){return function t(){r-=1;e.callback.apply(e,arguments);if(arguments[0]!=null){i.error(arguments[0],e.data)}if(r<=i.concurrency-i.buffer){i.unsaturated()}if(i.idle()){i.drain()}i.process()}}return i}},function(e,t,r){"use strict";t.__esModule=true;t.encodeBinary=i;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(e){var t="";var r=0;while(r<e.length){var i=[0,0,0];var a=[0,0,0,0];for(var o=0;o<i.length;++o){if(r<e.length){i[o]=e.charCodeAt(r++)&255}else{i[o]=0}}a[0]=i[0]>>2;a[1]=(i[0]&3)<<4|i[1]>>4;a[2]=(i[1]&15)<<2|i[2]>>6;a[3]=i[2]&63;var s=r-(e.length-1);switch(s){case 2:a[3]=64;a[2]=64;break;case 1:a[3]=64;break;default:break}for(var u=0;u<a.length;++u){t+=n.charAt(a[u])}}return t}},function(e,t,r){"use strict";t.__esModule=true;t.default=function(){return function e(t,r){var i=t.name+"_image";if(!t.data||t.type!==n.Resource.TYPE.JSON||!t.data.frames||this.resources[i]){r();return}var a={crossOrigin:t.crossOrigin,loadType:n.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};var s=u(t,this.baseUrl);this.add(i,s,a,function e(n){var i=new o.Spritesheet(n.texture.baseTexture,t.data,t.url);i.parse(function(){t.spritesheet=i;t.textures=i.textures;r()})})}};t.getResourcePath=u;var n=r(22);var i=r(65);var a=s(i);var o=r(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(e.isDataUrl){return e.data.meta.image}return a.default.resolve(e.url.replace(t,""),e.data.meta.image)}},function(e,t,r){"use strict";t.__esModule=true;t.default=function(){return function e(t,r){if(t.data&&t.type===n.Resource.TYPE.IMAGE){t.texture=a.default.fromLoader(t.data,t.url,t.name)}r()}};var n=r(22);var i=r(13);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(23);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(r,n,a){o(this,t);var u=s(this,e.call(this,r));u._ready=true;u.verticesX=n||10;u.verticesY=a||10;u.drawMode=i.default.DRAW_MODES.TRIANGLES;u.refresh();return u}t.prototype._refresh=function e(){var t=this._texture;var r=this.verticesX*this.verticesY;var n=[];var i=[];var a=[];var o=[];var s=this.verticesX-1;var u=this.verticesY-1;var l=t.width/s;var f=t.height/u;for(var h=0;h<r;h++){var c=h%this.verticesX;var d=h/this.verticesX|0;n.push(c*l,d*f);a.push(c/s,d/u)}var p=s*u;for(var v=0;v<p;v++){var y=v%s;var g=v/s|0;var _=g*this.verticesX+y;var m=g*this.verticesX+y+1;var b=(g+1)*this.verticesX+y;var x=(g+1)*this.verticesX+y+1;o.push(_,m,b);o.push(m,x,b)}this.vertices=new Float32Array(n);this.uvs=new Float32Array(a);this.colors=new Float32Array(i);this.indices=new Uint16Array(o);this.indexDirty=true;this.multiplyUvs()};t.prototype._onTextureUpdate=function e(){i.default.prototype._onTextureUpdate.call(this);if(this._ready){this.refresh()}};return t}(i.default);t.default=l},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t){n(this,e);this.maxItemsPerFrame=t;this.itemsLeft=0}e.prototype.beginFrame=function e(){this.itemsLeft=this.maxItemsPerFrame};e.prototype.allowedToUpload=function e(){return this.itemsLeft-- >0};return e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};var a=r(7);var o=r(17);var s=r(8);var u=d(s);var l=r(15);var f=d(l);var h=r(29);var c=d(h);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var g=function e(t){var r,s;return s=r=function(e){y(t,e);function t(e){p(this,t);var r=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={graphics:new a.Graphics};return r}n(t,[{key:"componentDidMount",value:function e(){if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this)){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}this.drawGraphics()}},{key:"componentWillUpdate",value:function e(t){this.updateGraphics()}},{key:"render",value:function e(){return null}}]);return t}((0,u.default)(t).with(f.default,(0,c.default)("graphics"))),r.defaultProps={alpha:1,position:new o.Vector,rotation:new o.Vector,anchor:new o.Vector(.5,.5)},s};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TickEvent=t.Circle=t.Rectangle=t.TilingSprite=t.AnimatedSprite=t.Sprite=t.ResourceLoader=t.Loop=t.Stage=undefined;var n=r(103);var i=x(n);var a=r(202);var o=x(a);var s=r(205);var u=x(s);var l=r(206);var f=x(l);var h=r(208);var c=x(h);var d=r(209);var p=x(d);var v=r(210);var y=x(v);var g=r(211);var _=x(g);var m=r(212);var b=x(m);function x(e){return e&&e.__esModule?e:{default:e}}t.Stage=i.default;t.Loop=o.default;t.ResourceLoader=u.default;t.Sprite=f.default;t.AnimatedSprite=c.default;t.TilingSprite=p.default;t.Rectangle=y.default;t.Circle=_.default;t.TickEvent=b.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=y(i);var o=r(9);var s=y(o);var u=r(7);var l=r(11);var f=r(28);var h=y(f);var c=r(8);var d=y(c);var p=r(15);var v=y(p);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){m(t,e);function t(e){g(this,t);var r=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));x.call(r);var n=new u.autoDetectRenderer({width:e.width,height:e.height,resolution:e.resolution});var i=new u.Container;n.render(i);r.state={renderer:n,container:i};return r}n(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.domcontainer,n=t.loop;var i=this.state,a=i.renderer,o=i.container;this.refs.domcontainer.appendChild(a.view);n.add(this.update)}},{key:"componentWillUnmount",value:function e(){var t=this.props.domcontainer;var r=this.state.renderer;this.refs.domcontainer.removeChild(r.view)}},{key:"render",value:function e(){var r=this.state.container;var n=this.props.children;return a.default.createElement("div",{ref:"domcontainer"},a.default.createElement(t.Provider,{container:r},n))}}]);return t}((0,d.default)(a.default.Component).with(v.default));b.Provider=(0,l.contextProvider)({container:s.default.object},function(e){return{container:e.container}});b.defaultProps={width:800,height:600,resolution:1};var x=function e(){this.update=function(){var e=this.state,t=e.renderer,r=e.container;t.render(r)}.bind(this)};var T={loop:s.default.object.isRequired};t.default=(0,l.withContext)(T)(b)},function(e,t,r){"use strict";var n=r(30);var i=r(31);var a=r(50);var o=r(32);var s=r(105);e.exports=function(e,t){var r=typeof Symbol==="function"&&Symbol.iterator;var u="@@iterator";function l(e){var t=e&&(r&&e[r]||e[u]);if(typeof t==="function"){return t}}var f="<<anonymous>>";var h={array:v("array"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:y(),arrayOf:g,element:_(),instanceOf:m,node:w(),objectOf:x,oneOf:b,oneOfType:T,shape:E};function c(e,t){if(e===t){return e!==0||1/e===1/t}else{return e!==e&&t!==t}}function d(e){this.message=e;this.stack=""}d.prototype=Error.prototype;function p(e){if(process.env.NODE_ENV!=="production"){var r={};var n=0}function s(s,u,l,h,c,p,v){h=h||f;p=p||l;if(v!==o){if(t){i(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use `PropTypes.checkPropTypes()` to call them. "+"Read more at http://fb.me/use-check-prop-types")}else if(process.env.NODE_ENV!=="production"&&typeof console!=="undefined"){var y=h+":"+l;if(!r[y]&&n<3){a(false,"You are manually calling a React.PropTypes validation "+"function for the `%s` prop on `%s`. This is deprecated "+"and will throw in the standalone `prop-types` package. "+"You may be seeing this warning due to a third-party PropTypes "+"library. See https://fb.me/react-warning-dont-call-proptypes "+"for details.",p,h);r[y]=true;n++}}}if(u[l]==null){if(s){if(u[l]===null){return new d("The "+c+" `"+p+"` is marked as required "+("in `"+h+"`, but its value is `null`."))}return new d("The "+c+" `"+p+"` is marked as required in "+("`"+h+"`, but its value is `undefined`."))}return null}else{return e(u,l,h,c,p)}}var u=s.bind(null,false);u.isRequired=s.bind(null,true);return u}function v(e){function t(t,r,n,i,a,o){var s=t[r];var u=P(s);if(u!==e){var l=M(s);return new d("Invalid "+i+" `"+a+"` of type "+("`"+l+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return p(t)}function y(){return p(n.thatReturnsNull)}function g(e){function t(t,r,n,i,a){if(typeof e!=="function"){return new d("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside arrayOf.")}var s=t[r];if(!Array.isArray(s)){var u=P(s);return new d("Invalid "+i+" `"+a+"` of type "+("`"+u+"` supplied to `"+n+"`, expected an array."))}for(var l=0;l<s.length;l++){var f=e(s,l,n,i,a+"["+l+"]",o);if(f instanceof Error){return f}}return null}return p(t)}function _(){function t(t,r,n,i,a){var o=t[r];if(!e(o)){var s=P(o);return new d("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return p(t)}function m(e){function t(t,r,n,i,a){if(!(t[r]instanceof e)){var o=e.name||f;var s=R(t[r]);return new d("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+n+"`, expected ")+("instance of `"+o+"`."))}return null}return p(t)}function b(e){if(!Array.isArray(e)){process.env.NODE_ENV!=="production"?a(false,"Invalid argument supplied to oneOf, expected an instance of array."):void 0;return n.thatReturnsNull}function t(t,r,n,i,a){var o=t[r];for(var s=0;s<e.length;s++){if(c(o,e[s])){return null}}var u=JSON.stringify(e);return new d("Invalid "+i+" `"+a+"` of value `"+o+"` "+("supplied to `"+n+"`, expected one of "+u+"."))}return p(t)}function x(e){function t(t,r,n,i,a){if(typeof e!=="function"){return new d("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside objectOf.")}var s=t[r];var u=P(s);if(u!=="object"){return new d("Invalid "+i+" `"+a+"` of type "+("`"+u+"` supplied to `"+n+"`, expected an object."))}for(var l in s){if(s.hasOwnProperty(l)){var f=e(s,l,n,i,a+"."+l,o);if(f instanceof Error){return f}}}return null}return p(t)}function T(e){if(!Array.isArray(e)){process.env.NODE_ENV!=="production"?a(false,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0;return n.thatReturnsNull}for(var t=0;t<e.length;t++){var r=e[t];if(typeof r!=="function"){a(false,"Invalid argument supplid to oneOfType. Expected an array of check functions, but "+"received %s at index %s.",C(r),t);return n.thatReturnsNull}}function i(t,r,n,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(u(t,r,n,i,a,o)==null){return null}}return new d("Invalid "+i+" `"+a+"` supplied to "+("`"+n+"`."))}return p(i)}function w(){function e(e,t,r,n,i){if(!O(e[t])){return new d("Invalid "+n+" `"+i+"` supplied to "+("`"+r+"`, expected a ReactNode."))}return null}return p(e)}function E(e){function t(t,r,n,i,a){var s=t[r];var u=P(s);if(u!=="object"){return new d("Invalid "+i+" `"+a+"` of type `"+u+"` "+("supplied to `"+n+"`, expected `object`."))}for(var l in e){var f=e[l];if(!f){continue}var h=f(s,l,n,i,a+"."+l,o);if(h){return h}}return null}return p(t)}function O(t){switch(typeof t){case"number":case"string":case"undefined":return true;case"boolean":return!t;case"object":if(Array.isArray(t)){return t.every(O)}if(t===null||e(t)){return true}var r=l(t);if(r){var n=r.call(t);var i;if(r!==t.entries){while(!(i=n.next()).done){if(!O(i.value)){return false}}}else{while(!(i=n.next()).done){var a=i.value;if(a){if(!O(a[1])){return false}}}}}else{return false}return true;default:return false}}function S(e,t){if(e==="symbol"){return true}if(t["@@toStringTag"]==="Symbol"){return true}if(typeof Symbol==="function"&&t instanceof Symbol){return true}return false}function P(e){var t=typeof e;if(Array.isArray(e)){return"array"}if(e instanceof RegExp){return"object"}if(S(t,e)){return"symbol"}return t}function M(e){if(typeof e==="undefined"||e===null){return""+e}var t=P(e);if(t==="object"){if(e instanceof Date){return"date"}else if(e instanceof RegExp){return"regexp"}}return t}function C(e){var t=M(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function R(e){if(!e.constructor||!e.constructor.name){return f}return e.constructor.name}h.checkPropTypes=s;h.PropTypes=h;return h}},function(e,t,r){"use strict";if(process.env.NODE_ENV!=="production"){var n=r(31);var i=r(50);var a=r(32);var o={}}function s(e,t,r,s,u){if(process.env.NODE_ENV!=="production"){for(var l in e){if(e.hasOwnProperty(l)){var f;try{n(typeof e[l]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",s||"React class",r,l);f=e[l](t,l,s,r,null,a)}catch(e){f=e}i(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker "+"function must return `null` or an `Error` but returned a %s. "+"You may have forgotten to pass an argument to the type checker "+"creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and "+"shape all require an argument).",s||"React class",r,l,typeof f);if(f instanceof Error&&!(f.message in o)){o[f.message]=true;var h=u?u():"";i(false,"Failed %s type: %s%s",r,f.message,h!=null?h:"")}}}}}e.exports=s},function(e,t,r){"use strict";var n=r(30);var i=r(31);var a=r(32);e.exports=function(){function e(e,t,r,n,o,s){if(s===a){return}i(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};r.checkPropTypes=n;r.PropTypes=r;return r}},function(e,t,r){"use strict";r(108);r(110);r(111);if(!window.ArrayBuffer){window.ArrayBuffer=Array}if(!window.Float32Array){window.Float32Array=Array}if(!window.Uint32Array){window.Uint32Array=Array}if(!window.Uint16Array){window.Uint16Array=Array}},function(e,t,r){"use strict";var n=r(109);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}if(!Object.assign){Object.assign=i.default}},function(e,t,r){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var n=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty;var a=Object.prototype.propertyIsEnumerable;function o(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function s(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(n.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e});if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}e.exports=s()?Object.assign:function(e,t){var r;var s=o(e);var u;for(var l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var f in r){if(i.call(r,f)){s[f]=r[f]}}if(n){u=n(r);for(var h=0;h<u.length;h++){if(a.call(r,u[h])){s[u[h]]=r[u[h]]}}}}return s}},function(e,t,r){"use strict";var n=16;if(!(Date.now&&Date.prototype.getTime)){Date.now=function e(){return(new Date).getTime()}}if(!(global.performance&&global.performance.now)){var i=Date.now();if(!global.performance){global.performance={}}global.performance.now=function(){return Date.now()-i}}var a=Date.now();var o=["ms","moz","webkit","o"];for(var s=0;s<o.length&&!global.requestAnimationFrame;++s){var u=o[s];global.requestAnimationFrame=global[u+"RequestAnimationFrame"];global.cancelAnimationFrame=global[u+"CancelAnimationFrame"]||global[u+"CancelRequestAnimationFrame"]}if(!global.requestAnimationFrame){global.requestAnimationFrame=function(e){if(typeof e!=="function"){throw new TypeError(e+"is not a function")}var t=Date.now();var r=n+a-t;if(r<0){r=0}a=t;return setTimeout(function(){a=Date.now();e(performance.now())},r)}}if(!global.cancelAnimationFrame){global.cancelAnimationFrame=function(e){return clearTimeout(e)}}},function(e,t,r){"use strict";if(!Math.sign){Math.sign=function e(t){t=Number(t);if(t===0||isNaN(t)){return t}return t>0?1:-1}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(35);var i=o(n);var a=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;s(this,e);this.x=t;this.y=r;this.radius=n;this.type=a.SHAPES.CIRC}e.prototype.clone=function t(){return new e(this.x,this.y,this.radius)};e.prototype.contains=function e(t,r){if(this.radius<=0){return false}var n=this.radius*this.radius;var i=this.x-t;var a=this.y-r;i*=i;a*=a;return i+a<=n};e.prototype.getBounds=function e(){return new i.default(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)};return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;var n=r(35);var i=o(n);var a=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;s(this,e);this.x=t;this.y=r;this.width=n;this.height=i;this.type=a.SHAPES.ELIP}e.prototype.clone=function t(){return new e(this.x,this.y,this.width,this.height)};e.prototype.contains=function e(t,r){if(this.width<=0||this.height<=0){return false}var n=(t-this.x)/this.width;var i=(r-this.y)/this.height;n*=n;i*=i;return n+i<=1};e.prototype.getBounds=function e(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)};return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;var n=r(33);var i=o(n);var a=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}s(this,e);if(Array.isArray(r[0])){r=r[0]}if(r[0]instanceof i.default){var o=[];for(var u=0,l=r.length;u<l;u++){o.push(r[u].x,r[u].y)}r=o}this.closed=true;this.points=r;this.type=a.SHAPES.POLY}e.prototype.clone=function t(){return new e(this.points.slice())};e.prototype.close=function e(){var t=this.points;if(t[0]!==t[t.length-2]||t[1]!==t[t.length-1]){t.push(t[0],t[1])}};e.prototype.contains=function e(t,r){var n=false;var i=this.points.length/2;for(var a=0,o=i-1;a<i;o=a++){var s=this.points[a*2];var u=this.points[a*2+1];var l=this.points[o*2];var f=this.points[o*2+1];var h=u>r!==f>r&&t<(l-s)*((r-u)/(f-u))+s;if(h){n=!n}}return n};return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:20;i(this,e);this.x=t;this.y=r;this.width=a;this.height=o;this.radius=s;this.type=n.SHAPES.RREC}e.prototype.clone=function t(){return new e(this.x,this.y,this.width,this.height,this.radius)};e.prototype.contains=function e(t,r){if(this.width<=0||this.height<=0){return false}if(t>=this.x&&t<=this.x+this.width){if(r>=this.y&&r<=this.y+this.height){if(r>=this.y+this.radius&&r<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius){return true}var n=t-(this.x+this.radius);var i=r-(this.y+this.radius);var a=this.radius*this.radius;if(n*n+i*i<=a){return true}n=t-(this.x+this.width-this.radius);if(n*n+i*i<=a){return true}i=r-(this.y+this.height-this.radius);if(n*n+i*i<=a){return true}n=t-(this.x+this.radius);if(n*n+i*i<=a){return true}}}return false};return e}();t.default=a},function(e,t){var r=function(e,t){var r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!r){throw new Error("This browser does not support webGL. Try using the canvas renderer")}return r};e.exports=r},function(e,t){var r=new ArrayBuffer(0);var n=function(e,t,n,i){this.gl=e;this.buffer=e.createBuffer();this.type=t||e.ARRAY_BUFFER;this.drawType=i||e.STATIC_DRAW;this.data=r;if(n){this.upload(n)}this._updateID=0};n.prototype.upload=function(e,t,r){if(!r)this.bind();var n=this.gl;e=e||this.data;t=t||0;if(this.data.byteLength>=e.byteLength){n.bufferSubData(this.type,t,e)}else{n.bufferData(this.type,e,this.drawType)}this.data=e};n.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)};n.createVertexBuffer=function(e,t,r){return new n(e,e.ARRAY_BUFFER,t,r)};n.createIndexBuffer=function(e,t,r){return new n(e,e.ELEMENT_ARRAY_BUFFER,t,r)};n.create=function(e,t,r,i){return new n(e,t,r,i)};n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};e.exports=n},function(e,t,r){var n=r(54);var i=function(e,t,r){this.gl=e;this.framebuffer=e.createFramebuffer();this.stencil=null;this.texture=null;this.width=t||100;this.height=r||100};i.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new n(t);this.texture.bind();this.bind();t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)};i.prototype.enableStencil=function(){if(this.stencil)return;var e=this.gl;this.stencil=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,this.stencil);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)};i.prototype.clear=function(e,t,r,n){this.bind();var i=this.gl;i.clearColor(e,t,r,n);i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)};i.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)};i.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)};i.prototype.resize=function(e,t){var r=this.gl;this.width=e;this.height=t;if(this.texture){this.texture.uploadData(null,e,t)}if(this.stencil){r.bindRenderbuffer(r.RENDERBUFFER,this.stencil);r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t)}};i.prototype.destroy=function(){var e=this.gl;if(this.texture){this.texture.destroy()}e.deleteFramebuffer(this.framebuffer);this.gl=null;this.stencil=null;this.texture=null};i.createRGBA=function(e,t,r,a){var o=n.fromData(e,null,t,r);o.enableNearestScaling();o.enableWrapClamp();var s=new i(e,t,r);s.enableTexture(o);s.unbind();return s};i.createFloat32=function(e,t,r,a){var o=new n.fromData(e,a,t,r);o.enableNearestScaling();o.enableWrapClamp();var s=new i(e,t,r);s.enableTexture(o);s.unbind();return s};e.exports=i},function(e,t,r){var n=r(55),i=r(56),a=r(58),o=r(60),s=r(61);var u=function(e,t,r,u,l){this.gl=e;if(u){t=o(t,u);r=o(r,u)}this.program=n(e,t,r,l);this.attributes=i(e,this.program);this.uniformData=a(e,this.program);this.uniforms=s(e,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program)};u.prototype.destroy=function(){this.attributes=null;this.uniformData=null;this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)};e.exports=u},function(e,t,r){var n=r(53);function i(e,t){this.nativeVaoExtension=null;if(!i.FORCE_NATIVE){this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}this.nativeState=t;if(this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=e;this.attributes=[];this.indexBuffer=null;this.dirty=false}i.prototype.constructor=i;e.exports=i;i.FORCE_NATIVE=false;i.prototype.bind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);if(this.dirty){this.dirty=false;this.activate()}}else{this.activate()}return this};i.prototype.unbind=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(null)}return this};i.prototype.activate=function(){var e=this.gl;var t=null;for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r];if(t!==i.buffer){i.buffer.bind();t=i.buffer}e.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||e.FLOAT,i.normalized||false,i.stride||0,i.start||0)}n(e,this.attributes,this.nativeState);if(this.indexBuffer){this.indexBuffer.bind()}return this};i.prototype.addAttribute=function(e,t,r,n,i,a){this.attributes.push({buffer:e,attribute:t,location:t.location,type:r||this.gl.FLOAT,normalized:n||false,stride:i||0,start:a||0});this.dirty=true;return this};i.prototype.addIndex=function(e){this.indexBuffer=e;this.dirty=true;return this};i.prototype.clear=function(){if(this.nativeVao){this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao)}this.attributes.length=0;this.indexBuffer=null;return this};i.prototype.draw=function(e,t,r){var n=this.gl;if(this.indexBuffer){n.drawElements(e,t||this.indexBuffer.data.length,n.UNSIGNED_SHORT,(r||0)*2)}else{n.drawArrays(e,r,t||this.getSize())}return this};i.prototype.destroy=function(){this.gl=null;this.indexBuffer=null;this.attributes=null;this.nativeState=null;if(this.nativeVao){this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao)}this.nativeVaoExtension=null;this.nativeVao=null};i.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,r){e.exports={compileProgram:r(55),defaultValue:r(59),extractAttributes:r(56),extractUniforms:r(58),generateUniformAccessObject:r(61),setPrecision:r(60),mapSize:r(57),mapType:r(36)}},function(e,t,r){"use strict";t.__esModule=true;t.default=o;var n=r(38);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(i.default.tablet||i.default.phone){return 4}return e}},function(e,t,r){"use strict";t.__esModule=true;t.default=n;function n(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}},function(e,t,r){"use strict";t.__esModule=true;function n(e){e.__plugins={};e.registerPlugin=function t(r,n){e.__plugins[r]=n};e.prototype.initPlugins=function t(){this.plugins=this.plugins||{};for(var r in e.__plugins){this.plugins[r]=new e.__plugins[r](this)}};e.prototype.destroyPlugins=function e(){for(var t in this.plugins){this.plugins[t].destroy();this.plugins[t]=null}this.plugins=null}}t.default={mixin:function e(t){n(t)}}},function(e,t,r){"use strict";t.__esModule=true;t.mixin=n;t.delayMixin=a;t.performMixins=o;function n(e,t){if(!e||!t)return;var r=Object.keys(t);for(var n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}}var i=[];function a(e,t){i.push(e,t)}function o(){for(var e=0;e<i.length;e+=2){n(i[e],i[e+1])}i.length=0}},function(e,t,r){"use strict";e.exports=function e(t,r,n){var i,a=t.length;if(r>=a||n===0){return}n=r+n>a?a-r:n;var o=a-n;for(i=r;i<o;++i){t[i]=t[i+n]}t.length=o}},function(e,t,r){"use strict";t.__esModule=true;t.default=i;var n=r(1);function i(){var e=[];var t=[];for(var r=0;r<32;r++){e[r]=r;t[r]=r}e[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL;e[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD;e[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN;t[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM;t[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM;t[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var i=[];i.push(t);i.push(e);return i}},function(e,t,r){"use strict";t.__esModule=true;t.default=s;var n=r(65);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=void 0;function s(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location;if(e.indexOf("data:")===0){return""}t=t||window.location;if(!o){o=document.createElement("a")}o.href=e;e=i.default.parse(o.href);var r=!e.port&&t.port===""||e.port===t.port;if(e.hostname!==t.hostname||!r||e.protocol!==t.protocol){return"anonymous"}return""}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(3);var a=l(i);var o=r(1);var s=r(130);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function e(){var t=this;f(this,e);this._head=new u.default(null,null,Infinity);this._requestId=null;this._maxElapsedMS=100;this.autoStart=false;this.deltaTime=1;this.elapsedMS=1/a.default.TARGET_FPMS;this.lastTime=0;this.speed=1;this.started=false;this._tick=function(e){t._requestId=null;if(t.started){t.update(e);if(t.started&&t._requestId===null&&t._head.next){t._requestId=requestAnimationFrame(t._tick)}}}}e.prototype._requestIfNeeded=function e(){if(this._requestId===null&&this._head.next){this.lastTime=performance.now();this._requestId=requestAnimationFrame(this._tick)}};e.prototype._cancelIfNeeded=function e(){if(this._requestId!==null){cancelAnimationFrame(this._requestId);this._requestId=null}};e.prototype._startIfPossible=function e(){if(this.started){this._requestIfNeeded()}else if(this.autoStart){this.start()}};e.prototype.add=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(t,r,n))};e.prototype.addOnce=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(t,r,n,true))};e.prototype._addListener=function e(t){var r=this._head.next;var n=this._head;if(!r){t.connect(n)}else{while(r){if(t.priority>r.priority){t.connect(n);break}n=r;r=r.next}if(!t.previous){t.connect(n)}}this._startIfPossible();return this};e.prototype.remove=function e(t,r){var n=this._head.next;while(n){if(n.match(t,r)){n=n.destroy()}else{n=n.next}}if(!this._head.next){this._cancelIfNeeded()}return this};e.prototype.start=function e(){if(!this.started){this.started=true;this._requestIfNeeded()}};e.prototype.stop=function e(){if(this.started){this.started=false;this._cancelIfNeeded()}};e.prototype.destroy=function e(){this.stop();var t=this._head.next;while(t){t=t.destroy(true)}this._head.destroy();this._head=null};e.prototype.update=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:performance.now();var r=void 0;if(t>this.lastTime){r=this.elapsedMS=t-this.lastTime;if(r>this._maxElapsedMS){r=this._maxElapsedMS}this.deltaTime=r*a.default.TARGET_FPMS*this.speed;var n=this._head;var i=n.next;while(i){i=i.emit(this.deltaTime)}if(!n.next){this._cancelIfNeeded()}}else{this.deltaTime=this.elapsedMS=0}this.lastTime=t};n(e,[{key:"FPS",get:function e(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function e(){return 1e3/this._maxElapsedMS},set:function e(t){var r=Math.min(Math.max(0,t)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/r}}]);return e}();t.default=h},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;n(this,e);this.fn=t;this.context=r;this.priority=i;this.once=a;this.next=null;this.previous=null;this._destroyed=false}e.prototype.match=function e(t,r){r=r||null;return this.fn===t&&this.context===r};e.prototype.emit=function e(t){if(this.fn){if(this.context){this.fn.call(this.context,t)}else{this.fn(t)}}var r=this.next;if(this.once){this.destroy(true)}if(this._destroyed){this.next=null}return r};e.prototype.connect=function e(t){this.previous=t;if(t.next){t.next.previous=this}this.next=t.next;t.next=this};e.prototype.destroy=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._destroyed=true;this.fn=null;this.context=null;if(this.previous){this.previous.next=this.next}if(this.next){this.next.previous=this.previous}var r=this.previous;this.next=t?null:r;this.previous=null;return r};return e}();t.default=i},function(e,t,r){"use strict";t.__esModule=true;var n=r(19);var i=l(n);var a=r(1);var o=r(4);var s=r(44);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var h=new o.Matrix;var c=function(){function e(t){f(this,e);this.renderer=t}e.prototype.render=function e(t){var r=t._texture;var n=this.renderer;var i=r._frame.width;var s=r._frame.height;var l=t.transform.worldTransform;var f=0;var c=0;if(r.orig.width<=0||r.orig.height<=0||!r.baseTexture.source){return}n.setBlendMode(t.blendMode);if(r.valid){n.context.globalAlpha=t.worldAlpha;var d=r.baseTexture.scaleMode===a.SCALE_MODES.LINEAR;if(n.smoothProperty&&n.context[n.smoothProperty]!==d){n.context[n.smoothProperty]=d}if(r.trim){f=r.trim.width/2+r.trim.x-t.anchor.x*r.orig.width;c=r.trim.height/2+r.trim.y-t.anchor.y*r.orig.height}else{f=(.5-t.anchor.x)*r.orig.width;c=(.5-t.anchor.y)*r.orig.height}if(r.rotate){l.copy(h);l=h;o.GroupD8.matrixAppendRotationInv(l,r.rotate,f,c);f=0;c=0}f-=i/2;c-=s/2;if(n.roundPixels){n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution|0,l.ty*n.resolution|0);f=f|0;c=c|0}else{n.context.setTransform(l.a,l.b,l.c,l.d,l.tx*n.resolution,l.ty*n.resolution)}var p=r.baseTexture.resolution;if(t.tint!==16777215){if(t.cachedTint!==t.tint||t.tintedTexture.tintId!==t._texture._updateID){t.cachedTint=t.tint;t.tintedTexture=u.default.getTintedTexture(t,t.tint)}n.context.drawImage(t.tintedTexture,0,0,i*p,s*p,f*n.resolution,c*n.resolution,i*n.resolution,s*n.resolution)}else{n.context.drawImage(r.baseTexture.source,r._frame.x*p,r._frame.y*p,i*p,s*p,f*n.resolution,c*n.resolution,i*n.resolution,s*n.resolution)}}};e.prototype.destroy=function e(){this.renderer=null};return e}();t.default=c;i.default.registerPlugin("sprite",c)},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function e(t){i(this,e);this.renderer=t}e.prototype.pushMask=function e(t){var r=this.renderer;r.context.save();var n=t.alpha;var i=t.transform.worldTransform;var a=r.resolution;r.context.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a,i.ty*a);if(!t._texture){this.renderGraphicsShape(t);r.context.clip()}t.worldAlpha=n};e.prototype.renderGraphicsShape=function e(t){var r=this.renderer.context;var i=t.graphicsData.length;if(i===0){return}r.beginPath();for(var a=0;a<i;a++){var o=t.graphicsData[a];var s=o.shape;if(o.type===n.SHAPES.POLY){var u=s.points;r.moveTo(u[0],u[1]);for(var l=1;l<u.length/2;l++){r.lineTo(u[l*2],u[l*2+1])}if(u[0]===u[u.length-2]&&u[1]===u[u.length-1]){r.closePath()}}else if(o.type===n.SHAPES.RECT){r.rect(s.x,s.y,s.width,s.height);r.closePath()}else if(o.type===n.SHAPES.CIRC){r.arc(s.x,s.y,s.radius,0,2*Math.PI);r.closePath()}else if(o.type===n.SHAPES.ELIP){var f=s.width*2;var h=s.height*2;var c=s.x-f/2;var d=s.y-h/2;var p=.5522848;var v=f/2*p;var y=h/2*p;var g=c+f;var _=d+h;var m=c+f/2;var b=d+h/2;r.moveTo(c,b);r.bezierCurveTo(c,b-y,m-v,d,m,d);r.bezierCurveTo(m+v,d,g,b-y,g,b);r.bezierCurveTo(g,b+y,m+v,_,m,_);r.bezierCurveTo(m-v,_,c,b+y,c,b);r.closePath()}else if(o.type===n.SHAPES.RREC){var x=s.x;var T=s.y;var w=s.width;var E=s.height;var O=s.radius;var S=Math.min(w,E)/2|0;O=O>S?S:O;r.moveTo(x,T+O);r.lineTo(x,T+E-O);r.quadraticCurveTo(x,T+E,x+O,T+E);r.lineTo(x+w-O,T+E);r.quadraticCurveTo(x+w,T+E,x+w,T+E-O);r.lineTo(x+w,T+O);r.quadraticCurveTo(x+w,T,x+w-O,T);r.lineTo(x+O,T);r.quadraticCurveTo(x,T,x,T+O);r.closePath()}}};e.prototype.popMask=function e(t){t.context.restore()};e.prototype.destroy=function e(){};return e}();t.default=a},function(e,t,r){"use strict";t.__esModule=true;t.default=s;var n=r(1);var i=r(71);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if((0,a.default)()){e[n.BLEND_MODES.NORMAL]="source-over";e[n.BLEND_MODES.ADD]="lighter";e[n.BLEND_MODES.MULTIPLY]="multiply";e[n.BLEND_MODES.SCREEN]="screen";e[n.BLEND_MODES.OVERLAY]="overlay";e[n.BLEND_MODES.DARKEN]="darken";e[n.BLEND_MODES.LIGHTEN]="lighten";e[n.BLEND_MODES.COLOR_DODGE]="color-dodge";e[n.BLEND_MODES.COLOR_BURN]="color-burn";e[n.BLEND_MODES.HARD_LIGHT]="hard-light";e[n.BLEND_MODES.SOFT_LIGHT]="soft-light";e[n.BLEND_MODES.DIFFERENCE]="difference";e[n.BLEND_MODES.EXCLUSION]="exclusion";e[n.BLEND_MODES.HUE]="hue";e[n.BLEND_MODES.SATURATION]="saturate";e[n.BLEND_MODES.COLOR]="color";e[n.BLEND_MODES.LUMINOSITY]="luminosity"}else{e[n.BLEND_MODES.NORMAL]="source-over";e[n.BLEND_MODES.ADD]="lighter";e[n.BLEND_MODES.MULTIPLY]="source-over";e[n.BLEND_MODES.SCREEN]="source-over";e[n.BLEND_MODES.OVERLAY]="source-over";e[n.BLEND_MODES.DARKEN]="source-over";e[n.BLEND_MODES.LIGHTEN]="source-over";e[n.BLEND_MODES.COLOR_DODGE]="source-over";e[n.BLEND_MODES.COLOR_BURN]="source-over";e[n.BLEND_MODES.HARD_LIGHT]="source-over";e[n.BLEND_MODES.SOFT_LIGHT]="source-over";e[n.BLEND_MODES.DIFFERENCE]="source-over";e[n.BLEND_MODES.EXCLUSION]="source-over";e[n.BLEND_MODES.HUE]="source-over";e[n.BLEND_MODES.SATURATION]="source-over";e[n.BLEND_MODES.COLOR]="source-over";e[n.BLEND_MODES.LUMINOSITY]="source-over"}e[n.BLEND_MODES.NORMAL_NPM]=e[n.BLEND_MODES.NORMAL];e[n.BLEND_MODES.ADD_NPM]=e[n.BLEND_MODES.ADD];e[n.BLEND_MODES.SCREEN_NPM]=e[n.BLEND_MODES.SCREEN];return e}},function(e,t,r){"use strict";t.__esModule=true;var n=r(24);var i=T(n);var a=r(25);var o=T(a);var s=r(45);var u=T(s);var l=r(146);var f=T(l);var h=r(147);var c=T(h);var d=r(148);var p=T(d);var v=r(3);var y=T(v);var g=r(2);var _=r(5);var m=T(_);var b=r(41);var x=T(b);function T(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var S=0;var P=0;var M=function(e){O(t,e);function t(r){w(this,t);var n=E(this,e.call(this,r));n.vertSize=5;n.vertByteSize=n.vertSize*4;n.size=y.default.SPRITE_BATCH_SIZE;n.buffers=[];for(var i=1;i<=x.default.nextPow2(n.size);i*=2){n.buffers.push(new p.default(i*4*n.vertByteSize))}n.indices=(0,u.default)(n.size);n.shader=null;n.currentIndex=0;n.groups=[];for(var a=0;a<n.size;a++){n.groups[a]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0}}n.sprites=[];n.vertexBuffers=[];n.vaos=[];n.vaoMax=2;n.vertexCount=0;n.renderer.on("prerender",n.onPrerender,n);return n}t.prototype.onContextChange=function e(){var t=this.renderer.gl;if(this.renderer.legacy){this.MAX_TEXTURES=1}else{this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),y.default.SPRITE_MAX_TEXTURES);this.MAX_TEXTURES=(0,c.default)(this.MAX_TEXTURES,t)}this.shader=(0,f.default)(t,this.MAX_TEXTURES);this.indexBuffer=m.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);this.renderer.bindVao(null);var r=this.shader.attributes;for(var n=0;n<this.vaoMax;n++){var i=this.vertexBuffers[n]=m.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW);var a=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,r.aVertexPosition,t.FLOAT,false,this.vertByteSize,0).addAttribute(i,r.aTextureCoord,t.UNSIGNED_SHORT,true,this.vertByteSize,2*4).addAttribute(i,r.aColor,t.UNSIGNED_BYTE,true,this.vertByteSize,3*4);if(r.aTextureId){a.addAttribute(i,r.aTextureId,t.FLOAT,false,this.vertByteSize,4*4)}this.vaos[n]=a}this.vao=this.vaos[0];this.currentBlendMode=99999;this.boundTextures=new Array(this.MAX_TEXTURES)};t.prototype.onPrerender=function e(){this.vertexCount=0};t.prototype.render=function e(t){if(this.currentIndex>=this.size){this.flush()}if(!t._texture._uvs){return}this.sprites[this.currentIndex++]=t};t.prototype.flush=function e(){if(this.currentIndex===0){return}var t=this.renderer.gl;var r=this.MAX_TEXTURES;var n=x.default.nextPow2(this.currentIndex);var i=x.default.log2(n);var a=this.buffers[i];var o=this.sprites;var s=this.groups;var u=a.float32View;var l=a.uint32View;var f=this.boundTextures;var h=this.renderer.boundTextures;var c=this.renderer.textureGC.count;var d=0;var p=void 0;var v=void 0;var _=1;var b=0;var T=s[0];var w=void 0;var E=void 0;var O=g.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0;T.start=0;T.blend=O;S++;var M=void 0;for(M=0;M<r;++M){f[M]=h[M];f[M]._virtalBoundId=M}for(M=0;M<this.currentIndex;++M){var C=o[M];p=C._texture.baseTexture;var R=g.premultiplyBlendMode[Number(p.premultipliedAlpha)][C.blendMode];if(O!==R){O=R;v=null;b=r;S++}if(v!==p){v=p;if(p._enabled!==S){if(b===r){S++;T.size=M-T.start;b=0;T=s[_++];T.blend=O;T.textureCount=0;T.start=M}p.touched=c;if(p._virtalBoundId===-1){for(var A=0;A<r;++A){var I=(A+P)%r;var D=f[I];if(D._enabled!==S){P++;D._virtalBoundId=-1;p._virtalBoundId=I;f[I]=p;break}}}p._enabled=S;T.textureCount++;T.ids[b]=p._virtalBoundId;T.textures[b++]=p}}w=C.vertexData;E=C._texture._uvs.uvsUint32;if(this.renderer.roundPixels){var L=this.renderer.resolution;u[d]=(w[0]*L|0)/L;u[d+1]=(w[1]*L|0)/L;u[d+5]=(w[2]*L|0)/L;u[d+6]=(w[3]*L|0)/L;u[d+10]=(w[4]*L|0)/L;u[d+11]=(w[5]*L|0)/L;u[d+15]=(w[6]*L|0)/L;u[d+16]=(w[7]*L|0)/L}else{u[d]=w[0];u[d+1]=w[1];u[d+5]=w[2];u[d+6]=w[3];u[d+10]=w[4];u[d+11]=w[5];u[d+15]=w[6];u[d+16]=w[7]}l[d+2]=E[0];l[d+7]=E[1];l[d+12]=E[2];l[d+17]=E[3];var j=Math.min(C.worldAlpha,1);var k=j<1&&p.premultipliedAlpha?(0,g.premultiplyTint)(C._tintRGB,j):C._tintRGB+(j*255<<24);l[d+3]=l[d+8]=l[d+13]=l[d+18]=k;u[d+4]=u[d+9]=u[d+14]=u[d+19]=p._virtalBoundId;d+=20}T.size=M-T.start;if(!y.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var N=this.shader.attributes;var F=this.vertexBuffers[this.vertexCount]=m.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW);var B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,N.aVertexPosition,t.FLOAT,false,this.vertByteSize,0).addAttribute(F,N.aTextureCoord,t.UNSIGNED_SHORT,true,this.vertByteSize,2*4).addAttribute(F,N.aColor,t.UNSIGNED_BYTE,true,this.vertByteSize,3*4);if(N.aTextureId){B.addAttribute(F,N.aTextureId,t.FLOAT,false,this.vertByteSize,4*4)}this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].upload(a.vertices,0,false);this.vertexCount++}else{this.vertexBuffers[this.vertexCount].upload(a.vertices,0,true)}for(M=0;M<r;++M){h[M]._virtalBoundId=-1}for(M=0;M<_;++M){var U=s[M];var X=U.textureCount;for(var W=0;W<X;W++){v=U.textures[W];if(h[U.ids[W]]!==v){this.renderer.bindTexture(v,U.ids[W],true)}v._virtalBoundId=-1}this.renderer.state.setBlendMode(U.blend);t.drawElements(t.TRIANGLES,U.size*6,t.UNSIGNED_SHORT,U.start*6*2)}this.currentIndex=0};t.prototype.start=function e(){this.renderer.bindShader(this.shader);if(y.default.CAN_UPLOAD_SAME_BUFFER){this.renderer.bindVao(this.vaos[this.vertexCount]);this.vertexBuffers[this.vertexCount].bind()}};t.prototype.stop=function e(){this.flush()};t.prototype.destroy=function t(){for(var r=0;r<this.vaoMax;r++){if(this.vertexBuffers[r]){this.vertexBuffers[r].destroy()}if(this.vaos[r]){this.vaos[r].destroy()}}if(this.indexBuffer){this.indexBuffer.destroy()}this.renderer.off("prerender",this.onPrerender,this);e.prototype.destroy.call(this);if(this.shader){this.shader.destroy();this.shader=null}this.vertexBuffers=null;this.vaos=null;this.indexBuffer=null;this.indices=null;this.sprites=null;for(var n=0;n<this.buffers.length;++n){this.buffers[n].destroy()}};return t}(i.default);t.default=M;o.default.registerPlugin("sprite",M)},function(e,t,r){"use strict";t.__esModule=true;var n=r(20);var i=s(n);var a=r(72);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(r){u(this,t);var n=l(this,e.call(this,r));n.scissor=false;n.scissorData=null;n.scissorRenderTarget=null;n.enableScissor=true;n.alphaMaskPool=[];n.alphaMaskIndex=0;return n}t.prototype.pushMask=function e(t,r){if(r.texture){this.pushSpriteMask(t,r)}else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&r.isFastRect()){var n=r.worldTransform;var i=Math.atan2(n.b,n.a);i=Math.round(i*(180/Math.PI));if(i%90){this.pushStencilMask(r)}else{this.pushScissorMask(t,r)}}else{this.pushStencilMask(r)}};t.prototype.popMask=function e(t,r){if(r.texture){this.popSpriteMask(t,r)}else if(this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length){this.popScissorMask(t,r)}else{this.popStencilMask(t,r)}};t.prototype.pushSpriteMask=function e(t,r){var n=this.alphaMaskPool[this.alphaMaskIndex];if(!n){n=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(r)]}n[0].resolution=this.renderer.resolution;n[0].maskSprite=r;t.filterArea=r.getBounds(true);this.renderer.filterManager.pushFilter(t,n);this.alphaMaskIndex++};t.prototype.popSpriteMask=function e(){this.renderer.filterManager.popFilter();this.alphaMaskIndex--};t.prototype.pushStencilMask=function e(t){this.renderer.currentRenderer.stop();this.renderer.stencilManager.pushStencil(t)};t.prototype.popStencilMask=function e(){this.renderer.currentRenderer.stop();this.renderer.stencilManager.popStencil()};t.prototype.pushScissorMask=function e(t,r){r.renderable=true;var n=this.renderer._activeRenderTarget;var i=r.getBounds();i.fit(n.size);r.renderable=false;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var a=this.renderer.resolution;this.renderer.gl.scissor(i.x*a,(n.root?n.size.height-i.y-i.height:i.y)*a,i.width*a,i.height*a);this.scissorRenderTarget=n;this.scissorData=r;this.scissor=true};t.prototype.popScissorMask=function e(){this.scissorRenderTarget=null;this.scissorData=null;this.scissor=false;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)};return t}(i.default);t.default=h},function(e,t,r){"use strict";t.__esModule=true;t.default=s;var n=r(5);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=i.default.shader.defaultValue;function s(e,t,r){var n=u(e,r);var i=u(t,r);return Object.assign(n,i)}function u(e){var t=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$");var r={};var n=void 0;var i=e.replace(/\s+/g," ").split(/\s*;\s*/);for(var a=0;a<i.length;a++){var s=i[a].trim();if(s.indexOf("uniform")>-1){var u=s.split(" ");var l=u[1];var f=u[2];var h=1;if(f.indexOf("[")>-1){n=f.split(/\[|]/);f=n[0];h*=Number(n[1])}if(!f.match(t)){r[f]={value:o(l,h),name:f,type:l}}}}return r}},function(e,t,r){"use strict";t.__esModule=true;var n=r(20);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(r){o(this,t);var n=s(this,e.call(this,r));n.stencilMaskStack=null;return n}t.prototype.setMaskStack=function e(t){this.stencilMaskStack=t;var r=this.renderer.gl;if(t.length===0){r.disable(r.STENCIL_TEST)}else{r.enable(r.STENCIL_TEST)}};t.prototype.pushStencil=function e(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);this.renderer._activeRenderTarget.attachStencilBuffer();var r=this.renderer.gl;var n=this.stencilMaskStack;if(n.length===0){r.enable(r.STENCIL_TEST);r.clear(r.STENCIL_BUFFER_BIT);r.stencilFunc(r.ALWAYS,1,1)}n.push(t);r.colorMask(false,false,false,false);r.stencilFunc(r.EQUAL,0,n.length);r.stencilOp(r.KEEP,r.KEEP,r.INCR);this.renderer.plugins.graphics.render(t);r.colorMask(true,true,true,true);r.stencilFunc(r.NOTEQUAL,0,n.length);r.stencilOp(r.KEEP,r.KEEP,r.KEEP)};t.prototype.popStencil=function e(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl;var r=this.stencilMaskStack;var n=r.pop();if(r.length===0){t.disable(t.STENCIL_TEST)}else{t.colorMask(false,false,false,false);t.stencilFunc(t.EQUAL,0,r.length);t.stencilOp(t.KEEP,t.KEEP,t.DECR);this.renderer.plugins.graphics.render(n);t.colorMask(true,true,true,true);t.stencilFunc(t.NOTEQUAL,0,r.length);t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}};t.prototype.destroy=function e(){i.default.prototype.destroy.call(this);this.stencilMaskStack.stencilStack=null};return t}(i.default);t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(20);var i=g(n);var a=r(26);var o=g(a);var s=r(74);var u=g(s);var l=r(4);var f=r(21);var h=g(f);var c=r(139);var d=y(c);var p=r(41);var v=g(p);function y(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var x=function e(){b(this,e);this.renderTarget=null;this.sourceFrame=new l.Rectangle;this.destinationFrame=new l.Rectangle;this.filters=[];this.target=null;this.resolution=1};var T=function(e){m(t,e);function t(r){b(this,t);var n=_(this,e.call(this,r));n.gl=n.renderer.gl;n.quad=new u.default(n.gl,r.state.attribState);n.shaderCache={};n.pool={};n.filterData=null;return n}t.prototype.pushFilter=function e(t,r){var n=this.renderer;var i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var a=new x;a.sourceFrame=a.destinationFrame=this.renderer._activeRenderTarget.size;a.renderTarget=n._activeRenderTarget;this.renderer._activeRenderTarget.filterData=i={index:0,stack:[a]};this.filterData=i}var o=i.stack[++i.index];if(!o){o=i.stack[i.index]=new x}var s=r[0].resolution;var u=r[0].padding|0;var l=t.filterArea||t.getBounds(true);var f=o.sourceFrame;var h=o.destinationFrame;f.x=(l.x*s|0)/s;f.y=(l.y*s|0)/s;f.width=(l.width*s|0)/s;f.height=(l.height*s|0)/s;if(i.stack[0].renderTarget.transform){}else if(r[0].autoFit){f.fit(i.stack[0].destinationFrame)}f.pad(u);h.width=f.width;h.height=f.height;var c=this.getPotRenderTarget(n.gl,f.width,f.height,s);o.target=t;o.filters=r;o.resolution=s;o.renderTarget=c;c.setFrame(h,f);n.bindRenderTarget(c);c.clear()};t.prototype.popFilter=function e(){var t=this.filterData;var r=t.stack[t.index-1];var n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var i=n.filters;if(i.length===1){i[0].apply(this,n.renderTarget,r.renderTarget,false,n);this.freePotRenderTarget(n.renderTarget)}else{var a=n.renderTarget;var o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame);o.clear();var s=0;for(s=0;s<i.length-1;++s){i[s].apply(this,a,o,true,n);var u=a;a=o;o=u}i[s].apply(this,a,r.renderTarget,false,n);this.freePotRenderTarget(a);this.freePotRenderTarget(o)}t.index--;if(t.index===0){this.filterData=null}};t.prototype.applyFilter=function e(t,r,n,i){var a=this.renderer;var o=a.gl;var s=t.glShaders[a.CONTEXT_UID];if(!s){if(t.glShaderKey){s=this.shaderCache[t.glShaderKey];if(!s){s=new h.default(this.gl,t.vertexSrc,t.fragmentSrc);t.glShaders[a.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s}}else{s=t.glShaders[a.CONTEXT_UID]=new h.default(this.gl,t.vertexSrc,t.fragmentSrc)}a.bindVao(null);this.quad.initVao(s)}a.bindVao(this.quad.vao);a.bindRenderTarget(n);if(i){o.disable(o.SCISSOR_TEST);a.clear();o.enable(o.SCISSOR_TEST)}if(n===a.maskManager.scissorRenderTarget){a.maskManager.pushScissorMask(null,a.maskManager.scissorData)}a.bindShader(s);var u=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=u;this.syncUniforms(s,t);a.state.setBlendMode(t.blendMode);o.activeTexture(o.TEXTURE0);o.bindTexture(o.TEXTURE_2D,r.texture.texture);this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0);o.bindTexture(o.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)};t.prototype.syncUniforms=function e(t,r){var n=r.uniformData;var i=r.uniforms;var a=1;var o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width;s[1]=o.renderTarget.size.height;s[2]=o.sourceFrame.x;s[3]=o.sourceFrame.y;t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var u=t.uniforms.filterClamp;u[0]=0;u[1]=0;u[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width;u[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height;t.uniforms.filterClamp=u}for(var l in n){if(n[l].type==="sampler2D"&&i[l]!==0){if(i[l].baseTexture){t.uniforms[l]=this.renderer.bindTexture(i[l].baseTexture,a)}else{t.uniforms[l]=a;var f=this.renderer.gl;this.renderer.boundTextures[a]=this.renderer.emptyTextures[a];f.activeTexture(f.TEXTURE0+a);i[l].texture.bind()}a++}else if(n[l].type==="mat3"){if(i[l].a!==undefined){t.uniforms[l]=i[l].toArray(true)}else{t.uniforms[l]=i[l]}}else if(n[l].type==="vec2"){if(i[l].x!==undefined){var h=t.uniforms[l]||new Float32Array(2);h[0]=i[l].x;h[1]=i[l].y;t.uniforms[l]=h}else{t.uniforms[l]=i[l]}}else if(n[l].type==="float"){if(t.uniforms.data[l].value!==n[l]){t.uniforms[l]=i[l]}}else{t.uniforms[l]=i[l]}}};t.prototype.getRenderTarget=function e(t,r){var n=this.filterData.stack[this.filterData.index];var i=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,r||n.resolution);i.setFrame(n.destinationFrame,n.sourceFrame);return i};t.prototype.returnRenderTarget=function e(t){this.freePotRenderTarget(t)};t.prototype.calculateScreenSpaceMatrix=function e(t){var r=this.filterData.stack[this.filterData.index];return d.calculateScreenSpaceMatrix(t,r.sourceFrame,r.renderTarget.size)};t.prototype.calculateNormalizedScreenSpaceMatrix=function e(t){var r=this.filterData.stack[this.filterData.index];return d.calculateNormalizedScreenSpaceMatrix(t,r.sourceFrame,r.renderTarget.size,r.destinationFrame)};t.prototype.calculateSpriteMatrix=function e(t,r){var n=this.filterData.stack[this.filterData.index];return d.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,r)};t.prototype.destroy=function e(){this.shaderCache={};this.emptyPool()};t.prototype.getPotRenderTarget=function e(t,r,n,i){r=v.default.nextPow2(r*i);n=v.default.nextPow2(n*i);var a=(r&65535)<<16|n&65535;if(!this.pool[a]){this.pool[a]=[]}var s=this.pool[a].pop();if(!s){var u=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0);s=new o.default(t,r,n,null,1);t.bindTexture(t.TEXTURE_2D,u._glTextures[this.renderer.CONTEXT_UID].texture)}s.resolution=i;s.defaultFrame.width=s.size.width=r/i;s.defaultFrame.height=s.size.height=n/i;return s};t.prototype.emptyPool=function e(){for(var t in this.pool){var r=this.pool[t];if(r){for(var n=0;n<r.length;n++){r[n].destroy(true)}}}this.pool={}};t.prototype.freePotRenderTarget=function e(t){var r=t.size.width*t.resolution;var n=t.size.height*t.resolution;var i=(r&65535)<<16|n&65535;this.pool[i].push(t)};return t}(i.default);t.default=T},function(e,t,r){"use strict";t.__esModule=true;t.calculateScreenSpaceMatrix=i;t.calculateNormalizedScreenSpaceMatrix=a;t.calculateSpriteMatrix=o;var n=r(4);function i(e,t,r){var n=e.identity();n.translate(t.x/r.width,t.y/r.height);n.scale(r.width,r.height);return n}function a(e,t,r){var n=e.identity();n.translate(t.x/r.width,t.y/r.height);var i=r.width/t.width;var a=r.height/t.height;n.scale(i,a);return n}function o(e,t,r,i){var a=i.worldTransform.copy(n.Matrix.TEMP_MATRIX);var o=i._texture.baseTexture;var s=e.identity();var u=r.height/r.width;s.translate(t.x/r.width,t.y/r.height);s.scale(1,u);var l=r.width/o.width;var f=r.height/o.height;a.tx/=o.width*l;a.ty/=o.width*l;a.invert();s.prepend(a);s.scale(1,1/u);s.scale(l,f);s.translate(i.anchor.x,i.anchor.y);return s}},function(e,t,r){"use strict";t.__esModule=true;var n=r(5);var i=r(1);var a=r(26);var o=u(a);var s=r(2);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(t){l(this,e);this.renderer=t;this.gl=t.gl;this._managedTextures=[]}e.prototype.bindTexture=function e(){};e.prototype.getTexture=function e(){};e.prototype.updateTexture=function e(t,r){var a=this.gl;var s=!!t._glRenderTargets;if(!t.hasLoaded){return null}var u=this.renderer.boundTextures;if(r===undefined){r=0;for(var l=0;l<u.length;++l){if(u[l]===t){r=l;break}}}u[r]=t;a.activeTexture(a.TEXTURE0+r);var f=t._glTextures[this.renderer.CONTEXT_UID];if(!f){if(s){var h=new o.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height);t._glRenderTargets[this.renderer.CONTEXT_UID]=h;f=h.texture}else{f=new n.GLTexture(this.gl,null,null,null,null);f.bind(r);f.premultiplyAlpha=true;f.upload(t.source)}t._glTextures[this.renderer.CONTEXT_UID]=f;t.on("update",this.updateTexture,this);t.on("dispose",this.destroyTexture,this);this._managedTextures.push(t);if(t.isPowerOfTwo){if(t.mipmap){f.enableMipmap()}if(t.wrapMode===i.WRAP_MODES.CLAMP){f.enableWrapClamp()}else if(t.wrapMode===i.WRAP_MODES.REPEAT){f.enableWrapRepeat()}else{f.enableWrapMirrorRepeat()}}else{f.enableWrapClamp()}if(t.scaleMode===i.SCALE_MODES.NEAREST){f.enableNearestScaling()}else{f.enableLinearScaling()}}else if(s){t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height)}else{f.upload(t.source)}return f};e.prototype.destroyTexture=function e(t,r){t=t.baseTexture||t;if(!t.hasLoaded){return}var n=this.renderer.CONTEXT_UID;var i=t._glTextures;var a=t._glRenderTargets;if(i[n]){this.renderer.unbindTexture(t);i[n].destroy();t.off("update",this.updateTexture,this);t.off("dispose",this.destroyTexture,this);delete i[n];if(!r){var o=this._managedTextures.indexOf(t);if(o!==-1){(0,s.removeItems)(this._managedTextures,o,1)}}}if(a&&a[n]){a[n].destroy();delete a[n]}};e.prototype.removeAll=function e(){for(var t=0;t<this._managedTextures.length;++t){var r=this._managedTextures[t];if(r._glTextures[this.renderer.CONTEXT_UID]){delete r._glTextures[this.renderer.CONTEXT_UID]}}};e.prototype.destroy=function e(){for(var t=0;t<this._managedTextures.length;++t){var r=this._managedTextures[t];this.destroyTexture(r,true);r.off("update",this.updateTexture,this);r.off("dispose",this.destroyTexture,this)}this._managedTextures=null};return e}();t.default=f},function(e,t,r){"use strict";t.__esModule=true;var n=r(1);var i=r(3);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t){s(this,e);this.renderer=t;this.count=0;this.checkCount=0;this.maxIdle=a.default.GC_MAX_IDLE;this.checkCountMax=a.default.GC_MAX_CHECK_COUNT;this.mode=a.default.GC_MODE}e.prototype.update=function e(){this.count++;if(this.mode===n.GC_MODES.MANUAL){return}this.checkCount++;if(this.checkCount>this.checkCountMax){this.checkCount=0;this.run()}};e.prototype.run=function e(){var t=this.renderer.textureManager;var r=t._managedTextures;var n=false;for(var i=0;i<r.length;i++){var a=r[i];if(!a._glRenderTargets&&this.count-a.touched>this.maxIdle){t.destroyTexture(a,true);r[i]=null;n=true}}if(n){var o=0;for(var s=0;s<r.length;s++){if(r[s]!==null){r[o++]=r[s]}}r.length=o}};e.prototype.unload=function e(t){var r=this.renderer.textureManager;if(t._texture&&t._texture._glRenderTargets){r.destroyTexture(t._texture,true)}for(var n=t.children.length-1;n>=0;n--){this.unload(t.children[n])}};return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;var n=r(143);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=0;var u=1;var l=2;var f=3;var h=4;var c=function(){function e(t){o(this,e);this.activeState=new Uint8Array(16);this.defaultState=new Uint8Array(16);this.defaultState[0]=1;this.stackIndex=0;this.stack=[];this.gl=t;this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)};this.blendModes=(0,i.default)(t);this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}e.prototype.push=function e(){var t=this.stack[this.stackIndex];if(!t){t=this.stack[this.stackIndex]=new Uint8Array(16)}++this.stackIndex;for(var r=0;r<this.activeState.length;r++){t[r]=this.activeState[r]}};e.prototype.pop=function e(){var t=this.stack[--this.stackIndex];this.setState(t)};e.prototype.setState=function e(t){this.setBlend(t[s]);this.setDepthTest(t[u]);this.setFrontFace(t[l]);this.setCullFace(t[f]);this.setBlendMode(t[h])};e.prototype.setBlend=function e(t){t=t?1:0;if(this.activeState[s]===t){return}this.activeState[s]=t;this.gl[t?"enable":"disable"](this.gl.BLEND)};e.prototype.setBlendMode=function e(t){if(t===this.activeState[h]){return}this.activeState[h]=t;var r=this.blendModes[t];if(r.length===2){this.gl.blendFunc(r[0],r[1])}else{this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3])}};e.prototype.setDepthTest=function e(t){t=t?1:0;if(this.activeState[u]===t){return}this.activeState[u]=t;this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)};e.prototype.setCullFace=function e(t){t=t?1:0;if(this.activeState[f]===t){return}this.activeState[f]=t;this.gl[t?"enable":"disable"](this.gl.CULL_FACE)};e.prototype.setFrontFace=function e(t){t=t?1:0;if(this.activeState[l]===t){return}this.activeState[l]=t;this.gl.frontFace(this.gl[t?"CW":"CCW"])};e.prototype.resetAttributes=function e(){for(var t=0;t<this.attribState.tempAttribState.length;t++){this.attribState.tempAttribState[t]=0}for(var r=0;r<this.attribState.attribState.length;r++){this.attribState.attribState[r]=0}for(var n=1;n<this.maxAttribs;n++){this.gl.disableVertexAttribArray(n)}};e.prototype.resetToDefault=function e(){if(this.nativeVaoExtension){this.nativeVaoExtension.bindVertexArrayOES(null)}this.resetAttributes();for(var t=0;t<this.activeState.length;++t){this.activeState[t]=32}this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,false);this.setState(this.defaultState)};return e}();t.default=c},function(e,t,r){"use strict";t.__esModule=true;t.default=i;var n=r(1);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];t[n.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA];t[n.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR];t[n.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA];t[n.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.DST_ALPHA,e.ONE,e.DST_ALPHA];t[n.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_COLOR];return t}},function(e,t,r){"use strict";t.__esModule=true;t.default=i;var n=r(1);function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};t[n.DRAW_MODES.POINTS]=e.POINTS;t[n.DRAW_MODES.LINES]=e.LINES;t[n.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP;t[n.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP;t[n.DRAW_MODES.TRIANGLES]=e.TRIANGLES;t[n.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP;t[n.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN;return t}},function(e,t,r){"use strict";t.__esModule=true;t.default=n;function n(e){var t=e.getContextAttributes();if(!t.stencil){console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}}},function(e,t,r){"use strict";t.__esModule=true;t.default=u;var n=r(21);var i=o(n);var a=r(10);function o(e){return e&&e.__esModule?e:{default:e}}var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function u(e,t){var r="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n";var n=s;n=n.replace(/%count%/gi,t);n=n.replace(/%forloop%/gi,l(t));var a=new i.default(e,r,n);var o=[];for(var u=0;u<t;u++){o[u]=u}a.bind();a.uniforms.uSamplers=o;return a}function l(e){var t="";t+="\n";t+="\n";for(var r=0;r<e;r++){if(r>0){t+="\nelse "}if(r<e-1){t+="if(textureId == "+r+".0)"}t+="\n{";t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);";t+="\n}"}t+="\n";t+="\n";return t}},function(e,t,r){"use strict";t.__esModule=true;t.default=s;var n=r(5);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function s(e,t){var r=!t;if(e===0){throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`")}if(r){var n=document.createElement("canvas");n.width=1;n.height=1;t=i.default.createContext(n)}var a=t.createShader(t.FRAGMENT_SHADER);while(true){var s=o.replace(/%forloop%/gi,u(e));t.shaderSource(a,s);t.compileShader(a);if(!t.getShaderParameter(a,t.COMPILE_STATUS)){e=e/2|0}else{break}}if(r){if(t.getExtension("WEBGL_lose_context")){t.getExtension("WEBGL_lose_context").loseContext()}}return e}function u(e){var t="";for(var r=0;r<e;++r){if(r>0){t+="\nelse "}if(r<e-1){t+="if(test == "+r+".0){}"}}return t}},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t){n(this,e);this.vertices=new ArrayBuffer(t);this.float32View=new Float32Array(this.vertices);this.uint32View=new Uint32Array(this.vertices)}e.prototype.destroy=function e(){this.vertices=null;this.positions=null;this.uvs=null;this.colors=null};return e}();t.default=i},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(40);var a=m(i);var o=r(13);var s=m(o);var u=r(4);var l=r(2);var f=r(1);var h=r(3);var c=m(h);var d=r(75);var p=m(d);var v=r(76);var y=m(v);var g=r(150);var _=m(g);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function x(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function T(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w={texture:true,children:false,baseTexture:true};var E=function(e){T(t,e);function t(r,n,i){b(this,t);i=i||document.createElement("canvas");i.width=3;i.height=3;var a=s.default.fromCanvas(i,c.default.SCALE_MODE,"text");a.orig=new u.Rectangle;a.trim=new u.Rectangle;var o=x(this,e.call(this,a));s.default.addToCache(o._texture,o._texture.baseTexture.textureCacheIds[0]);o.canvas=i;o.context=o.canvas.getContext("2d");o.resolution=c.default.RESOLUTION;o._text=null;o._style=null;o._styleListener=null;o._font="";o.text=r;o.style=n;o.localStyleID=-1;return o}t.prototype.updateText=function e(t){var r=this._style;if(this.localStyleID!==r.styleID){this.dirty=true;this.localStyleID=r.styleID}if(!this.dirty&&t){return}this._font=this._style.toFontString();var n=this.context;var i=y.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas);var a=i.width;var o=i.height;var s=i.lines;var u=i.lineHeight;var l=i.lineWidths;var f=i.maxLineWidth;var h=i.fontProperties;this.canvas.width=Math.ceil((a+r.padding*2)*this.resolution);this.canvas.height=Math.ceil((o+r.padding*2)*this.resolution);n.scale(this.resolution,this.resolution);n.clearRect(0,0,this.canvas.width,this.canvas.height);n.font=this._font;n.strokeStyle=r.stroke;n.lineWidth=r.strokeThickness;n.textBaseline=r.textBaseline;n.lineJoin=r.lineJoin;n.miterLimit=r.miterLimit;var c=void 0;var d=void 0;if(r.dropShadow){n.fillStyle=r.dropShadowColor;n.globalAlpha=r.dropShadowAlpha;n.shadowBlur=r.dropShadowBlur;if(r.dropShadowBlur>0){n.shadowColor=r.dropShadowColor}var p=Math.cos(r.dropShadowAngle)*r.dropShadowDistance;var v=Math.sin(r.dropShadowAngle)*r.dropShadowDistance;for(var g=0;g<s.length;g++){c=r.strokeThickness/2;d=r.strokeThickness/2+g*u+h.ascent;if(r.align==="right"){c+=f-l[g]}else if(r.align==="center"){c+=(f-l[g])/2}if(r.fill){this.drawLetterSpacing(s[g],c+p+r.padding,d+v+r.padding);if(r.stroke&&r.strokeThickness){n.strokeStyle=r.dropShadowColor;this.drawLetterSpacing(s[g],c+p+r.padding,d+v+r.padding,true);n.strokeStyle=r.stroke}}}}n.shadowBlur=0;n.globalAlpha=1;n.fillStyle=this._generateFillStyle(r,s);for(var _=0;_<s.length;_++){c=r.strokeThickness/2;d=r.strokeThickness/2+_*u+h.ascent;if(r.align==="right"){c+=f-l[_]}else if(r.align==="center"){c+=(f-l[_])/2}if(r.stroke&&r.strokeThickness){this.drawLetterSpacing(s[_],c+r.padding,d+r.padding,true)}if(r.fill){this.drawLetterSpacing(s[_],c+r.padding,d+r.padding)}}this.updateTexture()};t.prototype.drawLetterSpacing=function e(t,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var a=this._style;var o=a.letterSpacing;if(o===0){if(i){this.context.strokeText(t,r,n)}else{this.context.fillText(t,r,n)}return}var s=String.prototype.split.call(t,"");var u=r;var l=0;var f="";while(l<t.length){f=s[l++];if(i){this.context.strokeText(f,u,n)}else{this.context.fillText(f,u,n)}u+=this.context.measureText(f).width+o}};t.prototype.updateTexture=function e(){var t=this.canvas;if(this._style.trim){var r=(0,_.default)(t);t.width=r.width;t.height=r.height;this.context.putImageData(r.data,0,0)}var n=this._texture;var i=this._style;var a=i.trim?0:i.padding;var o=n.baseTexture;o.hasLoaded=true;o.resolution=this.resolution;o.realWidth=t.width;o.realHeight=t.height;o.width=t.width/this.resolution;o.height=t.height/this.resolution;n.trim.width=n._frame.width=t.width/this.resolution;n.trim.height=n._frame.height=t.height/this.resolution;n.trim.x=-a;n.trim.y=-a;n.orig.width=n._frame.width-a*2;n.orig.height=n._frame.height-a*2;this._onTextureUpdate();o.emit("update",o);this.dirty=false};t.prototype.renderWebGL=function t(r){if(this.resolution!==r.resolution){this.resolution=r.resolution;this.dirty=true}this.updateText(true);e.prototype.renderWebGL.call(this,r)};t.prototype._renderCanvas=function t(r){if(this.resolution!==r.resolution){this.resolution=r.resolution;this.dirty=true}this.updateText(true);e.prototype._renderCanvas.call(this,r)};t.prototype.getLocalBounds=function t(r){this.updateText(true);return e.prototype.getLocalBounds.call(this,r)};t.prototype._calculateBounds=function e(){this.updateText(true);this.calculateVertices();this._bounds.addQuad(this.vertexData)};t.prototype._onStyleChange=function e(){this.dirty=true};t.prototype._generateFillStyle=function e(t,r){if(!Array.isArray(t.fill)){return t.fill}if(navigator.isCocoonJS){return t.fill[0]}var n=void 0;var i=void 0;var a=void 0;var o=void 0;var s=this.canvas.width/this.resolution;var u=this.canvas.height/this.resolution;var l=t.fill.slice();var h=t.fillGradientStops.slice();if(!h.length){var c=l.length+1;for(var d=1;d<c;++d){h.push(d/c)}}l.unshift(t.fill[0]);h.unshift(0);l.push(t.fill[t.fill.length-1]);h.push(1);if(t.fillGradientType===f.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,0,s/2,u);i=(l.length+1)*r.length;a=0;for(var p=0;p<r.length;p++){a+=1;for(var v=0;v<l.length;v++){if(typeof h[v]==="number"){o=h[v]/r.length+p/r.length}else{o=a/i}n.addColorStop(o,l[v]);a++}}}else{n=this.context.createLinearGradient(0,u/2,s,u/2);i=l.length+1;a=1;for(var y=0;y<l.length;y++){if(typeof h[y]==="number"){o=h[y]}else{o=a/i}n.addColorStop(o,l[y]);a++}}return n};t.prototype.destroy=function t(r){if(typeof r==="boolean"){r={children:r}}r=Object.assign({},w,r);e.prototype.destroy.call(this,r);this.context=null;this.canvas=null;this._style=null};n(t,[{key:"width",get:function e(){this.updateText(true);return Math.abs(this.scale.x)*this._texture.orig.width},set:function e(t){this.updateText(true);var r=(0,l.sign)(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width;this._width=t}},{key:"height",get:function e(){this.updateText(true);return Math.abs(this.scale.y)*this._texture.orig.height},set:function e(t){this.updateText(true);var r=(0,l.sign)(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height;this._height=t}},{key:"style",get:function e(){return this._style},set:function e(t){t=t||{};if(t instanceof p.default){this._style=t}else{this._style=new p.default(t)}this.localStyleID=-1;this.dirty=true}},{key:"text",get:function e(){return this._text},set:function e(t){t=String(t===""||t===null||t===undefined?" ":t);if(this._text===t){return}this._text=t;this.dirty=true}}]);return t}(a.default);t.default=E},function(e,t,r){"use strict";t.__esModule=true;t.default=n;function n(e){var t=e.width;var r=e.height;var n=e.getContext("2d");var i=n.getImageData(0,0,t,r);var a=i.data;var o=a.length;var s={top:null,left:null,right:null,bottom:null};var u=void 0;var l=void 0;var f=void 0;for(u=0;u<o;u+=4){if(a[u+3]!==0){l=u/4%t;f=~~(u/4/t);if(s.top===null){s.top=f}if(s.left===null){s.left=l}else if(l<s.left){s.left=l}if(s.right===null){s.right=l+1}else if(s.right<l){s.right=l+1}if(s.bottom===null){s.bottom=f}else if(s.bottom<f){s.bottom=f}}}t=s.right-s.left;r=s.bottom-s.top+1;var h=n.getImageData(s.left,s.top,t,r);return{height:r,width:t,data:h}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(18);var i=T(n);var a=r(43);var o=T(a);var s=r(13);var u=T(s);var l=r(77);var f=T(l);var h=r(40);var c=T(h);var d=r(4);var p=r(2);var v=r(1);var y=r(37);var g=T(y);var _=r(152);var m=T(_);var b=r(19);var x=T(b);function T(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function O(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var S=void 0;var P=new d.Matrix;var M=new d.Point;var C=new Float32Array(4);var R=new Float32Array(4);var A=function(e){O(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;w(this,t);var n=E(this,e.call(this));n.fillAlpha=1;n.lineWidth=0;n.nativeLines=r;n.lineColor=0;n.graphicsData=[];n.tint=16777215;n._prevTint=16777215;n.blendMode=v.BLEND_MODES.NORMAL;n.currentPath=null;n._webGL={};n.isMask=false;n.boundsPadding=0;n._localBounds=new g.default;n.dirty=0;n.fastRectDirty=-1;n.clearDirty=0;n.boundsDirty=-1;n.cachedSpriteDirty=false;n._spriteRect=null;n._fastRect=false;return n}t.prototype.clone=function e(){var e=new t;e.renderable=this.renderable;e.fillAlpha=this.fillAlpha;e.lineWidth=this.lineWidth;e.lineColor=this.lineColor;e.tint=this.tint;e.blendMode=this.blendMode;e.isMask=this.isMask;e.boundsPadding=this.boundsPadding;e.dirty=0;e.cachedSpriteDirty=this.cachedSpriteDirty;for(var r=0;r<this.graphicsData.length;++r){e.graphicsData.push(this.graphicsData[r].clone())}e.currentPath=e.graphicsData[e.graphicsData.length-1];e.updateLocalBounds();return e};t.prototype.lineStyle=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;this.lineWidth=t;this.lineColor=r;this.lineAlpha=n;if(this.currentPath){if(this.currentPath.shape.points.length){var i=new d.Polygon(this.currentPath.shape.points.slice(-2));i.closed=false;this.drawShape(i)}else{this.currentPath.lineWidth=this.lineWidth;this.currentPath.lineColor=this.lineColor;this.currentPath.lineAlpha=this.lineAlpha}}return this};t.prototype.moveTo=function e(t,r){var n=new d.Polygon([t,r]);n.closed=false;this.drawShape(n);return this};t.prototype.lineTo=function e(t,r){this.currentPath.shape.points.push(t,r);this.dirty++;return this};t.prototype.quadraticCurveTo=function e(t,r,n,i){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points=[0,0]}}else{this.moveTo(0,0)}var a=20;var o=this.currentPath.shape.points;var s=0;var u=0;if(o.length===0){this.moveTo(0,0)}var l=o[o.length-2];var f=o[o.length-1];for(var h=1;h<=a;++h){var c=h/a;s=l+(t-l)*c;u=f+(r-f)*c;o.push(s+(t+(n-t)*c-s)*c,u+(r+(i-r)*c-u)*c)}this.dirty++;return this};t.prototype.bezierCurveTo=function e(t,r,n,i,a,o){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points=[0,0]}}else{this.moveTo(0,0)}var s=this.currentPath.shape.points;var u=s[s.length-2];var l=s[s.length-1];s.length-=2;(0,m.default)(u,l,t,r,n,i,a,o,s);this.dirty++;return this};t.prototype.arcTo=function e(t,r,n,i,a){if(this.currentPath){if(this.currentPath.shape.points.length===0){this.currentPath.shape.points.push(t,r)}}else{this.moveTo(t,r)}var o=this.currentPath.shape.points;var s=o[o.length-2];var u=o[o.length-1];var l=u-r;var f=s-t;var h=i-r;var c=n-t;var d=Math.abs(l*c-f*h);if(d<1e-8||a===0){if(o[o.length-2]!==t||o[o.length-1]!==r){o.push(t,r)}}else{var p=l*l+f*f;var v=h*h+c*c;var y=l*h+f*c;var g=a*Math.sqrt(p)/d;var _=a*Math.sqrt(v)/d;var m=g*y/p;var b=_*y/v;var x=g*c+_*f;var T=g*h+_*l;var w=f*(_+m);var E=l*(_+m);var O=c*(g+b);var S=h*(g+b);var P=Math.atan2(E-T,w-x);var M=Math.atan2(S-T,O-x);this.arc(x+t,T+r,a,P,M,f*h>c*l)}this.dirty++;return this};t.prototype.arc=function e(t,r,n,i,a){var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:false;if(i===a){return this}if(!o&&a<=i){a+=Math.PI*2}else if(o&&i<=a){i+=Math.PI*2}var s=a-i;var u=Math.ceil(Math.abs(s)/(Math.PI*2))*40;if(s===0){return this}var l=t+Math.cos(i)*n;var f=r+Math.sin(i)*n;var h=this.currentPath?this.currentPath.shape.points:null;if(h){if(h[h.length-2]!==l||h[h.length-1]!==f){h.push(l,f)}}else{this.moveTo(l,f);h=this.currentPath.shape.points}var c=s/(u*2);var d=c*2;var p=Math.cos(c);var v=Math.sin(c);var y=u-1;var g=y%1/y;for(var _=0;_<=y;++_){var m=_+g*_;var b=c+i+d*m;var x=Math.cos(b);var T=-Math.sin(b);h.push((p*x+v*T)*n+t,(p*-T+v*x)*n+r)}this.dirty++;return this};t.prototype.beginFill=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.filling=true;this.fillColor=t;this.fillAlpha=r;if(this.currentPath){if(this.currentPath.shape.points.length<=2){this.currentPath.fill=this.filling;this.currentPath.fillColor=this.fillColor;this.currentPath.fillAlpha=this.fillAlpha}}return this};t.prototype.endFill=function e(){this.filling=false;this.fillColor=null;this.fillAlpha=1;return this};t.prototype.drawRect=function e(t,r,n,i){this.drawShape(new d.Rectangle(t,r,n,i));return this};t.prototype.drawRoundedRect=function e(t,r,n,i,a){this.drawShape(new d.RoundedRectangle(t,r,n,i,a));return this};t.prototype.drawCircle=function e(t,r,n){this.drawShape(new d.Circle(t,r,n));return this};t.prototype.drawEllipse=function e(t,r,n,i){this.drawShape(new d.Ellipse(t,r,n,i));return this};t.prototype.drawPolygon=function e(t){var r=t;var n=true;if(r instanceof d.Polygon){n=r.closed;r=r.points}if(!Array.isArray(r)){r=new Array(arguments.length);for(var i=0;i<r.length;++i){r[i]=arguments[i]}}var a=new d.Polygon(r);a.closed=n;this.drawShape(a);return this};t.prototype.clear=function e(){if(this.lineWidth||this.filling||this.graphicsData.length>0){this.lineWidth=0;this.filling=false;this.boundsDirty=-1;this.dirty++;this.clearDirty++;this.graphicsData.length=0}this.currentPath=null;this._spriteRect=null;return this};t.prototype.isFastRect=function e(){return this.graphicsData.length===1&&this.graphicsData[0].shape.type===v.SHAPES.RECT&&!this.graphicsData[0].lineWidth};t.prototype._renderWebGL=function e(t){if(this.dirty!==this.fastRectDirty){this.fastRectDirty=this.dirty;this._fastRect=this.isFastRect()}if(this._fastRect){this._renderSpriteRect(t)}else{t.setObjectRenderer(t.plugins.graphics);t.plugins.graphics.render(this)}};t.prototype._renderSpriteRect=function e(t){var r=this.graphicsData[0].shape;if(!this._spriteRect){this._spriteRect=new c.default(new u.default(u.default.WHITE))}var n=this._spriteRect;if(this.tint===16777215){n.tint=this.graphicsData[0].fillColor}else{var i=C;var a=R;(0,p.hex2rgb)(this.graphicsData[0].fillColor,i);(0,p.hex2rgb)(this.tint,a);i[0]*=a[0];i[1]*=a[1];i[2]*=a[2];n.tint=(0,p.rgb2hex)(i)}n.alpha=this.graphicsData[0].fillAlpha;n.worldAlpha=this.worldAlpha*n.alpha;n.blendMode=this.blendMode;n._texture._frame.width=r.width;n._texture._frame.height=r.height;n.transform.worldTransform=this.transform.worldTransform;n.anchor.set(-r.x/r.width,-r.y/r.height);n._onAnchorUpdate();n._renderWebGL(t)};t.prototype._renderCanvas=function e(t){if(this.isMask===true){return}t.plugins.graphics.render(this)};t.prototype._calculateBounds=function e(){if(this.boundsDirty!==this.dirty){this.boundsDirty=this.dirty;this.updateLocalBounds();this.cachedSpriteDirty=true}var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)};t.prototype.containsPoint=function e(t){this.worldTransform.applyInverse(t,M);var r=this.graphicsData;for(var n=0;n<r.length;++n){var i=r[n];if(!i.fill){continue}if(i.shape){if(i.shape.contains(M.x,M.y)){if(i.holes){for(var a=0;a<i.holes.length;a++){var o=i.holes[a];if(o.contains(M.x,M.y)){return false}}}return true}}}return false};t.prototype.updateLocalBounds=function e(){var t=Infinity;var r=-Infinity;var n=Infinity;var i=-Infinity;if(this.graphicsData.length){var a=0;var o=0;var s=0;var u=0;var l=0;for(var f=0;f<this.graphicsData.length;f++){var h=this.graphicsData[f];var c=h.type;var d=h.lineWidth;a=h.shape;if(c===v.SHAPES.RECT||c===v.SHAPES.RREC){o=a.x-d/2;s=a.y-d/2;u=a.width+d;l=a.height+d;t=o<t?o:t;r=o+u>r?o+u:r;n=s<n?s:n;i=s+l>i?s+l:i}else if(c===v.SHAPES.CIRC){o=a.x;s=a.y;u=a.radius+d/2;l=a.radius+d/2;t=o-u<t?o-u:t;r=o+u>r?o+u:r;n=s-l<n?s-l:n;i=s+l>i?s+l:i}else if(c===v.SHAPES.ELIP){o=a.x;s=a.y;u=a.width+d/2;l=a.height+d/2;t=o-u<t?o-u:t;r=o+u>r?o+u:r;n=s-l<n?s-l:n;i=s+l>i?s+l:i}else{var p=a.points;var y=0;var g=0;var _=0;var m=0;var b=0;var x=0;var T=0;var w=0;for(var E=0;E+2<p.length;E+=2){o=p[E];s=p[E+1];y=p[E+2];g=p[E+3];_=Math.abs(y-o);m=Math.abs(g-s);l=d;u=Math.sqrt(_*_+m*m);if(u<1e-9){continue}b=(l/u*m+_)/2;x=(l/u*_+m)/2;T=(y+o)/2;w=(g+s)/2;t=T-b<t?T-b:t;r=T+b>r?T+b:r;n=w-x<n?w-x:n;i=w+x>i?w+x:i}}}}else{t=0;r=0;n=0;i=0}var O=this.boundsPadding;this._localBounds.minX=t-O;this._localBounds.maxX=r+O;this._localBounds.minY=n-O;this._localBounds.maxY=i+O};t.prototype.drawShape=function e(t){if(this.currentPath){if(this.currentPath.shape.points.length<=2){this.graphicsData.pop()}}this.currentPath=null;var r=new f.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);this.graphicsData.push(r);if(r.type===v.SHAPES.POLY){r.shape.closed=r.shape.closed||this.filling;this.currentPath=r}this.dirty++;return r};t.prototype.generateCanvasTexture=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this.getLocalBounds();var i=o.default.create(n.width,n.height,t,r);if(!S){S=new x.default}this.transform.updateLocalTransform();this.transform.localTransform.copy(P);P.invert();P.tx-=n.x;P.ty-=n.y;S.render(this,i,true,P);var a=u.default.fromCanvas(i.baseTexture._canvasRenderTarget.canvas,t,"graphics");a.baseTexture.resolution=r;a.baseTexture.update();return a};t.prototype.closePath=function e(){var t=this.currentPath;if(t&&t.shape){t.shape.close()}return this};t.prototype.addHole=function e(){var t=this.graphicsData.pop();this.currentPath=this.graphicsData[this.graphicsData.length-1];this.currentPath.addHole(t.shape);this.currentPath=null;return this};t.prototype.destroy=function t(r){e.prototype.destroy.call(this,r);for(var n=0;n<this.graphicsData.length;++n){this.graphicsData[n].destroy()}for(var i in this._webgl){for(var a=0;a<this._webgl[i].data.length;++a){this._webgl[i].data[a].destroy()}}if(this._spriteRect){this._spriteRect.destroy()}this.graphicsData=null;this.currentPath=null;this._webgl=null;this._localBounds=null};return t}(i.default);t.default=A;A._SPRITE_TEXTURE=null},function(e,t,r){"use strict";t.__esModule=true;t.default=n;function n(e,t,r,n,i,a,o,s){var u=arguments.length>8&&arguments[8]!==undefined?arguments[8]:[];var l=20;var f=0;var h=0;var c=0;var d=0;var p=0;u.push(e,t);for(var v=1,y=0;v<=l;++v){y=v/l;f=1-y;h=f*f;c=h*f;d=y*y;p=d*y;u.push(c*e+3*h*y*r+3*f*d*i+p*o,c*t+3*h*y*n+3*f*d*a+p*s)}return u}},function(e,t,r){"use strict";t.__esModule=true;var n=r(2);var i=r(1);var a=r(24);var o=x(a);var s=r(25);var u=x(s);var l=r(154);var f=x(l);var h=r(155);var c=x(h);var d=r(156);var p=x(d);var v=r(157);var y=x(v);var g=r(158);var _=x(g);var m=r(159);var b=x(m);function x(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function E(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var O=function(e){E(t,e);function t(r){T(this,t);var n=w(this,e.call(this,r));n.graphicsDataPool=[];n.primitiveShader=null;n.gl=r.gl;n.CONTEXT_UID=0;return n}t.prototype.onContextChange=function e(){this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.primitiveShader=new c.default(this.gl)};t.prototype.destroy=function e(){o.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t){this.graphicsDataPool[t].destroy()}this.graphicsDataPool=null};t.prototype.render=function e(t){var r=this.renderer;var i=r.gl;var a=void 0;var o=t._webGL[this.CONTEXT_UID];if(!o||t.dirty!==o.dirty){this.updateGraphics(t);o=t._webGL[this.CONTEXT_UID]}var s=this.primitiveShader;r.bindShader(s);r.state.setBlendMode(t.blendMode);for(var u=0,l=o.data.length;u<l;u++){a=o.data[u];var f=a.shader;r.bindShader(f);f.uniforms.translationMatrix=t.transform.worldTransform.toArray(true);f.uniforms.tint=(0,n.hex2rgb)(t.tint);f.uniforms.alpha=t.worldAlpha;r.bindVao(a.vao);if(a.nativeLines){i.drawArrays(i.LINES,0,a.points.length/6)}else{a.vao.draw(i.TRIANGLE_STRIP,a.indices.length)}}};t.prototype.updateGraphics=function e(t){var r=this.renderer.gl;var n=t._webGL[this.CONTEXT_UID];if(!n){n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:r,clearDirty:-1,dirty:-1}}n.dirty=t.dirty;if(t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var a=0;a<n.data.length;a++){this.graphicsDataPool.push(n.data[a])}n.data.length=0;n.lastIndex=0}var o=void 0;var s=void 0;for(var u=n.lastIndex;u<t.graphicsData.length;u++){var l=t.graphicsData[u];o=this.getWebGLData(n,0);if(l.nativeLines&&l.lineWidth){s=this.getWebGLData(n,0,true);n.lastIndex++}if(l.type===i.SHAPES.POLY){(0,p.default)(l,o,s)}if(l.type===i.SHAPES.RECT){(0,y.default)(l,o,s)}else if(l.type===i.SHAPES.CIRC||l.type===i.SHAPES.ELIP){(0,b.default)(l,o,s)}else if(l.type===i.SHAPES.RREC){(0,_.default)(l,o,s)}n.lastIndex++}this.renderer.bindVao(null);for(var f=0;f<n.data.length;f++){o=n.data[f];if(o.dirty){o.upload()}}};t.prototype.getWebGLData=function e(t,r,n){var i=t.data[t.data.length-1];if(!i||i.nativeLines!==n||i.points.length>32e4){i=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState);i.nativeLines=n;i.reset(r);t.data.push(i)}i.dirty=true;return i};return t}(o.default);t.default=O;u.default.registerPlugin("graphics",O)},function(e,t,r){"use strict";t.__esModule=true;var n=r(5);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(t,r,n){o(this,e);this.gl=t;this.color=[0,0,0];this.points=[];this.indices=[];this.buffer=i.default.GLBuffer.createVertexBuffer(t);this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t);this.dirty=true;this.nativeLines=false;this.glPoints=null;this.glIndices=null;this.shader=r;this.vao=new i.default.VertexArrayObject(t,n).addIndex(this.indexBuffer).addAttribute(this.buffer,r.attributes.aVertexPosition,t.FLOAT,false,4*6,0).addAttribute(this.buffer,r.attributes.aColor,t.FLOAT,false,4*6,2*4)}e.prototype.reset=function e(){this.points.length=0;this.indices.length=0};e.prototype.upload=function e(){this.glPoints=new Float32Array(this.points);this.buffer.upload(this.glPoints);this.glIndices=new Uint16Array(this.indices);this.indexBuffer.upload(this.glIndices);this.dirty=false};e.prototype.destroy=function e(){this.color=null;this.points=null;this.indices=null;this.vao.destroy();this.buffer.destroy();this.indexBuffer.destroy();this.gl=null;this.buffer=null;this.indexBuffer=null;this.glPoints=null;this.glIndices=null};return e}();t.default=s},function(e,t,r){"use strict";t.__esModule=true;var n=r(21);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(r){o(this,t);return s(this,e.call(this,r,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return t}(i.default);t.default=l},function(e,t,r){"use strict";t.__esModule=true;t.default=l;var n=r(27);var i=u(n);var a=r(2);var o=r(78);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){e.points=e.shape.points.slice();var n=e.points;if(e.fill&&n.length>=6){var o=[];var u=e.holes;for(var l=0;l<u.length;l++){var f=u[l];o.push(n.length/2);n=n.concat(f.points)}var h=t.points;var c=t.indices;var d=n.length/2;var p=(0,a.hex2rgb)(e.fillColor);var v=e.fillAlpha;var y=p[0]*v;var g=p[1]*v;var _=p[2]*v;var m=(0,s.default)(n,o,2);if(!m){return}var b=h.length/6;for(var x=0;x<m.length;x+=3){c.push(m[x]+b);c.push(m[x]+b);c.push(m[x+1]+b);c.push(m[x+2]+b);c.push(m[x+2]+b)}for(var T=0;T<d;T++){h.push(n[T*2],n[T*2+1],y,g,_,v)}}if(e.lineWidth>0){(0,i.default)(e,t,r)}}},function(e,t,r){"use strict";t.__esModule=true;t.default=s;var n=r(27);var i=o(n);var a=r(2);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){var n=e.shape;var o=n.x;var s=n.y;var u=n.width;var l=n.height;if(e.fill){var f=(0,a.hex2rgb)(e.fillColor);var h=e.fillAlpha;var c=f[0]*h;var d=f[1]*h;var p=f[2]*h;var v=t.points;var y=t.indices;var g=v.length/6;v.push(o,s);v.push(c,d,p,h);v.push(o+u,s);v.push(c,d,p,h);v.push(o,s+l);v.push(c,d,p,h);v.push(o+u,s+l);v.push(c,d,p,h);y.push(g,g,g+1,g+2,g+3,g+3)}if(e.lineWidth){var _=e.points;e.points=[o,s,o+u,s,o+u,s+l,o,s+l,o,s];(0,i.default)(e,t,r);e.points=_}}},function(e,t,r){"use strict";t.__esModule=true;t.default=l;var n=r(78);var i=u(n);var a=r(27);var o=u(a);var s=r(2);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){var n=e.shape;var a=n.x;var u=n.y;var l=n.width;var f=n.height;var c=n.radius;var d=[];d.push(a,u+c);h(a,u+f-c,a,u+f,a+c,u+f,d);h(a+l-c,u+f,a+l,u+f,a+l,u+f-c,d);h(a+l,u+c,a+l,u,a+l-c,u,d);h(a+c,u,a,u,a,u+c+1e-10,d);if(e.fill){var p=(0,s.hex2rgb)(e.fillColor);var v=e.fillAlpha;var y=p[0]*v;var g=p[1]*v;var _=p[2]*v;var m=t.points;var b=t.indices;var x=m.length/6;var T=(0,i.default)(d,null,2);for(var w=0,E=T.length;w<E;w+=3){b.push(T[w]+x);b.push(T[w]+x);b.push(T[w+1]+x);b.push(T[w+2]+x);b.push(T[w+2]+x)}for(var O=0,S=d.length;O<S;O++){m.push(d[O],d[++O],y,g,_,v)}}if(e.lineWidth){var P=e.points;e.points=d;(0,o.default)(e,t,r);e.points=P}}function f(e,t,r){var n=t-e;return e+n*r}function h(e,t,r,n,i,a){var o=arguments.length>6&&arguments[6]!==undefined?arguments[6]:[];var s=20;var u=o;var l=0;var h=0;var c=0;var d=0;var p=0;var v=0;for(var y=0,g=0;y<=s;++y){g=y/s;l=f(e,r,g);h=f(t,n,g);c=f(r,i,g);d=f(n,a,g);p=f(l,c,g);v=f(h,d,g);u.push(p,v)}return u}},function(e,t,r){"use strict";t.__esModule=true;t.default=u;var n=r(27);var i=s(n);var a=r(1);var o=r(2);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){var n=e.shape;var s=n.x;var u=n.y;var l=void 0;var f=void 0;if(e.type===a.SHAPES.CIRC){l=n.radius;f=n.radius}else{l=n.width;f=n.height}if(l===0||f===0){return}var h=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height));var c=Math.PI*2/h;if(e.fill){var d=(0,o.hex2rgb)(e.fillColor);var p=e.fillAlpha;var v=d[0]*p;var y=d[1]*p;var g=d[2]*p;var _=t.points;var m=t.indices;var b=_.length/6;m.push(b);for(var x=0;x<h+1;x++){_.push(s,u,v,y,g,p);_.push(s+Math.sin(c*x)*l,u+Math.cos(c*x)*f,v,y,g,p);m.push(b++,b++)}m.push(b-1)}if(e.lineWidth){var T=e.points;e.points=[];for(var w=0;w<h+1;w++){e.points.push(s+Math.sin(c*w)*l,u+Math.cos(c*w)*f)}(0,i.default)(e,t,r);e.points=T}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(19);var i=o(n);var a=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t){s(this,e);this.renderer=t}e.prototype.render=function e(t){var r=this.renderer;var n=r.context;var i=t.worldAlpha;var o=t.transform.worldTransform;var s=r.resolution;if(this._prevTint!==this.tint){this.dirty=true}n.setTransform(o.a*s,o.b*s,o.c*s,o.d*s,o.tx*s,o.ty*s);if(t.dirty){this.updateGraphicsTint(t);t.dirty=false}r.setBlendMode(t.blendMode);for(var u=0;u<t.graphicsData.length;u++){var l=t.graphicsData[u];var f=l.shape;var h=l._fillTint;var c=l._lineTint;n.lineWidth=l.lineWidth;if(l.type===a.SHAPES.POLY){n.beginPath();this.renderPolygon(f.points,f.closed,n);for(var d=0;d<l.holes.length;d++){this.renderPolygon(l.holes[d].points,true,n)}if(l.fill){n.globalAlpha=l.fillAlpha*i;n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6);n.fill()}if(l.lineWidth){n.globalAlpha=l.lineAlpha*i;n.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);n.stroke()}}else if(l.type===a.SHAPES.RECT){if(l.fillColor||l.fillColor===0){n.globalAlpha=l.fillAlpha*i;n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6);n.fillRect(f.x,f.y,f.width,f.height)}if(l.lineWidth){n.globalAlpha=l.lineAlpha*i;n.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);n.strokeRect(f.x,f.y,f.width,f.height)}}else if(l.type===a.SHAPES.CIRC){n.beginPath();n.arc(f.x,f.y,f.radius,0,2*Math.PI);n.closePath();if(l.fill){n.globalAlpha=l.fillAlpha*i;n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6);n.fill()}if(l.lineWidth){n.globalAlpha=l.lineAlpha*i;n.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);n.stroke()}}else if(l.type===a.SHAPES.ELIP){var p=f.width*2;var v=f.height*2;var y=f.x-p/2;var g=f.y-v/2;n.beginPath();var _=.5522848;var m=p/2*_;var b=v/2*_;var x=y+p;var T=g+v;var w=y+p/2;var E=g+v/2;n.moveTo(y,E);n.bezierCurveTo(y,E-b,w-m,g,w,g);n.bezierCurveTo(w+m,g,x,E-b,x,E);n.bezierCurveTo(x,E+b,w+m,T,w,T);n.bezierCurveTo(w-m,T,y,E+b,y,E);n.closePath();if(l.fill){n.globalAlpha=l.fillAlpha*i;n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6);n.fill()}if(l.lineWidth){n.globalAlpha=l.lineAlpha*i;n.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);n.stroke()}}else if(l.type===a.SHAPES.RREC){var O=f.x;var S=f.y;var P=f.width;var M=f.height;var C=f.radius;var R=Math.min(P,M)/2|0;C=C>R?R:C;n.beginPath();n.moveTo(O,S+C);n.lineTo(O,S+M-C);n.quadraticCurveTo(O,S+M,O+C,S+M);n.lineTo(O+P-C,S+M);n.quadraticCurveTo(O+P,S+M,O+P,S+M-C);n.lineTo(O+P,S+C);n.quadraticCurveTo(O+P,S,O+P-C,S);n.lineTo(O+C,S);n.quadraticCurveTo(O,S,O,S+C);n.closePath();if(l.fillColor||l.fillColor===0){n.globalAlpha=l.fillAlpha*i;n.fillStyle="#"+("00000"+(h|0).toString(16)).substr(-6);n.fill()}if(l.lineWidth){n.globalAlpha=l.lineAlpha*i;n.strokeStyle="#"+("00000"+(c|0).toString(16)).substr(-6);n.stroke()}}}};e.prototype.updateGraphicsTint=function e(t){t._prevTint=t.tint;var r=(t.tint>>16&255)/255;var n=(t.tint>>8&255)/255;var i=(t.tint&255)/255;for(var a=0;a<t.graphicsData.length;++a){var o=t.graphicsData[a];var s=o.fillColor|0;var u=o.lineColor|0;o._fillTint=((s>>16&255)/255*r*255<<16)+((s>>8&255)/255*n*255<<8)+(s&255)/255*i*255;o._lineTint=((u>>16&255)/255*r*255<<16)+((u>>8&255)/255*n*255<<8)+(u&255)/255*i*255}};e.prototype.renderPolygon=function e(t,r,n){n.moveTo(t[0],t[1]);for(var i=1;i<t.length/2;++i){n.lineTo(t[i*2],t[i*2+1])}if(r){n.closePath()}};e.prototype.destroy=function e(){this.renderer=null};return e}();t.default=u;i.default.registerPlugin("graphics",u)},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=r(2);function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){n(e,null,[{key:"BATCH_SIZE",get:function e(){return 1e3}}]);function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;o(this,e);this.baseTexture=t;this.textures={};this.data=r;this.resolution=this._updateResolution(n||this.baseTexture.imageUrl);this._frames=this.data.frames;this._frameKeys=Object.keys(this._frames);this._batchIndex=0;this._callback=null}e.prototype._updateResolution=function e(t){var r=this.data.meta.scale;var n=(0,a.getResolutionOfUrl)(t,null);if(n===null){n=r!==undefined?parseFloat(r):1}if(n!==1){this.baseTexture.resolution=n;this.baseTexture.update()}return n};e.prototype.parse=function t(r){this._batchIndex=0;this._callback=r;if(this._frameKeys.length<=e.BATCH_SIZE){this._processFrames(0);this._parseComplete()}else{this._nextBatch()}};e.prototype._processFrames=function t(r){var n=r;var a=e.BATCH_SIZE;while(n-r<a&&n<this._frameKeys.length){var o=this._frameKeys[n];var s=this._frames[o].frame;if(s){var u=null;var l=null;var f=new i.Rectangle(0,0,this._frames[o].sourceSize.w/this.resolution,this._frames[o].sourceSize.h/this.resolution);if(this._frames[o].rotated){u=new i.Rectangle(s.x/this.resolution,s.y/this.resolution,s.h/this.resolution,s.w/this.resolution)}else{u=new i.Rectangle(s.x/this.resolution,s.y/this.resolution,s.w/this.resolution,s.h/this.resolution)}if(this._frames[o].trimmed){l=new i.Rectangle(this._frames[o].spriteSourceSize.x/this.resolution,this._frames[o].spriteSourceSize.y/this.resolution,s.w/this.resolution,s.h/this.resolution)}this.textures[o]=new i.Texture(this.baseTexture,u,f,l,this._frames[o].rotated?2:0);i.Texture.addToCache(this.textures[o],o)}n++}};e.prototype._parseComplete=function e(){var t=this._callback;this._callback=null;this._batchIndex=0;t.call(this,this.textures)};e.prototype._nextBatch=function t(){var r=this;this._processFrames(this._batchIndex*e.BATCH_SIZE);this._batchIndex++;setTimeout(function(){if(r._batchIndex*e.BATCH_SIZE<r._frameKeys.length){r._nextBatch()}else{r._parseComplete()}},0)};e.prototype.destroy=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;for(var r in this.textures){this.textures[r].destroy()}this._frames=null;this._frameKeys=null;this.data=null;this.textures=null;if(t){this.baseTexture.destroy()}this.baseTexture=null};return e}();t.default=s},function(e,t,r){"use strict";t.__esModule=true;t.default=i;function n(e){var t=(new Error).stack;if(typeof t==="undefined"){console.warn("Deprecation Warning: ",e)}else{t=t.split("\n").splice(3).join("\n");if(console.groupCollapsed){console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e);console.warn(t);console.groupEnd()}else{console.warn("Deprecation Warning: ",e);console.warn(t)}}}function i(e){var t=e.mesh,r=e.particles,i=e.extras,a=e.filters,o=e.prepare,s=e.loaders,u=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function e(){throw new ReferenceError("SpriteBatch does not exist any more, "+"please use the new ParticleContainer instead.")}},AssetLoader:{get:function e(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, "+"please see the new PIXI.loaders.Loader class.")}},Stage:{get:function t(){n("You do not need to use a PIXI Stage any more, you can simply render any container.");return e.Container}},DisplayObjectContainer:{get:function t(){n("DisplayObjectContainer has been shortened to Container, please use Container from now on.");return e.Container}},Strip:{get:function e(){n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.");return t.Mesh}},Rope:{get:function e(){n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.");return t.Rope}},ParticleContainer:{get:function e(){n("The ParticleContainer class has been moved to particles.ParticleContainer, "+"please use particles.ParticleContainer from now on.");return r.ParticleContainer}},MovieClip:{get:function e(){n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.");return i.AnimatedSprite}},TilingSprite:{get:function e(){n("The TilingSprite class has been moved to extras.TilingSprite, "+"please use extras.TilingSprite from now on.");return i.TilingSprite}},BitmapText:{get:function e(){n("The BitmapText class has been moved to extras.BitmapText, "+"please use extras.BitmapText from now on.");return i.BitmapText}},blendModes:{get:function t(){n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.");return e.BLEND_MODES}},scaleModes:{get:function t(){n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.");return e.SCALE_MODES}},BaseTextureCache:{get:function t(){n("The BaseTextureCache class has been moved to utils.BaseTextureCache, "+"please use utils.BaseTextureCache from now on.");return e.utils.BaseTextureCache}},TextureCache:{get:function t(){n("The TextureCache class has been moved to utils.TextureCache, "+"please use utils.TextureCache from now on.");return e.utils.TextureCache}},math:{get:function t(){n("The math namespace is deprecated, please access members already accessible on PIXI.");return e}},AbstractFilter:{get:function t(){n("AstractFilter has been renamed to Filter, please use PIXI.Filter");return e.Filter}},TransformManual:{get:function t(){n("TransformManual has been renamed to TransformBase, please update your pixi-spine");return e.TransformBase}},TARGET_FPMS:{get:function t(){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");return e.settings.TARGET_FPMS},set:function t(r){n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS");e.settings.TARGET_FPMS=r}},FILTER_RESOLUTION:{get:function t(){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");return e.settings.FILTER_RESOLUTION},set:function t(r){n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION");e.settings.FILTER_RESOLUTION=r}},RESOLUTION:{get:function t(){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");return e.settings.RESOLUTION},set:function t(r){n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION");e.settings.RESOLUTION=r}},MIPMAP_TEXTURES:{get:function t(){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");return e.settings.MIPMAP_TEXTURES},set:function t(r){n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES");e.settings.MIPMAP_TEXTURES=r}},SPRITE_BATCH_SIZE:{get:function t(){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");return e.settings.SPRITE_BATCH_SIZE},set:function t(r){n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE");e.settings.SPRITE_BATCH_SIZE=r}},SPRITE_MAX_TEXTURES:{get:function t(){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");return e.settings.SPRITE_MAX_TEXTURES},set:function t(r){n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES");e.settings.SPRITE_MAX_TEXTURES=r}},RETINA_PREFIX:{get:function t(){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");return e.settings.RETINA_PREFIX},set:function t(r){n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX");e.settings.RETINA_PREFIX=r}},DEFAULT_RENDER_OPTIONS:{get:function t(){n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS");return e.settings.RENDER_OPTIONS}}});var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}];var f=function t(r){var i=l[r];Object.defineProperty(e[i.parent],"DEFAULT",{get:function t(){n("PIXI."+i.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+i.target));return e.settings[i.target]},set:function t(r){n("PIXI."+i.parent+".DEFAULT has been deprecated, "+("please use PIXI.settings."+i.target));e.settings[i.target]=r}})};for(var h=0;h<l.length;h++){f(h)}Object.defineProperties(e.settings,{PRECISION:{get:function t(){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");return e.settings.PRECISION_FRAGMENT},set:function t(r){n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT");e.settings.PRECISION_FRAGMENT=r}}});if(i.AnimatedSprite){Object.defineProperties(i,{MovieClip:{get:function e(){n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.");return i.AnimatedSprite}}})}e.DisplayObject.prototype.generateTexture=function e(t,r,i){n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)");return t.generateTexture(this,r,i)};e.Graphics.prototype.generateTexture=function e(t,r){n("graphics generate texture has moved to the renderer. "+"Or to render a graphics to a texture using canvas please use generateCanvasTexture");return this.generateCanvasTexture(t,r)};e.RenderTexture.prototype.render=function e(t,r,i,a){this.legacyRenderer.render(t,this,i,r,!a);n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")};e.RenderTexture.prototype.getImage=function e(t){n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)");return this.legacyRenderer.extract.image(t)};e.RenderTexture.prototype.getBase64=function e(t){n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)");return this.legacyRenderer.extract.base64(t)};e.RenderTexture.prototype.getCanvas=function e(t){n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)");return this.legacyRenderer.extract.canvas(t)};e.RenderTexture.prototype.getPixels=function e(t){n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)");return this.legacyRenderer.pixels(t)};e.Sprite.prototype.setTexture=function e(t){this.texture=t;n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")};if(i.BitmapText){i.BitmapText.prototype.setText=function e(t){this.text=t;n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}}e.Text.prototype.setText=function e(t){this.text=t;n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")};e.Text.calculateFontProperties=function t(r){n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont");return e.TextMetrics.measureFont(r)};Object.defineProperties(e.Text,{fontPropertiesCache:{get:function t(){n("Text.fontPropertiesCache is deprecated");return e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function t(){n("Text.fontPropertiesCanvas is deprecated");return e.TextMetrics._canvas}},fontPropertiesContext:{get:function t(){n("Text.fontPropertiesContext is deprecated");return e.TextMetrics._context}}});e.Text.prototype.setStyle=function e(t){this.style=t;n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")};e.Text.prototype.determineFontProperties=function t(r){n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method");return e.TextMetrics.measureFont(r)};e.Text.getFontStyle=function t(r){n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead");r=r||{};if(!(r instanceof e.TextStyle)){r=new e.TextStyle(r)}return r.toFontString()};Object.defineProperties(e.TextStyle.prototype,{font:{get:function e(){n("text style property 'font' is now deprecated, please use the "+"'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t=typeof this._fontSize==="number"?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function e(t){n("text style property 'font' is now deprecated, please use the "+"'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on");if(t.indexOf("italic")>1){this._fontStyle="italic"}else if(t.indexOf("oblique")>-1){this._fontStyle="oblique"}else{this._fontStyle="normal"}if(t.indexOf("small-caps")>-1){this._fontVariant="small-caps"}else{this._fontVariant="normal"}var r=t.split(" ");var i=-1;this._fontSize=26;for(var a=0;a<r.length;++a){if(r[a].match(/(px|pt|em|%)/)){i=a;this._fontSize=r[a];break}}this._fontWeight="normal";for(var o=0;o<i;++o){if(r[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=r[o];break}}if(i>-1&&i<r.length-1){this._fontFamily="";for(var s=i+1;s<r.length;++s){this._fontFamily+=r[s]+" "}this._fontFamily=this._fontFamily.slice(0,-1)}else{this._fontFamily="Arial"}this.styleID++}}});e.Texture.prototype.setFrame=function e(t){this.frame=t;n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")};e.Texture.addTextureToCache=function t(r,i){e.Texture.addToCache(r,i);n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")};e.Texture.removeTextureFromCache=function t(r){n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. "+"Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. "+"For that, use BaseTexture.removeFromCache");e.BaseTexture.removeFromCache(r);return e.Texture.removeFromCache(r)};Object.defineProperties(a,{AbstractFilter:{get:function t(){n("AstractFilter has been renamed to Filter, please use PIXI.Filter");return e.AbstractFilter}},SpriteMaskFilter:{get:function t(){n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.");return e.SpriteMaskFilter}}});e.utils.uuid=function(){n("utils.uuid() is deprecated, please use utils.uid() from now on.");return e.utils.uid()};e.utils.canUseNewCanvasBlendModes=function(){n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on");return e.CanvasTinter.canUseMultiply};var c=true;Object.defineProperty(e.utils,"_saidHello",{set:function e(t){if(t){n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()");this.skipHello()}c=t},get:function e(){return c}});if(o.BasePrepare){o.BasePrepare.prototype.register=function e(t,r){n("renderer.plugins.prepare.register is now deprecated, "+"please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook");if(t){this.registerFindHook(t)}if(r){this.registerUploadHook(r)}return this}}if(o.canvas){Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function e(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set "+"renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function e(){n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use "+"renderer.plugins.prepare.limiter");return NaN}})}if(o.webgl){Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function e(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set "+"renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function e(){n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use "+"renderer.plugins.prepare.limiter");return NaN}})}if(s.Loader){var d=s.Resource;var p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function e(){n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.");return this.type===d.TYPE.JSON}},isXml:{get:function e(){n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.");return this.type===d.TYPE.XML}},isImage:{get:function e(){n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.");return this.type===d.TYPE.IMAGE}},isAudio:{get:function e(){n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.");return this.type===d.TYPE.AUDIO}},isVideo:{get:function e(){n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.");return this.type===d.TYPE.VIDEO}}});Object.defineProperties(p.prototype,{before:{get:function e(){n("The before() method is deprecated, please use pre().");return this.pre}},after:{get:function e(){n("The after() method is deprecated, please use use().");return this.use}}})}if(u.interactiveTarget){Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function e(t){n("Property defaultCursor has been replaced with 'cursor'. ");this.cursor=t},get:function e(){n("Property defaultCursor has been replaced with 'cursor'. ");return this.cursor}})}if(u.InteractionManager){Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function e(t){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");this.cursorStyles.default=t},get:function e(){n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. ");return this.cursorStyles.default}});Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function e(t){n("Property currentCursorStyle has been removed."+"See the currentCursorMode property, which works differently.");this.currentCursorMode=t},get:function e(){n("Property currentCursorStyle has been removed."+"See the currentCursorMode property, which works differently.");return this.currentCursorMode}})}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(81);Object.defineProperty(t,"accessibleTarget",{enumerable:true,get:function e(){return a(n).default}});var i=r(164);Object.defineProperty(t,"AccessibilityManager",{enumerable:true,get:function e(){return a(i).default}});function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=f(n);var a=r(38);var o=l(a);var s=r(81);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}i.utils.mixins.delayMixin(i.DisplayObject.prototype,u.default);var c=9;var d=100;var p=0;var v=0;var y=2;var g=1;var _=-1e3;var m=-1e3;var b=2;var x=function(){function e(t){h(this,e);if((o.default.tablet||o.default.phone)&&!navigator.isCocoonJS){this.createTouchHook()}var r=document.createElement("div");r.style.width=d+"px";r.style.height=d+"px";r.style.position="absolute";r.style.top=p+"px";r.style.left=v+"px";r.style.zIndex=y;this.div=r;this.pool=[];this.renderId=0;this.debug=false;this.renderer=t;this.children=[];this._onKeyDown=this._onKeyDown.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this.isActive=false;this.isMobileAccessabillity=false;window.addEventListener("keydown",this._onKeyDown,false)}e.prototype.createTouchHook=function e(){var t=this;var r=document.createElement("button");r.style.width=g+"px";r.style.height=g+"px";r.style.position="absolute";r.style.top=_+"px";r.style.left=m+"px";r.style.zIndex=b;r.style.backgroundColor="#FF0000";r.title="HOOK DIV";r.addEventListener("focus",function(){t.isMobileAccessabillity=true;t.activate();document.body.removeChild(r)});document.body.appendChild(r)};e.prototype.activate=function e(){if(this.isActive){return}this.isActive=true;window.document.addEventListener("mousemove",this._onMouseMove,true);window.removeEventListener("keydown",this._onKeyDown,false);this.renderer.on("postrender",this.update,this);if(this.renderer.view.parentNode){this.renderer.view.parentNode.appendChild(this.div)}};e.prototype.deactivate=function e(){if(!this.isActive||this.isMobileAccessabillity){return}this.isActive=false;window.document.removeEventListener("mousemove",this._onMouseMove);window.addEventListener("keydown",this._onKeyDown,false);this.renderer.off("postrender",this.update);if(this.div.parentNode){this.div.parentNode.removeChild(this.div)}};e.prototype.updateAccessibleObjects=function e(t){if(!t.visible){return}if(t.accessible&&t.interactive){if(!t._accessibleActive){this.addChild(t)}t.renderId=this.renderId}var r=t.children;for(var n=r.length-1;n>=0;n--){this.updateAccessibleObjects(r[n])}};e.prototype.update=function e(){if(!this.renderer.renderingToScreen){return}this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect();var r=t.width/this.renderer.width;var n=t.height/this.renderer.height;var a=this.div;a.style.left=t.left+"px";a.style.top=t.top+"px";a.style.width=this.renderer.width+"px";a.style.height=this.renderer.height+"px";for(var o=0;o<this.children.length;o++){var s=this.children[o];if(s.renderId!==this.renderId){s._accessibleActive=false;i.utils.removeItems(this.children,o,1);this.div.removeChild(s._accessibleDiv);this.pool.push(s._accessibleDiv);s._accessibleDiv=null;o--;if(this.children.length===0){this.deactivate()}}else{a=s._accessibleDiv;var u=s.hitArea;var l=s.worldTransform;if(s.hitArea){a.style.left=(l.tx+u.x*l.a)*r+"px";a.style.top=(l.ty+u.y*l.d)*n+"px";a.style.width=u.width*l.a*r+"px";a.style.height=u.height*l.d*n+"px"}else{u=s.getBounds();this.capHitArea(u);a.style.left=u.x*r+"px";a.style.top=u.y*n+"px";a.style.width=u.width*r+"px";a.style.height=u.height*n+"px"}}}this.renderId++};e.prototype.capHitArea=function e(t){if(t.x<0){t.width+=t.x;t.x=0}if(t.y<0){t.height+=t.y;t.y=0}if(t.x+t.width>this.renderer.width){t.width=this.renderer.width-t.x}if(t.y+t.height>this.renderer.height){t.height=this.renderer.height-t.y}};e.prototype.addChild=function e(t){var r=this.pool.pop();if(!r){r=document.createElement("button");r.style.width=d+"px";r.style.height=d+"px";r.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent";r.style.position="absolute";r.style.zIndex=y;r.style.borderStyle="none";r.addEventListener("click",this._onClick.bind(this));r.addEventListener("focus",this._onFocus.bind(this));r.addEventListener("focusout",this._onFocusOut.bind(this))}if(t.accessibleTitle){r.title=t.accessibleTitle}else if(!t.accessibleTitle&&!t.accessibleHint){r.title="displayObject "+this.tabIndex}if(t.accessibleHint){r.setAttribute("aria-label",t.accessibleHint)}t._accessibleActive=true;t._accessibleDiv=r;r.displayObject=t;this.children.push(t);this.div.appendChild(t._accessibleDiv);t._accessibleDiv.tabIndex=t.tabIndex};e.prototype._onClick=function e(t){var r=this.renderer.plugins.interaction;r.dispatchEvent(t.target.displayObject,"click",r.eventData)};e.prototype._onFocus=function e(t){var r=this.renderer.plugins.interaction;r.dispatchEvent(t.target.displayObject,"mouseover",r.eventData)};e.prototype._onFocusOut=function e(t){var r=this.renderer.plugins.interaction;r.dispatchEvent(t.target.displayObject,"mouseout",r.eventData)};e.prototype._onKeyDown=function e(t){if(t.keyCode!==c){return}this.activate()};e.prototype._onMouseMove=function e(){this.deactivate()};e.prototype.destroy=function e(){this.div=null;for(var t=0;t<this.children.length;t++){this.children[t].div=null}window.document.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("keydown",this._onKeyDown);this.pool=null;this.children=null;this.renderer=null};return e}();t.default=x;i.WebGLRenderer.registerPlugin("accessibility",x);i.CanvasRenderer.registerPlugin("accessibility",x)},function(e,t,r){"use strict";t.__esModule=true;var n=r(166);Object.defineProperty(t,"webgl",{enumerable:true,get:function e(){return a(n).default}});var i=r(167);Object.defineProperty(t,"canvas",{enumerable:true,get:function e(){return a(i).default}});function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=a(n);function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=new i.Rectangle;var u=4;var l=function(){function e(t){o(this,e);this.renderer=t;t.extract=this}e.prototype.image=function e(t){var e=new Image;e.src=this.base64(t);return e};e.prototype.base64=function e(t){return this.canvas(t).toDataURL()};e.prototype.canvas=function e(t){var r=this.renderer;var n=void 0;var a=void 0;var o=void 0;var l=false;var f=void 0;if(t){if(t instanceof i.RenderTexture){f=t}else{f=this.renderer.generateTexture(t)}}if(f){n=f.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];a=n.resolution;o=f.frame;l=false}else{n=this.renderer.rootRenderTarget;a=n.resolution;l=true;o=s;o.width=n.size.width;o.height=n.size.height}var h=o.width*a;var c=o.height*a;var d=new i.CanvasRenderTarget(h,c);if(n){r.bindRenderTarget(n);var p=new Uint8Array(u*h*c);var v=r.gl;v.readPixels(o.x*a,o.y*a,h,c,v.RGBA,v.UNSIGNED_BYTE,p);var y=d.context.getImageData(0,0,h,c);y.data.set(p);d.context.putImageData(y,0,0);if(l){d.context.scale(1,-1);d.context.drawImage(d.canvas,0,-c)}}return d.canvas};e.prototype.pixels=function e(t){var r=this.renderer;var n=void 0;var a=void 0;var o=void 0;var l=void 0;if(t){if(t instanceof i.RenderTexture){l=t}else{l=this.renderer.generateTexture(t)}}if(l){n=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID];a=n.resolution;o=l.frame}else{n=this.renderer.rootRenderTarget;a=n.resolution;o=s;o.width=n.size.width;o.height=n.size.height}var f=o.width*a;var h=o.height*a;var c=new Uint8Array(u*f*h);if(n){r.bindRenderTarget(n);var d=r.gl;d.readPixels(o.x*a,o.y*a,f,h,d.RGBA,d.UNSIGNED_BYTE,c)}return c};e.prototype.destroy=function e(){this.renderer.extract=null;this.renderer=null};return e}();t.default=l;i.WebGLRenderer.registerPlugin("extract",l)},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=a(n);function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=new i.Rectangle;var u=function(){function e(t){o(this,e);this.renderer=t;t.extract=this}e.prototype.image=function e(t){var e=new Image;e.src=this.base64(t);return e};e.prototype.base64=function e(t){return this.canvas(t).toDataURL()};e.prototype.canvas=function e(t){var r=this.renderer;var n=void 0;var a=void 0;var o=void 0;var u=void 0;if(t){if(t instanceof i.RenderTexture){u=t}else{u=r.generateTexture(t)}}if(u){n=u.baseTexture._canvasRenderTarget.context;a=u.baseTexture._canvasRenderTarget.resolution;o=u.frame}else{n=r.rootContext;o=s;o.width=this.renderer.width;o.height=this.renderer.height}var l=o.width*a;var f=o.height*a;var h=new i.CanvasRenderTarget(l,f);var c=n.getImageData(o.x*a,o.y*a,l,f);h.context.putImageData(c,0,0);return h.canvas};e.prototype.pixels=function e(t){var r=this.renderer;var n=void 0;var a=void 0;var o=void 0;var u=void 0;if(t){if(t instanceof i.RenderTexture){u=t}else{u=r.generateTexture(t)}}if(u){n=u.baseTexture._canvasRenderTarget.context;a=u.baseTexture._canvasRenderTarget.resolution;o=u.frame}else{n=r.rootContext;o=s;o.width=r.width;o.height=r.height}return n.getImageData(0,0,o.width*a,o.height*a).data};e.prototype.destroy=function e(){this.renderer.extract=null;this.renderer=null};return e}();t.default=u;i.CanvasRenderer.registerPlugin("extract",u)},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=o(i);function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=function(e){l(t,e);function t(r,n){s(this,t);var i=u(this,e.call(this,r[0]instanceof a.Texture?r[0]:r[0].texture));i._textures=null;i._durations=null;i.textures=r;i._autoUpdate=n!==false;i.animationSpeed=1;i.loop=true;i.onComplete=null;i.onFrameChange=null;i.onLoop=null;i._currentTime=0;i.playing=false;return i}t.prototype.stop=function e(){if(!this.playing){return}this.playing=false;if(this._autoUpdate){a.ticker.shared.remove(this.update,this)}};t.prototype.play=function e(){if(this.playing){return}this.playing=true;if(this._autoUpdate){a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH)}};t.prototype.gotoAndStop=function e(t){this.stop();var r=this.currentFrame;this._currentTime=t;if(r!==this.currentFrame){this.updateTexture()}};t.prototype.gotoAndPlay=function e(t){var r=this.currentFrame;this._currentTime=t;if(r!==this.currentFrame){this.updateTexture()}this.play()};t.prototype.update=function e(t){var r=this.animationSpeed*t;var n=this.currentFrame;if(this._durations!==null){var i=this._currentTime%1*this._durations[this.currentFrame];i+=r/60*1e3;while(i<0){this._currentTime--;i+=this._durations[this.currentFrame]}var a=Math.sign(this.animationSpeed*t);this._currentTime=Math.floor(this._currentTime);while(i>=this._durations[this.currentFrame]){i-=this._durations[this.currentFrame]*a;this._currentTime+=a}this._currentTime+=i/this._durations[this.currentFrame]}else{this._currentTime+=r}if(this._currentTime<0&&!this.loop){this.gotoAndStop(0);if(this.onComplete){this.onComplete()}}else if(this._currentTime>=this._textures.length&&!this.loop){this.gotoAndStop(this._textures.length-1);if(this.onComplete){this.onComplete()}}else if(n!==this.currentFrame){if(this.loop&&this.onLoop){if(this.animationSpeed>0&&this.currentFrame<n){this.onLoop()}else if(this.animationSpeed<0&&this.currentFrame>n){this.onLoop()}}this.updateTexture()}};t.prototype.updateTexture=function e(){this._texture=this._textures[this.currentFrame];this._textureID=-1;if(this.onFrameChange){this.onFrameChange(this.currentFrame)}};t.prototype.destroy=function t(r){this.stop();e.prototype.destroy.call(this,r)};t.fromFrames=function e(r){var n=[];for(var i=0;i<r.length;++i){n.push(a.Texture.fromFrame(r[i]))}return new t(n)};t.fromImages=function e(r){var n=[];for(var i=0;i<r.length;++i){n.push(a.Texture.fromImage(r[i]))}return new t(n)};n(t,[{key:"totalFrames",get:function e(){return this._textures.length}},{key:"textures",get:function e(){return this._textures},set:function e(t){if(t[0]instanceof a.Texture){this._textures=t;this._durations=null}else{this._textures=[];this._durations=[];for(var r=0;r<t.length;r++){this._textures.push(t[r].texture);this._durations.push(t[r].time)}}this.gotoAndStop(0);this.updateTexture()}},{key:"currentFrame",get:function e(){var t=Math.floor(this._currentTime)%this._textures.length;if(t<0){t+=this._textures.length}return t}}]);return t}(a.Sprite);t.default=f},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=h(i);var o=r(44);var s=f(o);var u=r(46);var l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=new a.Point;var y=function(e){p(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;c(this,t);var o=d(this,e.call(this,r));o.tileTransform=new a.TransformStatic;o._width=n;o._height=i;o._canvasPattern=null;o.uvTransform=r.transform||new l.default(r);o.pluginName="tilingSprite";o.uvRespectAnchor=false;return o}t.prototype._onTextureUpdate=function e(){if(this.uvTransform){this.uvTransform.texture=this._texture}};t.prototype._renderWebGL=function e(t){var r=this._texture;if(!r||!r.valid){return}this.tileTransform.updateLocalTransform();this.uvTransform.update();t.setObjectRenderer(t.plugins[this.pluginName]);t.plugins[this.pluginName].render(this)};t.prototype._renderCanvas=function e(t){var r=this._texture;if(!r.baseTexture.hasLoaded){return}var n=t.context;var i=this.worldTransform;var o=t.resolution;var u=r.baseTexture;var l=u.resolution;var f=this.tilePosition.x/this.tileScale.x%r._frame.width*l;var h=this.tilePosition.y/this.tileScale.y%r._frame.height*l;if(!this._canvasPattern){var c=new a.CanvasRenderTarget(r._frame.width,r._frame.height,l);if(this.tint!==16777215){if(this.cachedTint!==this.tint){this.cachedTint=this.tint;this.tintedTexture=s.default.getTintedTexture(this,this.tint)}c.context.drawImage(this.tintedTexture,0,0)}else{c.context.drawImage(u.source,-r._frame.x*l,-r._frame.y*l)}this._canvasPattern=c.context.createPattern(c.canvas,"repeat")}n.globalAlpha=this.worldAlpha;n.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,i.tx*o,i.ty*o);t.setBlendMode(this.blendMode);n.fillStyle=this._canvasPattern;n.scale(this.tileScale.x/l,this.tileScale.y/l);var d=this.anchor.x*-this._width;var p=this.anchor.y*-this._height;if(this.uvRespectAnchor){n.translate(f,h);n.fillRect(-f+d,-h+p,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)}else{n.translate(f+d,h+p);n.fillRect(-f,-h,this._width/this.tileScale.x*l,this._height/this.tileScale.y*l)}};t.prototype._calculateBounds=function e(){var t=this._width*-this._anchor._x;var r=this._height*-this._anchor._y;var n=this._width*(1-this._anchor._x);var i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,r,n,i)};t.prototype.getLocalBounds=function t(r){if(this.children.length===0){this._bounds.minX=this._width*-this._anchor._x;this._bounds.minY=this._height*-this._anchor._y;this._bounds.maxX=this._width*(1-this._anchor._x);this._bounds.maxY=this._height*(1-this._anchor._x);if(!r){if(!this._localBoundsRect){this._localBoundsRect=new a.Rectangle}r=this._localBoundsRect}return this._bounds.getRectangle(r)}return e.prototype.getLocalBounds.call(this,r)};t.prototype.containsPoint=function e(t){this.worldTransform.applyInverse(t,v);var r=this._width;var n=this._height;var i=-r*this.anchor._x;if(v.x>=i&&v.x<i+r){var a=-n*this.anchor._y;if(v.y>=a&&v.y<a+n){return true}}return false};t.prototype.destroy=function t(r){e.prototype.destroy.call(this,r);this.tileTransform=null;this.uvTransform=null};t.from=function e(r,n,i){return new t(a.Texture.from(r),n,i)};t.fromFrame=function e(r,n,i){var o=a.utils.TextureCache[r];if(!o){throw new Error('The frameId "'+r+'" does not exist in the texture cache '+this)}return new t(o,n,i)};t.fromImage=function e(r,n,i,o,s){return new t(a.Texture.fromImage(r,o,s),n,i)};n(t,[{key:"clampMargin",get:function e(){return this.uvTransform.clampMargin},set:function e(t){this.uvTransform.clampMargin=t;this.uvTransform.update(true)}},{key:"tileScale",get:function e(){return this.tileTransform.scale},set:function e(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function e(){return this.tileTransform.position},set:function e(t){this.tileTransform.position.copy(t)}},{key:"width",get:function e(){return this._width},set:function e(t){this._width=t}},{key:"height",get:function e(){return this._height},set:function e(t){this._height=t}}]);return t}(a.Sprite);t.default=y},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=s(n);var a=r(1);var o=r(10);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=new i.Matrix;var c=function(e){f(t,e);function t(r){u(this,t);var n=l(this,e.call(this,r));n.shader=null;n.simpleShader=null;n.quad=null;return n}t.prototype.onContextChange=function e(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n");this.simpleShader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n");this.renderer.bindVao(null);this.quad=new i.Quad(t,this.renderer.state.attribState);this.quad.initVao(this.shader)};t.prototype.render=function e(t){var r=this.renderer;var n=this.quad;r.bindVao(n.vao);var o=n.vertices;o[0]=o[6]=t._width*-t.anchor.x;o[1]=o[3]=t._height*-t.anchor.y;o[2]=o[4]=t._width*(1-t.anchor.x);o[5]=o[7]=t._height*(1-t.anchor.y);if(t.uvRespectAnchor){o=n.uvs;o[0]=o[6]=-t.anchor.x;o[1]=o[3]=-t.anchor.y;o[2]=o[4]=1-t.anchor.x;o[5]=o[7]=1-t.anchor.y}n.upload();var s=t._texture;var u=s.baseTexture;var l=t.tileTransform.localTransform;var f=t.uvTransform;var c=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;if(c){if(!u._glTextures[r.CONTEXT_UID]){if(u.wrapMode===a.WRAP_MODES.CLAMP){u.wrapMode=a.WRAP_MODES.REPEAT}}else{c=u.wrapMode!==a.WRAP_MODES.CLAMP}}var d=c?this.simpleShader:this.shader;r.bindShader(d);var p=s.width;var v=s.height;var y=t._width;var g=t._height;h.set(l.a*p/y,l.b*p/g,l.c*v/y,l.d*v/g,l.tx/y,l.ty/g);h.invert();if(c){h.prepend(f.mapCoord)}else{d.uniforms.uMapCoord=f.mapCoord.toArray(true);d.uniforms.uClampFrame=f.uClampFrame;d.uniforms.uClampOffset=f.uClampOffset}d.uniforms.uTransform=h.toArray(true);d.uniforms.uColor=i.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,d.uniforms.uColor,u.premultipliedAlpha);d.uniforms.translationMatrix=t.transform.worldTransform.toArray(true);d.uniforms.uSampler=r.bindTexture(s);r.setBlendMode(i.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));n.vao.draw(this.renderer.gl.TRIANGLES,6,0)};return t}(i.ObjectRenderer);t.default=c;i.WebGLRenderer.registerPlugin("tilingSprite",c)},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=h(i);var o=r(51);var s=f(o);var u=r(3);var l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){p(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};c(this,t);var i=d(this,e.call(this));i._textWidth=0;i._textHeight=0;i._glyphs=[];i._font={tint:n.tint!==undefined?n.tint:16777215,align:n.align||"left",name:null,size:0};i.font=n.font;i._text=r;i._maxWidth=0;i._maxLineHeight=0;i._anchor=new s.default(function(){i.dirty=true},i,0,0);i.dirty=false;i.updateText();return i}t.prototype.updateText=function e(){var r=t.fonts[this._font.name];var n=this._font.size/r.size;var i=new a.Point;var o=[];var s=[];var u=null;var l=0;var f=0;var h=0;var c=-1;var d=0;var p=0;var v=0;for(var y=0;y<this.text.length;y++){var g=this.text.charCodeAt(y);if(/(\s)/.test(this.text.charAt(y))){c=y;d=l}if(/(?:\r\n|\r|\n)/.test(this.text.charAt(y))){s.push(l);f=Math.max(f,l);h++;i.x=0;i.y+=r.lineHeight;u=null;continue}if(c!==-1&&this._maxWidth>0&&i.x*n>this._maxWidth){a.utils.removeItems(o,c-p,y-c);y=c;c=-1;++p;s.push(d);f=Math.max(f,d);h++;i.x=0;i.y+=r.lineHeight;u=null;continue}var _=r.chars[g];if(!_){continue}if(u&&_.kerning[u]){i.x+=_.kerning[u]}o.push({texture:_.texture,line:h,charCode:g,position:new a.Point(i.x+_.xOffset,i.y+_.yOffset)});l=i.x+(_.texture.width+_.xOffset);i.x+=_.xAdvance;v=Math.max(v,_.yOffset+_.texture.height);u=g}s.push(l);f=Math.max(f,l);var m=[];for(var b=0;b<=h;b++){var x=0;if(this._font.align==="right"){x=f-s[b]}else if(this._font.align==="center"){x=(f-s[b])/2}m.push(x)}var T=o.length;var w=this.tint;for(var E=0;E<T;E++){var O=this._glyphs[E];if(O){O.texture=o[E].texture}else{O=new a.Sprite(o[E].texture);this._glyphs.push(O)}O.position.x=(o[E].position.x+m[o[E].line])*n;O.position.y=o[E].position.y*n;O.scale.x=O.scale.y=n;O.tint=w;if(!O.parent){this.addChild(O)}}for(var S=T;S<this._glyphs.length;++S){this.removeChild(this._glyphs[S])}this._textWidth=f*n;this._textHeight=(i.y+r.lineHeight)*n;if(this.anchor.x!==0||this.anchor.y!==0){for(var P=0;P<T;P++){this._glyphs[P].x-=this._textWidth*this.anchor.x;this._glyphs[P].y-=this._textHeight*this.anchor.y}}this._maxLineHeight=v*n};t.prototype.updateTransform=function e(){this.validate();this.containerUpdateTransform()};t.prototype.getLocalBounds=function t(){this.validate();return e.prototype.getLocalBounds.call(this)};t.prototype.validate=function e(){if(this.dirty){this.updateText();this.dirty=false}};t.registerFont=function e(r,n){var i={};var o=r.getElementsByTagName("info")[0];var s=r.getElementsByTagName("common")[0];var u=n.baseTexture.resolution||l.default.RESOLUTION;i.font=o.getAttribute("face");i.size=parseInt(o.getAttribute("size"),10);i.lineHeight=parseInt(s.getAttribute("lineHeight"),10)/u;i.chars={};var f=r.getElementsByTagName("char");for(var h=0;h<f.length;h++){var c=f[h];var d=parseInt(c.getAttribute("id"),10);var p=new a.Rectangle(parseInt(c.getAttribute("x"),10)/u+n.frame.x/u,parseInt(c.getAttribute("y"),10)/u+n.frame.y/u,parseInt(c.getAttribute("width"),10)/u,parseInt(c.getAttribute("height"),10)/u);i.chars[d]={xOffset:parseInt(c.getAttribute("xoffset"),10)/u,yOffset:parseInt(c.getAttribute("yoffset"),10)/u,xAdvance:parseInt(c.getAttribute("xadvance"),10)/u,kerning:{},texture:new a.Texture(n.baseTexture,p)}}var v=r.getElementsByTagName("kerning");for(var y=0;y<v.length;y++){var g=v[y];var _=parseInt(g.getAttribute("first"),10)/u;var m=parseInt(g.getAttribute("second"),10)/u;var b=parseInt(g.getAttribute("amount"),10)/u;if(i.chars[m]){i.chars[m].kerning[_]=b}}t.fonts[i.font]=i;return i};n(t,[{key:"tint",get:function e(){return this._font.tint},set:function e(t){this._font.tint=typeof t==="number"&&t>=0?t:16777215;this.dirty=true}},{key:"align",get:function e(){return this._font.align},set:function e(t){this._font.align=t||"left";this.dirty=true}},{key:"anchor",get:function e(){return this._anchor},set:function e(t){if(typeof t==="number"){this._anchor.set(t)}else{this._anchor.copy(t)}}},{key:"font",get:function e(){return this._font},set:function e(r){if(!r){return}if(typeof r==="string"){r=r.split(" ");this._font.name=r.length===1?r[0]:r.slice(1).join(" ");this._font.size=r.length>=2?parseInt(r[0],10):t.fonts[this._font.name].size}else{this._font.name=r.name;this._font.size=typeof r.size==="number"?r.size:parseInt(r.size,10)}this.dirty=true}},{key:"text",get:function e(){return this._text},set:function e(t){t=t.toString()||" ";if(this._text===t){return}this._text=t;this.dirty=true}},{key:"maxWidth",get:function e(){return this._maxWidth},set:function e(t){if(this._maxWidth===t){return}this._maxWidth=t;this.dirty=true}},{key:"maxLineHeight",get:function e(){this.validate();return this._maxLineHeight}},{key:"textWidth",get:function e(){this.validate();return this._textWidth}},{key:"textHeight",get:function e(){this.validate();return this._textHeight}}]);return t}(a.Container);t.default=v;v.fonts={}},function(e,t,r){"use strict";var n=r(0);var i=h(n);var a=r(13);var o=f(a);var s=r(14);var u=f(s);var l=r(2);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var d=i.DisplayObject;var p=new i.Matrix;d.prototype._cacheAsBitmap=false;d.prototype._cacheData=false;var v=function e(){c(this,e);this.textureCacheId=null;this.originalRenderWebGL=null;this.originalRenderCanvas=null;this.originalCalculateBounds=null;this.originalGetLocalBounds=null;this.originalUpdateTransform=null;this.originalHitTest=null;this.originalDestroy=null;this.originalMask=null;this.originalFilterArea=null;this.sprite=null};Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function e(){return this._cacheAsBitmap},set:function e(t){if(this._cacheAsBitmap===t){return}this._cacheAsBitmap=t;var r=void 0;if(t){if(!this._cacheData){this._cacheData=new v}r=this._cacheData;r.originalRenderWebGL=this.renderWebGL;r.originalRenderCanvas=this.renderCanvas;r.originalUpdateTransform=this.updateTransform;r.originalCalculateBounds=this._calculateBounds;r.originalGetLocalBounds=this.getLocalBounds;r.originalDestroy=this.destroy;r.originalContainsPoint=this.containsPoint;r.originalMask=this._mask;r.originalFilterArea=this.filterArea;this.renderWebGL=this._renderCachedWebGL;this.renderCanvas=this._renderCachedCanvas;this.destroy=this._cacheAsBitmapDestroy}else{r=this._cacheData;if(r.sprite){this._destroyCachedDisplayObject()}this.renderWebGL=r.originalRenderWebGL;this.renderCanvas=r.originalRenderCanvas;this._calculateBounds=r.originalCalculateBounds;this.getLocalBounds=r.originalGetLocalBounds;this.destroy=r.originalDestroy;this.updateTransform=r.originalUpdateTransform;this.containsPoint=r.originalContainsPoint;this._mask=r.originalMask;this.filterArea=r.originalFilterArea}}}});d.prototype._renderCachedWebGL=function e(t){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObject(t);this._cacheData.sprite._transformID=-1;this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite._renderWebGL(t)};d.prototype._initCachedDisplayObject=function e(t){if(this._cacheData&&this._cacheData.sprite){return}var r=this.alpha;this.alpha=1;t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters){var a=this._filters[0].padding;n.pad(a)}var s=t._activeRenderTarget;var f=t.filterManager.filterStack;var h=i.RenderTexture.create(n.width|0,n.height|0);var c="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=c;u.default.addToCache(h.baseTexture,c);o.default.addToCache(h,c);var d=p;d.tx=-n.x;d.ty=-n.y;this.transform.worldTransform.identity();this.renderWebGL=this._cacheData.originalRenderWebGL;t.render(this,h,true,d,true);t.bindRenderTarget(s);t.filterManager.filterStack=f;this.renderWebGL=this._renderCachedWebGL;this.updateTransform=this.displayObjectUpdateTransform;this._mask=null;this.filterArea=null;var v=new i.Sprite(h);v.transform.worldTransform=this.transform.worldTransform;v.anchor.x=-(n.x/n.width);v.anchor.y=-(n.y/n.height);v.alpha=r;v._bounds=this._bounds;this._calculateBounds=this._calculateCachedBounds;this.getLocalBounds=this._getCachedLocalBounds;this._cacheData.sprite=v;this.transform._parentID=-1;if(!this.parent){this.parent=t._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this.updateTransform()}this.containsPoint=v.containsPoint.bind(v)};d.prototype._renderCachedCanvas=function e(t){if(!this.visible||this.worldAlpha<=0||!this.renderable){return}this._initCachedDisplayObjectCanvas(t);this._cacheData.sprite.worldAlpha=this.worldAlpha;this._cacheData.sprite.renderCanvas(t)};d.prototype._initCachedDisplayObjectCanvas=function e(t){if(this._cacheData&&this._cacheData.sprite){return}var r=this.getLocalBounds();var n=this.alpha;this.alpha=1;var a=t.context;var s=i.RenderTexture.create(r.width|0,r.height|0);var f="cacheAsBitmap_"+(0,l.uid)();this._cacheData.textureCacheId=f;u.default.addToCache(s.baseTexture,f);o.default.addToCache(s,f);var h=p;this.transform.localTransform.copy(h);h.invert();h.tx-=r.x;h.ty-=r.y;this.renderCanvas=this._cacheData.originalRenderCanvas;t.render(this,s,true,h,false);t.context=a;this.renderCanvas=this._renderCachedCanvas;this._calculateBounds=this._calculateCachedBounds;this._mask=null;this.filterArea=null;var c=new i.Sprite(s);c.transform.worldTransform=this.transform.worldTransform;c.anchor.x=-(r.x/r.width);c.anchor.y=-(r.y/r.height);c._bounds=this._bounds;c.alpha=n;if(!this.parent){this.parent=t._tempDisplayObjectParent;this.updateTransform();this.parent=null}else{this.updateTransform()}this.updateTransform=this.displayObjectUpdateTransform;this._cacheData.sprite=c;this.containsPoint=c.containsPoint.bind(c)};d.prototype._calculateCachedBounds=function e(){this._cacheData.sprite._calculateBounds()};d.prototype._getCachedLocalBounds=function e(){return this._cacheData.sprite.getLocalBounds()};d.prototype._destroyCachedDisplayObject=function e(){this._cacheData.sprite._texture.destroy(true);this._cacheData.sprite=null;u.default.removeFromCache(this._cacheData.textureCacheId);o.default.removeFromCache(this._cacheData.textureCacheId);this._cacheData.textureCacheId=null};d.prototype._cacheAsBitmapDestroy=function e(t){this.cacheAsBitmap=false;this.destroy(t)}},function(e,t,r){"use strict";var n=r(0);var i=a(n);function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}i.DisplayObject.prototype.name=null;i.Container.prototype.getChildByName=function e(t){for(var r=0;r<this.children.length;r++){if(this.children[r].name===t){return this.children[r]}}return null}},function(e,t,r){"use strict";var n=r(0);var i=a(n);function a(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}i.DisplayObject.prototype.getGlobalPosition=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new i.Point;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.parent){this.parent.toGlobal(this.position,t,r)}else{t.x=this.position.x;t.y=this.position.y}return t}},function(e,t,r){"use strict";t.__esModule=true;var n=r(176);Object.defineProperty(t,"FXAAFilter",{enumerable:true,get:function e(){return h(n).default}});var i=r(177);Object.defineProperty(t,"NoiseFilter",{enumerable:true,get:function e(){return h(i).default}});var a=r(178);Object.defineProperty(t,"DisplacementFilter",{enumerable:true,get:function e(){return h(a).default}});var o=r(179);Object.defineProperty(t,"BlurFilter",{enumerable:true,get:function e(){return h(o).default}});var s=r(83);Object.defineProperty(t,"BlurXFilter",{enumerable:true,get:function e(){return h(s).default}});var u=r(87);Object.defineProperty(t,"BlurYFilter",{enumerable:true,get:function e(){return h(u).default}});var l=r(180);Object.defineProperty(t,"ColorMatrixFilter",{enumerable:true,get:function e(){return h(l).default}});var f=r(181);Object.defineProperty(t,"VoidFilter",{enumerable:true,get:function e(){return h(f).default}});function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=o(n);var a=r(10);function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=function(e){l(t,e);function t(){s(this,t);return u(this,e.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return t}(i.Filter);t.default=f},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=s(i);var o=r(10);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.5;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Math.random();u(this,t);var i=l(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));i.noise=r;i.seed=n;return i}n(t,[{key:"noise",get:function e(){return this.uniforms.uNoise},set:function e(t){this.uniforms.uNoise=t}},{key:"seed",get:function e(){return this.uniforms.uSeed},set:function e(t){this.uniforms.uSeed=t}}]);return t}(a.Filter);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=s(i);var o=r(10);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(r,n){u(this,t);var i=new a.Matrix;r.renderable=false;var o=l(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));o.maskSprite=r;o.maskMatrix=i;o.uniforms.mapSampler=r._texture;o.uniforms.filterMatrix=i;o.uniforms.scale={x:1,y:1};if(n===null||n===undefined){n=20}o.scale=new a.Point(n,n);return o}t.prototype.apply=function e(t,r,n){var i=1/n.destinationFrame.width*(n.size.width/r.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite);this.uniforms.scale.x=this.scale.x*i;this.uniforms.scale.y=this.scale.y*i;t.applyFilter(this,r,n)};n(t,[{key:"map",get:function e(){return this.uniforms.mapSampler},set:function e(t){this.uniforms.mapSampler=t}}]);return t}(a.Filter);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=h(i);var o=r(83);var s=f(o);var u=r(87);var l=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function(e){p(t,e);function t(r,n,i,o){c(this,t);var u=d(this,e.call(this));u.blurXFilter=new s.default(r,n,i,o);u.blurYFilter=new l.default(r,n,i,o);u.padding=0;u.resolution=i||a.settings.RESOLUTION;u.quality=n||4;u.blur=r||8;return u}t.prototype.apply=function e(t,r,n){var i=t.getRenderTarget(true);this.blurXFilter.apply(t,r,i,true);this.blurYFilter.apply(t,i,n,false);t.returnRenderTarget(i)};n(t,[{key:"blur",get:function e(){return this.blurXFilter.blur},set:function e(t){this.blurXFilter.blur=this.blurYFilter.blur=t;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"quality",get:function e(){return this.blurXFilter.quality},set:function e(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function e(){return this.blurXFilter.blur},set:function e(t){this.blurXFilter.blur=t;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blurY",get:function e(){return this.blurYFilter.blur},set:function e(t){this.blurYFilter.blur=t;this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}},{key:"blendMode",get:function e(){return this.blurYFilter._blendMode},set:function e(t){this.blurYFilter._blendMode=t}}]);return t}(a.Filter);t.default=v},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=s(i);var o=r(10);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){u(this,t);var r=l(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));r.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];r.alpha=1;return r}t.prototype._loadMatrix=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=t;if(r){this._multiply(n,this.uniforms.m,t);n=this._colorMatrix(n)}this.uniforms.m=n};t.prototype._multiply=function e(t,r,n){t[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15];t[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16];t[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17];t[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18];t[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4];t[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15];t[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16];t[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17];t[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18];t[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9];t[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15];t[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16];t[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17];t[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18];t[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14];t[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15];t[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16];t[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17];t[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18];t[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19];return t};t.prototype._colorMatrix=function e(t){var r=new Float32Array(t);r[4]/=255;r[9]/=255;r[14]/=255;r[19]/=255;return r};t.prototype.brightness=function e(t,r){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)};t.prototype.greyscale=function e(t,r){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)};t.prototype.blackAndWhite=function e(t){var r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.hue=function e(t,r){t=(t||0)/180*Math.PI;var n=Math.cos(t);var i=Math.sin(t);var a=Math.sqrt;var o=1/3;var s=a(o);var u=n+(1-n)*o;var l=o*(1-n)-s*i;var f=o*(1-n)+s*i;var h=o*(1-n)+s*i;var c=n+o*(1-n);var d=o*(1-n)-s*i;var p=o*(1-n)-s*i;var v=o*(1-n)+s*i;var y=n+o*(1-n);var g=[u,l,f,0,0,h,c,d,0,0,p,v,y,0,0,0,0,0,1,0];this._loadMatrix(g,r)};t.prototype.contrast=function e(t,r){var n=(t||0)+1;var i=-.5*(n-1);var a=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(a,r)};t.prototype.saturate=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments[1];var n=t*2/3+1;var i=(n-1)*-.5;var a=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(a,r)};t.prototype.desaturate=function e(){this.saturate(-1)};t.prototype.negative=function e(t){var r=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.sepia=function e(t){var r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.technicolor=function e(t){var r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.polaroid=function e(t){var r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.toBGR=function e(t){var r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.kodachrome=function e(t){var r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.browni=function e(t){var r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.vintage=function e(t){var r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.colorTone=function e(t,r,n,i,a){t=t||.2;r=r||.15;n=n||16770432;i=i||3375104;var o=(n>>16&255)/255;var s=(n>>8&255)/255;var u=(n&255)/255;var l=(i>>16&255)/255;var f=(i>>8&255)/255;var h=(i&255)/255;var c=[.3,.59,.11,0,0,o,s,u,t,0,l,f,h,r,0,o-l,s-f,u-h,0,0];this._loadMatrix(c,a)};t.prototype.night=function e(t,r){t=t||.1;var n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)};t.prototype.predator=function e(t,r){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,r)};t.prototype.lsd=function e(t){var r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,t)};t.prototype.reset=function e(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,false)};n(t,[{key:"matrix",get:function e(){return this.uniforms.m},set:function e(t){this.uniforms.m=t}},{key:"alpha",get:function e(){return this.uniforms.uAlpha},set:function e(t){this.uniforms.uAlpha=t}}]);return t}(a.Filter);t.default=h;h.prototype.grayscale=h.prototype.greyscale},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=o(n);var a=r(10);function o(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=function(e){l(t,e);function t(){s(this,t);var r=u(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));r.glShaderKey="void";return r}return t}(i.Filter);t.default=f},function(e,t,r){"use strict";t.__esModule=true;var n=r(88);Object.defineProperty(t,"InteractionData",{enumerable:true,get:function e(){return u(n).default}});var i=r(183);Object.defineProperty(t,"InteractionManager",{enumerable:true,get:function e(){return u(i).default}});var a=r(91);Object.defineProperty(t,"interactiveTarget",{enumerable:true,get:function e(){return u(a).default}});var o=r(90);Object.defineProperty(t,"InteractionTrackingData",{enumerable:true,get:function e(){return u(o).default}});var s=r(89);Object.defineProperty(t,"InteractionEvent",{enumerable:true,get:function e(){return u(s).default}});function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=r(0);var a=g(i);var o=r(88);var s=y(o);var u=r(89);var l=y(u);var f=r(90);var h=y(f);var c=r(12);var d=y(c);var p=r(91);var v=y(p);function y(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}a.utils.mixins.delayMixin(a.DisplayObject.prototype,v.default);var x="MOUSE";var T={target:null,data:{global:null}};var w=function(e){b(t,e);function t(r,n){_(this,t);var i=m(this,e.call(this));n=n||{};i.renderer=r;i.autoPreventDefault=n.autoPreventDefault!==undefined?n.autoPreventDefault:true;i.interactionFrequency=n.interactionFrequency||10;i.mouse=new s.default;i.mouse.identifier=x;i.mouse.global.set(-999999);i.activeInteractionData={};i.activeInteractionData[x]=i.mouse;i.interactionDataPool=[];i.eventData=new l.default;i.interactionDOMElement=null;i.moveWhenInside=false;i.eventsAdded=false;i.mouseOverRenderer=false;i.supportsTouchEvents="ontouchstart"in window;i.supportsPointerEvents=!!window.PointerEvent;i.onPointerUp=i.onPointerUp.bind(i);i.processPointerUp=i.processPointerUp.bind(i);i.onPointerCancel=i.onPointerCancel.bind(i);i.processPointerCancel=i.processPointerCancel.bind(i);i.onPointerDown=i.onPointerDown.bind(i);i.processPointerDown=i.processPointerDown.bind(i);i.onPointerMove=i.onPointerMove.bind(i);i.processPointerMove=i.processPointerMove.bind(i);i.onPointerOut=i.onPointerOut.bind(i);i.processPointerOverOut=i.processPointerOverOut.bind(i);i.onPointerOver=i.onPointerOver.bind(i);i.cursorStyles={default:"inherit",pointer:"pointer"};i.currentCursorMode=null;i.cursor=null;i._tempPoint=new a.Point;i.resolution=1;i.setTargetElement(i.renderer.view,i.renderer.resolution);return i}t.prototype.hitTest=function e(t,r){T.target=null;T.data.global=t;if(!r){r=this.renderer._lastObjectRendered}this.processInteractive(T,r,null,true);return T.target};t.prototype.setTargetElement=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;this.removeEvents();this.interactionDOMElement=t;this.resolution=r;this.addEvents()};t.prototype.addEvents=function e(){if(!this.interactionDOMElement){return}a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.INTERACTION);if(window.navigator.msPointerEnabled){this.interactionDOMElement.style["-ms-content-zooming"]="none";this.interactionDOMElement.style["-ms-touch-action"]="none"}else if(this.supportsPointerEvents){this.interactionDOMElement.style["touch-action"]="none"}if(this.supportsPointerEvents){window.document.addEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,true);window.addEventListener("pointercancel",this.onPointerCancel,true);window.addEventListener("pointerup",this.onPointerUp,true)}else{window.document.addEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,true);window.addEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,true)}this.eventsAdded=true};t.prototype.removeEvents=function e(){if(!this.interactionDOMElement){return}a.ticker.shared.remove(this.update,this);if(window.navigator.msPointerEnabled){this.interactionDOMElement.style["-ms-content-zooming"]="";this.interactionDOMElement.style["-ms-touch-action"]=""}else if(this.supportsPointerEvents){this.interactionDOMElement.style["touch-action"]=""}if(this.supportsPointerEvents){window.document.removeEventListener("pointermove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,true);window.removeEventListener("pointercancel",this.onPointerCancel,true);window.removeEventListener("pointerup",this.onPointerUp,true)}else{window.document.removeEventListener("mousemove",this.onPointerMove,true);this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,true);this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,true);window.removeEventListener("mouseup",this.onPointerUp,true)}if(this.supportsTouchEvents){this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,true);this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,true);this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,true);this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,true)}this.interactionDOMElement=null;this.eventsAdded=false};t.prototype.update=function e(t){this._deltaTime+=t;if(this._deltaTime<this.interactionFrequency){return}this._deltaTime=0;if(!this.interactionDOMElement){return}if(this.didMove){this.didMove=false;return}this.cursor=null;for(var r in this.activeInteractionData){if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,true)}}}this.setCursorMode(this.cursor)};t.prototype.setCursorMode=function e(t){t=t||"default";if(this.currentCursorMode===t){return}this.currentCursorMode=t;var r=this.cursorStyles[t];if(r){switch(typeof r==="undefined"?"undefined":n(r)){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(t);break;case"object":Object.assign(this.interactionDOMElement.style,r);break}}else if(typeof t==="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)){this.interactionDOMElement.style.cursor=t}};t.prototype.dispatchEvent=function e(t,r,n){if(!n.stopped){n.currentTarget=t;n.type=r;t.emit(r,n);if(t[r]){t[r](n)}}};t.prototype.mapPositionToPoint=function e(t,r,n){var i=void 0;if(!this.interactionDOMElement.parentElement){i={x:0,y:0,width:0,height:0}}else{i=this.interactionDOMElement.getBoundingClientRect()}var a=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(r-i.left)*(this.interactionDOMElement.width/i.width)*a;t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*a};t.prototype.processInteractive=function e(t,r,n,i,a){if(!r||!r.visible){return false}var o=t.data.global;a=r.interactive||a;var s=false;var u=a;if(r.hitArea){u=false}else if(i&&r._mask){if(!r._mask.containsPoint(o)){i=false}}if(r.interactiveChildren&&r.children){var l=r.children;for(var f=l.length-1;f>=0;f--){var h=l[f];var c=this.processInteractive(t,h,n,i,u);if(c){if(!h.parent){continue}u=false;if(c){if(t.target){i=false}s=true}}}}if(a){if(i&&!t.target){if(r.hitArea){r.worldTransform.applyInverse(o,this._tempPoint);if(r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)){s=true}}else if(r.containsPoint){if(r.containsPoint(o)){s=true}}}if(r.interactive){if(s&&!t.target){t.target=r}if(n){n(t,r,!!s)}}}return s};t.prototype.onPointerDown=function e(t){if(this.supportsTouchEvents&&t.pointerType==="touch")return;var r=this.normalizeToPointerData(t);if(this.autoPreventDefault&&r[0].isNormalized){t.preventDefault()}var n=r.length;for(var i=0;i<n;i++){var a=r[i];var o=this.getInteractionDataForPointerId(a);var s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=t;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,true);this.emit("pointerdown",s);if(a.pointerType==="touch"){this.emit("touchstart",s)}else if(a.pointerType==="mouse"||a.pointerType==="pen"){var u=a.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}};t.prototype.processPointerDown=function e(t,r,n){var i=t.data;var a=t.data.identifier;if(n){if(!r.trackedPointers[a]){r.trackedPointers[a]=new h.default(a)}this.dispatchEvent(r,"pointerdown",t);if(i.pointerType==="touch"){this.dispatchEvent(r,"touchstart",t)}else if(i.pointerType==="mouse"||i.pointerType==="pen"){var o=i.button===2;if(o){r.trackedPointers[a].rightDown=true}else{r.trackedPointers[a].leftDown=true}this.dispatchEvent(r,o?"rightdown":"mousedown",t)}}};t.prototype.onPointerComplete=function e(t,r,n){var i=this.normalizeToPointerData(t);var a=i.length;var o=t.target!==this.interactionDOMElement?"outside":"";for(var s=0;s<a;s++){var u=i[s];var l=this.getInteractionDataForPointerId(u);var f=this.configureInteractionEventForDOMEvent(this.eventData,u,l);f.data.originalEvent=t;this.processInteractive(f,this.renderer._lastObjectRendered,n,r||!o);this.emit(r?"pointercancel":"pointerup"+o,f);if(u.pointerType==="mouse"||u.pointerType==="pen"){var h=u.button===2;this.emit(h?"rightup"+o:"mouseup"+o,f)}else if(u.pointerType==="touch"){this.emit(r?"touchcancel":"touchend"+o,f);this.releaseInteractionDataForPointerId(u.pointerId,l)}}};t.prototype.onPointerCancel=function e(t){if(this.supportsTouchEvents&&t.pointerType==="touch")return;this.onPointerComplete(t,true,this.processPointerCancel)};t.prototype.processPointerCancel=function e(t,r){var n=t.data;var i=t.data.identifier;if(r.trackedPointers[i]!==undefined){delete r.trackedPointers[i];this.dispatchEvent(r,"pointercancel",t);if(n.pointerType==="touch"){this.dispatchEvent(r,"touchcancel",t)}}};t.prototype.onPointerUp=function e(t){if(this.supportsTouchEvents&&t.pointerType==="touch")return;this.onPointerComplete(t,false,this.processPointerUp)};t.prototype.processPointerUp=function e(t,r,n){var i=t.data;var a=t.data.identifier;var o=r.trackedPointers[a];var s=i.pointerType==="touch";var u=i.pointerType==="mouse"||i.pointerType==="pen";if(u){var l=i.button===2;var f=h.default.FLAGS;var c=l?f.RIGHT_DOWN:f.LEFT_DOWN;var d=o!==undefined&&o.flags&c;if(n){this.dispatchEvent(r,l?"rightup":"mouseup",t);if(d){this.dispatchEvent(r,l?"rightclick":"click",t)}}else if(d){this.dispatchEvent(r,l?"rightupoutside":"mouseupoutside",t)}if(o){if(l){o.rightDown=false}else{o.leftDown=false}}}if(n){this.dispatchEvent(r,"pointerup",t);if(s)this.dispatchEvent(r,"touchend",t);if(o){this.dispatchEvent(r,"pointertap",t);if(s){this.dispatchEvent(r,"tap",t);o.over=false}}}else if(o){this.dispatchEvent(r,"pointerupoutside",t);if(s)this.dispatchEvent(r,"touchendoutside",t)}if(o&&o.none){delete r.trackedPointers[a]}};t.prototype.onPointerMove=function e(t){if(this.supportsTouchEvents&&t.pointerType==="touch")return;var r=this.normalizeToPointerData(t);if(r[0].pointerType==="mouse"){this.didMove=true;this.cursor=null}var n=r.length;for(var i=0;i<n;i++){var a=r[i];var o=this.getInteractionDataForPointerId(a);var s=this.configureInteractionEventForDOMEvent(this.eventData,a,o);s.data.originalEvent=t;var u=a.pointerType==="touch"?this.moveWhenInside:true;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,u);this.emit("pointermove",s);if(a.pointerType==="touch")this.emit("touchmove",s);if(a.pointerType==="mouse"||a.pointerType==="pen")this.emit("mousemove",s)}if(r[0].pointerType==="mouse"){this.setCursorMode(this.cursor)}};t.prototype.processPointerMove=function e(t,r,n){var i=t.data;var a=i.pointerType==="touch";var o=i.pointerType==="mouse"||i.pointerType==="pen";if(o){this.processPointerOverOut(t,r,n)}if(!this.moveWhenInside||n){this.dispatchEvent(r,"pointermove",t);if(a)this.dispatchEvent(r,"touchmove",t);if(o)this.dispatchEvent(r,"mousemove",t)}};t.prototype.onPointerOut=function e(t){if(this.supportsTouchEvents&&t.pointerType==="touch")return;var r=this.normalizeToPointerData(t);var n=r[0];if(n.pointerType==="mouse"){this.mouseOverRenderer=false;this.setCursorMode(null)}var i=this.getInteractionDataForPointerId(n);var a=this.configureInteractionEventForDOMEvent(this.eventData,n,i);a.data.originalEvent=n;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerOverOut,false);this.emit("pointerout",a);if(n.pointerType==="mouse"||n.pointerType==="pen"){this.emit("mouseout",a)}else{this.releaseInteractionDataForPointerId(i.identifier)}};t.prototype.processPointerOverOut=function e(t,r,n){var i=t.data;var a=t.data.identifier;var o=i.pointerType==="mouse"||i.pointerType==="pen";var s=r.trackedPointers[a];if(n&&!s){s=r.trackedPointers[a]=new h.default(a)}if(s===undefined)return;if(n&&this.mouseOverRenderer){if(!s.over){s.over=true;this.dispatchEvent(r,"pointerover",t);if(o){this.dispatchEvent(r,"mouseover",t)}}if(o&&this.cursor===null){this.cursor=r.cursor}}else if(s.over){s.over=false;this.dispatchEvent(r,"pointerout",this.eventData);if(o){this.dispatchEvent(r,"mouseout",t)}if(s.none){delete r.trackedPointers[a]}}};t.prototype.onPointerOver=function e(t){var r=this.normalizeToPointerData(t);var n=r[0];var i=this.getInteractionDataForPointerId(n);var a=this.configureInteractionEventForDOMEvent(this.eventData,n,i);a.data.originalEvent=n;if(n.pointerType==="mouse"){this.mouseOverRenderer=true}this.emit("pointerover",a);if(n.pointerType==="mouse"||n.pointerType==="pen"){this.emit("mouseover",a)}};t.prototype.getInteractionDataForPointerId=function e(t){var r=t.pointerId;var n=void 0;if(r===x||t.pointerType==="mouse"){n=this.mouse}else if(this.activeInteractionData[r]){n=this.activeInteractionData[r]}else{n=this.interactionDataPool.pop()||new s.default;n.identifier=r;this.activeInteractionData[r]=n}n._copyEvent(t);return n};t.prototype.releaseInteractionDataForPointerId=function e(t){var r=this.activeInteractionData[t];if(r){delete this.activeInteractionData[t];r._reset();this.interactionDataPool.push(r)}};t.prototype.configureInteractionEventForDOMEvent=function e(t,r,n){t.data=n;this.mapPositionToPoint(n.global,r.clientX,r.clientY);if(navigator.isCocoonJS&&r.pointerType==="touch"){n.global.x=n.global.x/this.resolution;n.global.y=n.global.y/this.resolution}if(r.pointerType==="touch"){r.globalX=n.global.x;r.globalY=n.global.y}n.originalEvent=r;t._reset();return t};t.prototype.normalizeToPointerData=function e(t){var r=[];if(this.supportsTouchEvents&&t instanceof TouchEvent){for(var n=0,i=t.changedTouches.length;n<i;n++){var a=t.changedTouches[n];if(typeof a.button==="undefined")a.button=t.touches.length?1:0;if(typeof a.buttons==="undefined")a.buttons=t.touches.length?1:0;if(typeof a.isPrimary==="undefined"){a.isPrimary=t.touches.length===1&&t.type==="touchstart"}if(typeof a.width==="undefined")a.width=a.radiusX||1;if(typeof a.height==="undefined")a.height=a.radiusY||1;if(typeof a.tiltX==="undefined")a.tiltX=0;if(typeof a.tiltY==="undefined")a.tiltY=0;if(typeof a.pointerType==="undefined")a.pointerType="touch";if(typeof a.pointerId==="undefined")a.pointerId=a.identifier||0;if(typeof a.pressure==="undefined")a.pressure=a.force||.5;a.twist=0;a.tangentialPressure=0;if(typeof a.layerX==="undefined")a.layerX=a.offsetX=a.clientX;if(typeof a.layerY==="undefined")a.layerY=a.offsetY=a.clientY;a.isNormalized=true;r.push(a)}}else if(t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof window.PointerEvent))){if(typeof t.isPrimary==="undefined")t.isPrimary=true;if(typeof t.width==="undefined")t.width=1;if(typeof t.height==="undefined")t.height=1;if(typeof t.tiltX==="undefined")t.tiltX=0;if(typeof t.tiltY==="undefined")t.tiltY=0;if(typeof t.pointerType==="undefined")t.pointerType="mouse";if(typeof t.pointerId==="undefined")t.pointerId=x;if(typeof t.pressure==="undefined")t.pressure=.5;t.twist=0;t.tangentialPressure=0;t.isNormalized=true;r.push(t)}else{r.push(t)}return r};t.prototype.destroy=function e(){this.removeEvents();this.removeAllListeners();this.renderer=null;this.mouse=null;this.eventData=null;this.interactionDOMElement=null;this.onPointerDown=null;this.processPointerDown=null;this.onPointerUp=null;this.processPointerUp=null;this.onPointerCancel=null;this.processPointerCancel=null;this.onPointerMove=null;this.processPointerMove=null;this.onPointerOut=null;this.processPointerOverOut=null;this.onPointerOver=null;this._tempPoint=null};return t}(d.default);t.default=w;a.WebGLRenderer.registerPlugin("interaction",w);a.CanvasRenderer.registerPlugin("interaction",w)},function(e,t,r){"use strict";t.__esModule=true;t.shared=t.Resource=t.textureParser=t.getResourcePath=t.spritesheetParser=t.parseBitmapFontData=t.bitmapFontParser=t.Loader=undefined;var n=r(92);Object.defineProperty(t,"bitmapFontParser",{enumerable:true,get:function e(){return h(n).default}});Object.defineProperty(t,"parseBitmapFontData",{enumerable:true,get:function e(){return n.parse}});var i=r(97);Object.defineProperty(t,"spritesheetParser",{enumerable:true,get:function e(){return h(i).default}});Object.defineProperty(t,"getResourcePath",{enumerable:true,get:function e(){return i.getResourcePath}});var a=r(98);Object.defineProperty(t,"textureParser",{enumerable:true,get:function e(){return h(a).default}});var o=r(22);Object.defineProperty(t,"Resource",{enumerable:true,get:function e(){return o.Resource}});var s=r(79);var u=h(s);var l=r(186);var f=h(l);function h(e){return e&&e.__esModule?e:{default:e}}t.Loader=f.default;var c=new f.default;c.destroy=function(){};t.shared=c;var d=u.default.prototype;d._loader=null;Object.defineProperty(d,"loader",{get:function e(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new f.default}return this._loader}});d._parentDestroy=d.destroy;d.destroy=function e(t){if(this._loader){this._loader.destroy();this._loader=null}this._parentDestroy(t)}},function(e,t,r){"use strict";t.__esModule=true;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=r(93);var a=d(i);var o=r(94);var s=d(o);var u=r(95);var l=c(u);var f=r(47);var h=d(f);function c(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var v=100;var y=/(#[\w-]+)?$/;var g=function(){function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;p(this,e);this.baseUrl=r;this.progress=0;this.loading=false;this.defaultQueryString="";this._beforeMiddleware=[];this._afterMiddleware=[];this._resourcesParsing=[];this._boundLoadResource=function(e,r){return t._loadResource(e,r)};this._queue=l.queue(this._boundLoadResource,n);this._queue.pause();this.resources={};this.onProgress=new a.default;this.onError=new a.default;this.onLoad=new a.default;this.onStart=new a.default;this.onComplete=new a.default}e.prototype.add=function e(t,r,i,a){if(Array.isArray(t)){for(var o=0;o<t.length;++o){this.add(t[o])}return this}if((typeof t==="undefined"?"undefined":n(t))==="object"){a=r||t.callback||t.onComplete;i=t;r=t.url;t=t.name||t.key||t.url}if(typeof r!=="string"){a=i;i=r;r=t}if(typeof r!=="string"){throw new Error("No url passed to add resource to loader.")}if(typeof i==="function"){a=i;i=null}if(this.loading&&(!i||!i.parentResource)){throw new Error("Cannot add resources while the loader is running.")}if(this.resources[t]){throw new Error('Resource named "'+t+'" already exists.')}r=this._prepareUrl(r);this.resources[t]=new h.default(t,r,i);if(typeof a==="function"){this.resources[t].onAfterMiddleware.once(a)}if(this.loading){var s=i.parentResource;var u=[];for(var l=0;l<s.children.length;++l){if(!s.children[l].isComplete){u.push(s.children[l])}}var f=s.progressChunk*(u.length+1);var c=f/(u.length+2);s.children.push(this.resources[t]);s.progressChunk=c;for(var d=0;d<u.length;++d){u[d].progressChunk=c}this.resources[t].progressChunk=c}this._queue.push(this.resources[t]);return this};e.prototype.pre=function e(t){this._beforeMiddleware.push(t);return this};e.prototype.use=function e(t){this._afterMiddleware.push(t);return this};e.prototype.reset=function e(){this.progress=0;this.loading=false;this._queue.kill();this._queue.pause();for(var t in this.resources){var r=this.resources[t];if(r._onLoadBinding){r._onLoadBinding.detach()}if(r.isLoading){r.abort()}}this.resources={};return this};e.prototype.load=function e(t){if(typeof t==="function"){this.onComplete.once(t)}if(this.loading){return this}var r=100/this._queue._tasks.length;for(var n=0;n<this._queue._tasks.length;++n){this._queue._tasks[n].data.progressChunk=r}this.loading=true;this.onStart.dispatch(this);this._queue.resume();return this};e.prototype._prepareUrl=function e(t){var r=(0,s.default)(t,{strictMode:true});var n=void 0;if(r.protocol||!r.path||t.indexOf("//")===0){n=t}else if(this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"){n=this.baseUrl+"/"+t}else{n=this.baseUrl+t}if(this.defaultQueryString){var i=y.exec(n)[0];n=n.substr(0,n.length-i.length);if(n.indexOf("?")!==-1){n+="&"+this.defaultQueryString}else{n+="?"+this.defaultQueryString}n+=i}return n};e.prototype._loadResource=function e(t,r){var n=this;t._dequeue=r;l.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){if(t.isComplete){n._onLoad(t)}else{t._onLoadBinding=t.onComplete.once(n._onLoad,n);t.load()}},true)};e.prototype._onComplete=function e(){this.loading=false;this.onComplete.dispatch(this,this.resources)};e.prototype._onLoad=function e(t){var r=this;t._onLoadBinding=null;this._resourcesParsing.push(t);t._dequeue();l.eachSeries(this._afterMiddleware,function(e,n){e.call(r,t,n)},function(){t.onAfterMiddleware.dispatch(t);r.progress+=t.progressChunk;r.onProgress.dispatch(r,t);if(t.error){r.onError.dispatch(t.error,r,t)}else{r.onLoad.dispatch(r,t)}r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1);if(r._queue.idle()&&r._resourcesParsing.length===0){r.progress=v;r._onComplete()}},true)};return e}();t.default=g},function(e,t,r){"use strict";t.__esModule=true;var n=r(22);var i=p(n);var a=r(187);var o=r(12);var s=p(o);var u=r(98);var l=p(u);var f=r(97);var h=p(f);var c=r(92);var d=p(c);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var _=function(e){g(t,e);function t(r,n){v(this,t);var i=y(this,e.call(this,r,n));s.default.call(i);for(var a=0;a<t._pixiMiddleware.length;++a){i.use(t._pixiMiddleware[a]())}i.onStart.add(function(e){return i.emit("start",e)});i.onProgress.add(function(e,t){return i.emit("progress",e,t)});i.onError.add(function(e,t,r){return i.emit("error",e,t,r)});i.onLoad.add(function(e,t){return i.emit("load",e,t)});i.onComplete.add(function(e,t){return i.emit("complete",e,t)});return i}t.addPixiMiddleware=function e(r){t._pixiMiddleware.push(r)};t.prototype.destroy=function e(){this.removeAllListeners();this.reset()};return t}(i.default);t.default=_;for(var m in s.default.prototype){_.prototype[m]=s.default.prototype[m]}_._pixiMiddleware=[a.blobMiddlewareFactory,l.default,h.default,d.default];var b=i.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},function(e,t,r){"use strict";t.__esModule=true;var n=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.blobMiddlewareFactory=f;var i=r(47);var a=u(i);var o=r(96);var s=u(o);function u(e){return e&&e.__esModule?e:{default:e}}var l=window.URL||window.webkitURL;function f(){return function e(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===a.default.XHR_RESPONSE_TYPE.BLOB){if(!window.Blob||typeof t.data==="string"){var i=t.xhr.getResponseHeader("content-type");if(i&&i.indexOf("image")===0){t.data=new Image;t.data.src="data:"+i+";base64,"+s.default.encodeBinary(t.xhr.responseText);t.type=a.default.TYPE.IMAGE;t.data.onload=function(){t.data.onload=null;r()};return}}else if(t.data.type.indexOf("image")===0){var o=function(){var e=l.createObjectURL(t.data);t.blob=t.data;t.data=new Image;t.data.src=e;t.type=a.default.TYPE.IMAGE;t.data.onload=function(){l.revokeObjectURL(e);t.data.onload=null;r()};return{v:void 0}}();if((typeof o==="undefined"?"undefined":n(o))==="object")return o.v}}r()}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(23);Object.defineProperty(t,"Mesh",{enumerable:true,get:function e(){return l(n).default}});var i=r(189);Object.defineProperty(t,"MeshRenderer",{enumerable:true,get:function e(){return l(i).default}});var a=r(190);Object.defineProperty(t,"CanvasMeshRenderer",{enumerable:true,get:function e(){return l(a).default}});var o=r(99);Object.defineProperty(t,"Plane",{enumerable:true,get:function e(){return l(o).default}});var s=r(191);Object.defineProperty(t,"NineSlicePlane",{enumerable:true,get:function e(){return l(s).default}});var u=r(192);Object.defineProperty(t,"Rope",{enumerable:true,get:function e(){return l(u).default}});function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=h(n);var a=r(5);var o=f(a);var s=r(23);var u=f(s);var l=r(10);function f(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=i.Matrix.IDENTITY;var y=function(e){p(t,e);function t(r){c(this,t);var n=d(this,e.call(this,r));n.shader=null;return n}t.prototype.onContextChange=function e(){var t=this.renderer.gl;this.shader=new i.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")};t.prototype.render=function e(t){var r=this.renderer;var n=r.gl;var a=t._texture;if(!a.valid){return}var s=t._glDatas[r.CONTEXT_UID];if(!s){r.bindVao(null);s={shader:this.shader,vertexBuffer:o.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:o.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:o.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty};s.vao=new o.default.VertexArrayObject(n).addIndex(s.indexBuffer).addAttribute(s.vertexBuffer,s.shader.attributes.aVertexPosition,n.FLOAT,false,2*4,0).addAttribute(s.uvBuffer,s.shader.attributes.aTextureCoord,n.FLOAT,false,2*4,0);t._glDatas[r.CONTEXT_UID]=s}r.bindVao(s.vao);if(t.dirty!==s.dirty){s.dirty=t.dirty;s.uvBuffer.upload(t.uvs)}if(t.indexDirty!==s.indexDirty){s.indexDirty=t.indexDirty;s.indexBuffer.upload(t.indices)}s.vertexBuffer.upload(t.vertices);r.bindShader(s.shader);s.shader.uniforms.uSampler=r.bindTexture(a);r.state.setBlendMode(i.utils.correctBlendMode(t.blendMode,a.baseTexture.premultipliedAlpha));if(s.shader.uniforms.uTransform){if(t.uploadUvTransform){s.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(true)}else{s.shader.uniforms.uTransform=v.toArray(true)}}s.shader.uniforms.translationMatrix=t.worldTransform.toArray(true);s.shader.uniforms.uColor=i.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,s.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var l=t.drawMode===u.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;s.vao.draw(l,t.indices.length,0)};return t}(i.ObjectRenderer);t.default=y;i.WebGLRenderer.registerPlugin("mesh",y)},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=u(n);var a=r(23);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function e(t){l(this,e);this.renderer=t}e.prototype.render=function e(t){var r=this.renderer;var n=r.context;var i=t.worldTransform;var a=r.resolution;if(r.roundPixels){n.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a|0,i.ty*a|0)}else{n.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a,i.ty*a)}r.setBlendMode(t.blendMode);if(t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH){this._renderTriangleMesh(t)}else{this._renderTriangles(t)}};e.prototype._renderTriangleMesh=function e(t){var r=t.vertices.length/2;for(var n=0;n<r-2;n++){var i=n*2;this._renderDrawTriangle(t,i,i+2,i+4)}};e.prototype._renderTriangles=function e(t){var r=t.indices;var n=r.length;for(var i=0;i<n;i+=3){var a=r[i]*2;var o=r[i+1]*2;var s=r[i+2]*2;this._renderDrawTriangle(t,a,o,s)}};e.prototype._renderDrawTriangle=function e(t,r,n,i){var a=this.renderer.context;var o=t.uvs;var s=t.vertices;var u=t._texture;if(!u.valid){return}var l=u.baseTexture;var f=l.source;var h=l.width;var c=l.height;var d=void 0;var p=void 0;var v=void 0;var y=void 0;var g=void 0;var _=void 0;if(t.uploadUvTransform){var m=t._uvTransform.mapCoord;d=(o[r]*m.a+o[r+1]*m.c+m.tx)*l.width;p=(o[n]*m.a+o[n+1]*m.c+m.tx)*l.width;v=(o[i]*m.a+o[i+1]*m.c+m.tx)*l.width;y=(o[r]*m.b+o[r+1]*m.d+m.ty)*l.height;g=(o[n]*m.b+o[n+1]*m.d+m.ty)*l.height;_=(o[i]*m.b+o[i+1]*m.d+m.ty)*l.height}else{d=o[r]*l.width;p=o[n]*l.width;v=o[i]*l.width;y=o[r+1]*l.height;g=o[n+1]*l.height;_=o[i+1]*l.height}var b=s[r];var x=s[n];var T=s[i];var w=s[r+1];var E=s[n+1];var O=s[i+1];if(t.canvasPadding>0){var S=t.canvasPadding/t.worldTransform.a;var P=t.canvasPadding/t.worldTransform.d;var M=(b+x+T)/3;var C=(w+E+O)/3;var R=b-M;var A=w-C;var I=Math.sqrt(R*R+A*A);b=M+R/I*(I+S);w=C+A/I*(I+P);R=x-M;A=E-C;I=Math.sqrt(R*R+A*A);x=M+R/I*(I+S);E=C+A/I*(I+P);R=T-M;A=O-C;I=Math.sqrt(R*R+A*A);T=M+R/I*(I+S);O=C+A/I*(I+P)}a.save();a.beginPath();a.moveTo(b,w);a.lineTo(x,E);a.lineTo(T,O);a.closePath();a.clip();var D=d*g+y*v+p*_-g*v-y*p-d*_;var L=b*g+y*T+x*_-g*T-y*x-b*_;var j=d*x+b*v+p*T-x*v-b*p-d*T;var k=d*g*T+y*x*v+b*p*_-b*g*v-y*p*T-d*x*_;var N=w*g+y*O+E*_-g*O-y*E-w*_;var F=d*E+w*v+p*O-E*v-w*p-d*O;var B=d*g*O+y*E*v+w*p*_-w*g*v-y*p*O-d*E*_;a.transform(L/D,N/D,j/D,F/D,k/D,B/D);a.drawImage(f,0,0,h*l.resolution,c*l.resolution,0,0,h,c);a.restore()};e.prototype.renderMeshFlat=function e(t){var r=this.renderer.context;var n=t.vertices;var i=n.length/2;r.beginPath();for(var a=1;a<i-2;++a){var o=a*2;var s=n[o];var u=n[o+1];var l=n[o+2];var f=n[o+3];var h=n[o+4];var c=n[o+5];r.moveTo(s,u);r.lineTo(l,f);r.lineTo(h,c)}r.fillStyle="#FF0000";r.fill();r.closePath()};e.prototype.destroy=function e(){this.renderer=null};return e}();t.default=f;i.CanvasRenderer.registerPlugin("mesh",f)},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(99);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=10;var h=function(e){l(t,e);function t(r,n,i,a,o){s(this,t);var l=u(this,e.call(this,r,4,4));l._origWidth=r.orig.width;l._origHeight=r.orig.height;l._width=l._origWidth;l._height=l._origHeight;l.leftWidth=typeof n!=="undefined"?n:f;l.rightWidth=typeof a!=="undefined"?a:f;l.topHeight=typeof i!=="undefined"?i:f;l.bottomHeight=typeof o!=="undefined"?o:f;l.refresh(true);return l}t.prototype.updateHorizontalVertices=function e(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight;t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight;t[25]=t[27]=t[29]=t[31]=this._height};t.prototype.updateVerticalVertices=function e(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth;t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth;t[6]=t[14]=t[22]=t[30]=this._width};t.prototype._renderCanvas=function e(t){var r=t.context;r.globalAlpha=this.worldAlpha;var n=this.worldTransform;var i=t.resolution;if(t.roundPixels){r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i|0,n.ty*i|0)}else{r.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,n.tx*i,n.ty*i)}var a=this._texture.baseTexture;var o=a.source;var s=a.width;var u=a.height;this.drawSegment(r,o,s,u,0,1,10,11);this.drawSegment(r,o,s,u,2,3,12,13);this.drawSegment(r,o,s,u,4,5,14,15);this.drawSegment(r,o,s,u,8,9,18,19);this.drawSegment(r,o,s,u,10,11,20,21);this.drawSegment(r,o,s,u,12,13,22,23);this.drawSegment(r,o,s,u,16,17,26,27);this.drawSegment(r,o,s,u,18,19,28,29);this.drawSegment(r,o,s,u,20,21,30,31)};t.prototype.drawSegment=function e(t,r,n,i,a,o,s,u){var l=this.uvs;var f=this.vertices;var h=(l[s]-l[a])*n;var c=(l[u]-l[o])*i;var d=f[s]-f[a];var p=f[u]-f[o];if(h<1){h=1}if(c<1){c=1}if(d<1){d=1}if(p<1){p=1}t.drawImage(r,l[a]*n,l[o]*i,h,c,f[a],f[o],d,p)};t.prototype._refresh=function t(){e.prototype._refresh.call(this);var r=this.uvs;var n=this._texture;this._origWidth=n.orig.width;this._origHeight=n.orig.height;var i=1/this._origWidth;var a=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0;r[1]=r[3]=r[5]=r[7]=0;r[6]=r[14]=r[22]=r[30]=1;r[25]=r[27]=r[29]=r[31]=1;r[2]=r[10]=r[18]=r[26]=i*this._leftWidth;r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth;r[9]=r[11]=r[13]=r[15]=a*this._topHeight;r[17]=r[19]=r[21]=r[23]=1-a*this._bottomHeight;this.updateHorizontalVertices();this.updateVerticalVertices();this.dirty=true;this.multiplyUvs()};n(t,[{key:"width",get:function e(){return this._width},set:function e(t){this._width=t;this._refresh()}},{key:"height",get:function e(){return this._height},set:function e(t){this._height=t;this._refresh()}},{key:"leftWidth",get:function e(){return this._leftWidth},set:function e(t){this._leftWidth=t;this._refresh()}},{key:"rightWidth",get:function e(){return this._rightWidth},set:function e(t){this._rightWidth=t;this._refresh()}},{key:"topHeight",get:function e(){return this._topHeight},set:function e(t){this._topHeight=t;this._refresh()}},{key:"bottomHeight",get:function e(){return this._bottomHeight},set:function e(t){this._bottomHeight=t;this._refresh()}}]);return t}(a.default);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(23);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(r,n){o(this,t);var i=s(this,e.call(this,r));i.points=n;i.vertices=new Float32Array(n.length*4);i.uvs=new Float32Array(n.length*4);i.colors=new Float32Array(n.length*2);i.indices=new Uint16Array(n.length*2);i.autoUpdate=true;i.refresh();return i}t.prototype._refresh=function e(){var t=this.points;if(t.length<1||!this._texture._uvs){return}if(this.vertices.length/4!==t.length){this.vertices=new Float32Array(t.length*4);this.uvs=new Float32Array(t.length*4);this.colors=new Float32Array(t.length*2);this.indices=new Uint16Array(t.length*2)}var r=this.uvs;var n=this.indices;var i=this.colors;r[0]=0;r[1]=0;r[2]=0;r[3]=1;i[0]=1;i[1]=1;n[0]=0;n[1]=1;var a=t.length;for(var o=1;o<a;o++){var s=o*4;var u=o/(a-1);r[s]=u;r[s+1]=0;r[s+2]=u;r[s+3]=1;s=o*2;i[s]=1;i[s+1]=1;s=o*2;n[s]=s;n[s+1]=s+1}this.dirty++;this.indexDirty++;this.multiplyUvs();this.refreshVertices()};t.prototype.refreshVertices=function e(){var t=this.points;if(t.length<1){return}var r=t[0];var n=void 0;var i=0;var a=0;var o=this.vertices;var s=t.length;for(var u=0;u<s;u++){var l=t[u];var f=u*4;if(u<t.length-1){n=t[u+1]}else{n=l}a=-(n.x-r.x);i=n.y-r.y;var h=(1-u/(s-1))*10;if(h>1){h=1}var c=Math.sqrt(i*i+a*a);var d=this._texture.height/2;i/=c;a/=c;i*=d;a*=d;o[f]=l.x+i;o[f+1]=l.y+a;o[f+2]=l.x-i;o[f+3]=l.y-a;r=l}};t.prototype.updateTransform=function e(){if(this.autoUpdate){this.refreshVertices()}this.containerUpdateTransform()};return t}(i.default);t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(194);Object.defineProperty(t,"ParticleContainer",{enumerable:true,get:function e(){return a(n).default}});var i=r(195);Object.defineProperty(t,"ParticleRenderer",{enumerable:true,get:function e(){return a(i).default}});function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(0);var a=s(i);var o=r(2);function s(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function(e){f(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1500;var n=arguments[1];var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:16384;u(this,t);var o=l(this,e.call(this));var s=16384;if(i>s){i=s}if(i>r){i=r}o._properties=[false,true,false,false,false];o._maxSize=r;o._batchSize=i;o._glBuffers={};o._bufferToUpdate=0;o.interactiveChildren=false;o.blendMode=a.BLEND_MODES.NORMAL;o.roundPixels=true;o.baseTexture=null;o.setProperties(n);o._tint=0;o.tintRgb=new Float32Array(4);o.tint=16777215;return o}t.prototype.setProperties=function e(t){if(t){this._properties[0]="scale"in t?!!t.scale:this._properties[0];this._properties[1]="position"in t?!!t.position:this._properties[1];this._properties[2]="rotation"in t?!!t.rotation:this._properties[2];this._properties[3]="uvs"in t?!!t.uvs:this._properties[3];this._properties[4]="alpha"in t?!!t.alpha:this._properties[4]}};t.prototype.updateTransform=function e(){this.displayObjectUpdateTransform()};t.prototype.renderWebGL=function e(t){var r=this;if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return}if(!this.baseTexture){this.baseTexture=this.children[0]._texture.baseTexture;if(!this.baseTexture.hasLoaded){this.baseTexture.once("update",function(){return r.onChildrenChange(0)})}}t.setObjectRenderer(t.plugins.particle);t.plugins.particle.render(this)};t.prototype.onChildrenChange=function e(t){var r=Math.floor(t/this._batchSize);if(r<this._bufferToUpdate){this._bufferToUpdate=r}};t.prototype.renderCanvas=function e(t){if(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable){return}var r=t.context;var n=this.worldTransform;var i=true;var a=0;var o=0;var s=0;var u=0;var l=t.blendModes[this.blendMode];if(l!==r.globalCompositeOperation){r.globalCompositeOperation=l}r.globalAlpha=this.worldAlpha;this.displayObjectUpdateTransform();for(var f=0;f<this.children.length;++f){var h=this.children[f];if(!h.visible){continue}var c=h._texture.frame;r.globalAlpha=this.worldAlpha*h.alpha;if(h.rotation%(Math.PI*2)===0){if(i){r.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution);i=false}a=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5;o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5;s=c.width*h.scale.x;u=c.height*h.scale.y}else{if(!i){i=true}h.displayObjectUpdateTransform();var d=h.worldTransform;if(t.roundPixels){r.setTransform(d.a,d.b,d.c,d.d,d.tx*t.resolution|0,d.ty*t.resolution|0)}else{r.setTransform(d.a,d.b,d.c,d.d,d.tx*t.resolution,d.ty*t.resolution)}a=h.anchor.x*-c.width+.5;o=h.anchor.y*-c.height+.5;s=c.width;u=c.height}var p=h._texture.baseTexture.resolution;r.drawImage(h._texture.baseTexture.source,c.x*p,c.y*p,c.width*p,c.height*p,a*t.resolution,o*t.resolution,s*t.resolution,u*t.resolution)}};t.prototype.destroy=function t(r){e.prototype.destroy.call(this,r);if(this._buffers){for(var n=0;n<this._buffers.length;++n){this._buffers[n].destroy()}}this._properties=null;this._buffers=null};n(t,[{key:"tint",get:function e(){return this._tint},set:function e(t){this._tint=t;(0,o.hex2rgb)(t,this.tintRgb)}}]);return t}(a.Container);t.default=h},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=f(n);var a=r(196);var o=l(a);var s=r(197);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var p=function(e){d(t,e);function t(r){h(this,t);var n=c(this,e.call(this,r));n.shader=null;n.indexBuffer=null;n.properties=null;n.tempMatrix=new i.Matrix;n.CONTEXT_UID=0;return n}t.prototype.onContextChange=function e(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;this.shader=new o.default(t);this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]};t.prototype.start=function e(){this.renderer.bindShader(this.shader)};t.prototype.render=function e(t){var r=t.children;var n=t._maxSize;var a=t._batchSize;var o=this.renderer;var s=r.length;if(s===0){return}else if(s>n){s=n}var u=t._glBuffers[o.CONTEXT_UID];if(!u){u=t._glBuffers[o.CONTEXT_UID]=this.generateBuffers(t)}var l=r[0]._texture.baseTexture;this.renderer.setBlendMode(i.utils.correctBlendMode(t.blendMode,l.premultipliedAlpha));var f=o.gl;var h=t.worldTransform.copy(this.tempMatrix);h.prepend(o._activeRenderTarget.projectionMatrix);this.shader.uniforms.projectionMatrix=h.toArray(true);this.shader.uniforms.uColor=i.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,l.premultipliedAlpha);this.shader.uniforms.uSampler=o.bindTexture(l);for(var c=0,d=0;c<s;c+=a,d+=1){var p=s-c;if(p>a){p=a}var v=u[d];v.uploadDynamic(r,c,p);if(t._bufferToUpdate===d){v.uploadStatic(r,c,p);t._bufferToUpdate=d+1}o.bindVao(v.vao);v.vao.draw(f.TRIANGLES,p*6)}};t.prototype.generateBuffers=function e(t){var r=this.renderer.gl;var n=[];var i=t._maxSize;var a=t._batchSize;var o=t._properties;for(var s=0;s<i;s+=a){n.push(new u.default(r,this.properties,o,a))}return n};t.prototype.uploadVertices=function e(t,r,n,i,a,o){var s=0;var u=0;var l=0;var f=0;for(var h=0;h<n;++h){var c=t[r+h];var d=c._texture;var p=c.scale.x;var v=c.scale.y;var y=d.trim;var g=d.orig;if(y){u=y.x-c.anchor.x*g.width;s=u+y.width;f=y.y-c.anchor.y*g.height;l=f+y.height}else{s=g.width*(1-c.anchor.x);u=g.width*-c.anchor.x;l=g.height*(1-c.anchor.y);f=g.height*-c.anchor.y}i[o]=u*p;i[o+1]=f*v;i[o+a]=s*p;i[o+a+1]=f*v;i[o+a*2]=s*p;i[o+a*2+1]=l*v;i[o+a*3]=u*p;i[o+a*3+1]=l*v;o+=a*4}};t.prototype.uploadPosition=function e(t,r,n,i,a,o){for(var s=0;s<n;s++){var u=t[r+s].position;i[o]=u.x;i[o+1]=u.y;i[o+a]=u.x;i[o+a+1]=u.y;i[o+a*2]=u.x;i[o+a*2+1]=u.y;i[o+a*3]=u.x;i[o+a*3+1]=u.y;o+=a*4}};t.prototype.uploadRotation=function e(t,r,n,i,a,o){for(var s=0;s<n;s++){var u=t[r+s].rotation;i[o]=u;i[o+a]=u;i[o+a*2]=u;i[o+a*3]=u;o+=a*4}};t.prototype.uploadUvs=function e(t,r,n,i,a,o){for(var s=0;s<n;++s){var u=t[r+s]._texture._uvs;if(u){i[o]=u.x0;i[o+1]=u.y0;i[o+a]=u.x1;i[o+a+1]=u.y1;i[o+a*2]=u.x2;i[o+a*2+1]=u.y2;i[o+a*3]=u.x3;i[o+a*3+1]=u.y3;o+=a*4}else{i[o]=0;i[o+1]=0;i[o+a]=0;i[o+a+1]=0;i[o+a*2]=0;i[o+a*2+1]=0;i[o+a*3]=0;i[o+a*3+1]=0;o+=a*4}}};t.prototype.uploadAlpha=function e(t,r,n,i,a,o){for(var s=0;s<n;s++){var u=t[r+s].alpha;i[o]=u;i[o+a]=u;i[o+a*2]=u;i[o+a*3]=u;o+=a*4}};t.prototype.destroy=function t(){if(this.renderer.gl){this.renderer.gl.deleteBuffer(this.indexBuffer)}e.prototype.destroy.call(this);this.shader.destroy();this.indices=null;this.tempMatrix=null};return t}(i.ObjectRenderer);t.default=p;i.WebGLRenderer.registerPlugin("particle",p)},function(e,t,r){"use strict";t.__esModule=true;var n=r(21);var i=a(n);function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l=function(e){u(t,e);function t(r){o(this,t);return s(this,e.call(this,r,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform vec4 uColor;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uColor;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return t}(i.default);t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(5);var i=s(n);var a=r(45);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var l=function(){function e(t,r,n,i){u(this,e);this.gl=t;this.vertSize=2;this.vertByteSize=this.vertSize*4;this.size=i;this.dynamicProperties=[];this.staticProperties=[];for(var a=0;a<r.length;++a){var o=r[a];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,offset:o.offset};if(n[a]){this.dynamicProperties.push(o)}else{this.staticProperties.push(o)}}this.staticStride=0;this.staticBuffer=null;this.staticData=null;this.dynamicStride=0;this.dynamicBuffer=null;this.dynamicData=null;this.initBuffers()}e.prototype.initBuffers=function e(){var t=this.gl;var r=0;this.indices=(0,o.default)(this.size);this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var a=this.dynamicProperties[n];a.offset=r;r+=a.size;this.dynamicStride+=a.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4);this.dynamicBuffer=i.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var s=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var l=this.staticProperties[u];l.offset=s;s+=l.size;this.staticStride+=l.size}this.staticData=new Float32Array(this.size*this.staticStride*4);this.staticBuffer=i.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW);this.vao=new i.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var f=0;f<this.dynamicProperties.length;++f){var h=this.dynamicProperties[f];this.vao.addAttribute(this.dynamicBuffer,h.attribute,t.FLOAT,false,this.dynamicStride*4,h.offset*4)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,false,this.staticStride*4,d.offset*4)}};e.prototype.uploadDynamic=function e(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(t,r,n,this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer.upload()};e.prototype.uploadStatic=function e(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(t,r,n,this.staticData,this.staticStride,a.offset)}this.staticBuffer.upload()};e.prototype.destroy=function e(){this.dynamicProperties=null;this.dynamicData=null;this.dynamicBuffer.destroy();this.staticProperties=null;this.staticData=null;this.staticBuffer.destroy()};return e}();t.default=l},function(e,t,r){"use strict";t.__esModule=true;var n=r(199);Object.defineProperty(t,"webgl",{enumerable:true,get:function e(){return u(n).default}});var i=r(200);Object.defineProperty(t,"canvas",{enumerable:true,get:function e(){return u(i).default}});var a=r(48);Object.defineProperty(t,"BasePrepare",{enumerable:true,get:function e(){return u(a).default}});var o=r(100);Object.defineProperty(t,"CountLimiter",{enumerable:true,get:function e(){return u(o).default}});var s=r(201);Object.defineProperty(t,"TimeLimiter",{enumerable:true,get:function e(){return u(s).default}});function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=u(n);var a=r(48);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=function(e){h(t,e);function t(r){l(this,t);var n=f(this,e.call(this,r));n.uploadHookHelper=n.renderer;n.registerFindHook(v);n.registerUploadHook(d);n.registerUploadHook(p);return n}return t}(o.default);t.default=c;function d(e,t){if(t instanceof i.BaseTexture){if(!t._glTextures[e.CONTEXT_UID]){e.textureManager.updateTexture(t)}return true}return false}function p(e,t){if(t instanceof i.Graphics){if(t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID]){e.plugins.graphics.updateGraphics(t)}return true}return false}function v(e,t){if(e instanceof i.Graphics){t.push(e);return true}return false}i.WebGLRenderer.registerPlugin("prepare",c)},function(e,t,r){"use strict";t.__esModule=true;var n=r(0);var i=u(n);var a=r(48);var o=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=16;var d=function(e){h(t,e);function t(r){l(this,t);var n=f(this,e.call(this,r));n.uploadHookHelper=n;n.canvas=document.createElement("canvas");n.canvas.width=c;n.canvas.height=c;n.ctx=n.canvas.getContext("2d");n.registerUploadHook(p);return n}t.prototype.destroy=function t(){e.prototype.destroy.call(this);this.ctx=null;this.canvas=null};return t}(o.default);t.default=d;function p(e,t){if(t instanceof i.BaseTexture){var r=t.source;var n=r.width===0?e.canvas.width:Math.min(e.canvas.width,r.width);var a=r.height===0?e.canvas.height:Math.min(e.canvas.height,r.height);e.ctx.drawImage(r,0,0,n,a,0,0,e.canvas.width,e.canvas.height);return true}return false}i.CanvasRenderer.registerPlugin("prepare",d)},function(e,t,r){"use strict";t.__esModule=true;function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=function(){function e(t){n(this,e);this.maxMilliseconds=t;this.frameStart=0}e.prototype.beginFrame=function e(){this.frameStart=Date.now()};e.prototype.allowedToUpload=function e(){return Date.now()-this.frameStart<this.maxMilliseconds};return e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=b(i);var o=r(9);var s=b(o);var u=r(7);var l=r(11);var f=r(28);var h=b(f);var c=r(8);var d=b(c);var p=r(15);var v=b(p);var y=r(203);var g=b(y);var _=r(204);var m=b(_);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function T(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var E=function(e){w(t,e);function t(e){x(this,t);var r=T(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={loop:new h.default(e.fpsCap)};return r}n(t,[{key:"childContext",value:function e(){return{loop:this.state.loop}}},{key:"componentDidMount",value:function e(){this.state.loop.start()}},{key:"componentWillUnmount",value:function e(){this.state.loop.stop()}}]);return t}((0,d.default)(a.default.Component).with(v.default,(0,m.default)("loop"),(0,g.default)({loop:s.default.object.isRequired})));E.defaultProps={fpsCap:30};t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=s(i);var o=r(11);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h=function e(t){return function(e){var r=Object.keys(t);var i=(0,o.contextProvider)(t,function(e){var t=r.reduce(function(t,r){t[r]=e[r];return t},{});return t});return function(e){f(t,e);function t(){u(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function e(){var t=this.props.children;return a.default.createElement(i,this.childContext(),t)}}]);return t}(e)}};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(16);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var u=function e(t){return function(e){return function(e){s(r,e);function r(){a(this,r);return o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}n(r,[{key:"componentWillUpdate",value:function e(r){var n=this;Object.keys(r).forEach(function(e){n.state[t][e]=r[e]})}}]);return r}(e)}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=h(i);var o=r(9);var s=h(o);var u=r(7);var l=r(11);var f=r(16);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=(0,l.contextProvider)({resources:s.default.object.isRequired},function(e){return{resources:e.resources}});var y=function(e){p(t,e);n(t,null,[{key:"createLoaderFromResources",value:function e(t){var r=new u.loaders.Loader;t.forEach(function(e){r.add(e[0],e[1])});return r}}]);function t(e){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.state={loader:t.createLoaderFromResources(r.props.resources),loaded:false};return r}n(t,[{key:"componentDidMount",value:function e(){var t=this;console.log("Resource mount");var r=this.state.loader;r.load(function(e){t.setState({loaded:true,loader:e})})}},{key:"componentWillReceiveProps",value:function e(r){var n=this;if(!(0,f.deepCompareArray)(this.props.resources,r.resources)){this.setState({loaded:false});var i=t.createLoaderFromResources(r.resources);i.load(function(){return n.setState({loader:i,loaded:true})})}}},{key:"render",value:function e(){var t=this.props.children;var r=this.state,n=r.loaded,i=r.loader;if(n){return a.default.createElement(v,{resources:i.resources},t)}return null}}]);return t}(a.default.PureComponent);y.defaultProps={resources:[]};t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=r(6);var o=y(a);var s=r(9);var u=y(s);var l=r(7);var f=r(8);var h=y(f);var c=r(49);var d=y(c);var p=r(17);var v=r(11);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=function(e){m(t,e);function t(){g(this,t);return _(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"createSpriteWithProps",value:function e(t){var r=t.resources,i=t.res;if(typeof i==="string"){if(r&&r[i]){return new l.Sprite(r[i].texture)}return new l.Sprite(i)}if(r){var a=n(i,2),o=a[0],s=a[1];return new l.Sprite(r[o].textures[s])}throw new ReferenceError("Incorrect prop types")}}]);return t}((0,h.default)(o.default.Component).with(d.default));b.defaultProps={position:new p.Vector,anchor:new p.Vector(.5,.5),rotation:new p.Vector,scale:new p.Vector,alpha:1};var x={container:u.default.object.isRequired,resources:u.default.object};t.default=(0,v.withContext)(x)(b)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(7);var a=r(17);var o=r(8);var s=h(o);var u=r(29);var l=h(u);var f=r(16);function h(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var v=function e(t){return function(e){p(t,e);function t(){c(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"update",value:function e(t){var r=this.state.displayObject;var n=t.anchor,a=t.alpha,o=t.position,s=t.rotation,u=t.scale;r.anchor=new i.Point(n.x,n.y);r.alpha=a;r.setTransform(o.x,o.y,u.x,u.y,s.z)}},{key:"shouldComponentUpdate",value:function e(t,r){return r.displayObject!==this.state.displayObject||!(0,f.shallowCompare)(t,this.props)}},{key:"componentWillUpdate",value:function e(t,r){this.update(t);if(r.displayObject!==this.state.displayObject||t.container!==this.props.container){this.props.container.removeChild(this.state.displayObject);t.container.addChild(r.displayObject)}}},{key:"render",value:function e(){return null}}]);return t}((0,s.default)(t).with((0,l.default)("displayObject")))};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};var o=r(6);var s=m(o);var u=r(9);var l=m(u);var f=r(7);var h=r(28);var c=m(h);var d=r(8);var p=m(d);var v=r(49);var y=m(v);var g=r(17);var _=r(11);function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function x(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function T(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var w=function(e){T(t,e);function t(){b(this,t);return x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"update",value:function e(r){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,r);this.state.displayObject.animationSpeed=r.animationSpeed}},{key:"componentDidMount",value:function e(){var r=this.state.displayObject;this.props.loop.add(r.update);a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this)}},{key:"componentWillUnmount",value:function e(){var r=this.state.displayObject;this.props.loop.remove(r.update);a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this)}},{key:"createSpriteWithProps",value:function e(t){var r=t.resources,i=t.res,a=t.animationSpeed;var o=i.map(function(e){if(typeof e==="string"){if(r&&r[e]){return r[e].texture}else{return new f.Texture.fromImage(e)}}if(r){var t=n(e,2),i=t[0],a=t[1];return r[i].textures[a]}throw new ReferenceError("Incorrect prop types")});var s=new f.extras.AnimatedSprite(o,false);s.animationSpeed=a;s.update=s.update.bind(s);return s}}]);return t}((0,p.default)(s.default.Component).with(y.default));w.defaultProps={position:new g.Vector,anchor:new g.Vector(.5,.5),rotation:new g.Vector,scale:new g.Vector,alpha:1,animationSpeed:1};var E={container:l.default.object.isRequired,resources:l.default.object,loop:l.default.object.isRequired};t.default=(0,_.withContext)(E)(w)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){i=true;a=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var a=function e(t,r,n){if(t===null)t=Function.prototype;var i=Object.getOwnPropertyDescriptor(t,r);if(i===undefined){var a=Object.getPrototypeOf(t);if(a===null){return undefined}else{return e(a,r,n)}}else if("value"in i){return i.value}else{var o=i.get;if(o===undefined){return undefined}return o.call(n)}};var o=r(6);var s=g(o);var u=r(9);var l=g(u);var f=r(7);var h=r(8);var c=g(h);var d=r(49);var p=g(d);var v=r(17);var y=r(11);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var x=function(e){b(t,e);function t(){_(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}i(t,[{key:"update",value:function e(r){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,r);var n=this.props.size;var i=this.state.displayObject;i.width=n.x;i.height=n.y}},{key:"createSpriteWithProps",value:function e(t){var r=t.resources,i=t.res;if(typeof i==="string"){if(r&&r[i]){return new f.extras.TilingSprite(r[i].texture)}return f.extras.TilingSprite.fromImage(i)}if(r){var a=n(i,2),o=a[0],s=a[1];return new f.extras.TilingSprite(r[o].textures[s])}throw new ReferenceError("Incorrect prop types")}}]);return t}((0,c.default)(s.default.Component).with(p.default));x.defaultProps={position:new v.Vector,anchor:new v.Vector(.5,.5),rotation:new v.Vector,scale:new v.Vector,alpha:1};var T={container:l.default.object.isRequired,resources:l.default.object,loop:l.default.object.isRequired};t.default=(0,y.withContext)(T)(x)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=_(i);var o=r(9);var s=_(o);var u=r(11);var l=r(7);var f=r(8);var h=_(f);var c=r(15);var d=_(c);var p=r(101);var v=_(p);var y=r(29);var g=_(y);function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function x(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var T=function(e){x(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"drawGraphics",value:function e(){var t=this.state.graphics;var r=this.props,n=r.color,i=r.alpha,a=r.position,o=r.size,s=r.rotation;t.beginFill(n);t.position.x=a.x;t.position.y=a.y;t.drawRect(-(o.x/2),-(o.y/2),o.x,o.y);t.alpha=i;t.rotation=s.z;t.endFill()}},{key:"updateGraphics",value:function e(){var t=this.state.graphics;var r=this.props,n=r.color,i=r.alpha,a=r.position,o=r.size,s=r.rotation;t.setTransform(a.x,a.y,1,1,s.z);t.alpha=i;t.width=o.x;t.height=o.y;t.graphicsData[0].fillColor=n}}]);return t}((0,h.default)(a.default.Component).with(v.default));var w={container:s.default.object.isRequired};t.default=(0,u.withContext)(w)(T)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=_(i);var o=r(9);var s=_(o);var u=r(11);var l=r(7);var f=r(8);var h=_(f);var c=r(15);var d=_(c);var p=r(101);var v=_(p);var y=r(29);var g=_(y);function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function x(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var T=function(e){x(t,e);function t(){m(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"drawGraphics",value:function e(){var t=this.state.graphics;var r=this.props,n=r.color,i=r.alpha,a=r.position,o=r.size,s=r.rotation;t.beginFill(n);t.position.x=a.x;t.position.y=a.y;t.drawEllipse(0,0,o.x,o.y);t.alpha=i;t.rotation=s.z;t.endFill()}},{key:"updateGraphics",value:function e(){var t=this.state.graphics;var r=this.props,n=r.color,i=r.alpha,a=r.position,o=r.size,s=r.rotation;t.setTransform(a.x,a.y,1,1,s.z);t.alpha=i;t.width=o.x*2;t.height=o.y*2;t.graphicsData[0].fillColor=n}}]);return t}((0,h.default)(a.default.Component).with(v.default));var w={container:s.default.object.isRequired};t.default=(0,u.withContext)(w)(T)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(6);var a=g(i);var o=r(9);var s=g(o);var u=r(28);var l=g(u);var f=r(8);var h=g(f);var c=r(15);var d=g(c);var p=r(213);var v=g(p);var y=r(11);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var x=function(e){b(t,e);function t(){_(this,t);return m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"componentDidMount",value:function e(){var t=this.props,r=t.loop,n=t.onTick;r.add(this.props.onTick)}},{key:"componentWillUnmount",value:function e(){var t=this.props,r=t.loop,n=t.onTick;r.remove(n)}},{key:"componentWillUpdate",value:function e(t){this.props.loop.remove(this.props.onTick);t.loop.add(t.onTick)}}]);return t}((0,h.default)(a.default.Component).with(d.default,v.default));var T={loop:s.default.object.isRequired};t.default=(0,y.withContext)(T)(x)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}();var i=r(16);function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var u=function e(t){return function(e){s(t,e);function t(){a(this,t);return o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"render",value:function e(){return null}}]);return t}(t)};t.default=u}])});